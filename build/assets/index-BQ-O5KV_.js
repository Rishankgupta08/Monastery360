function LL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function AL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cg={exports:{}},lu={},ug={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function RL(){if(Ub)return lt;Ub=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function x(G){return G===null||typeof G!="object"?null:(G=y&&G[y]||G["@@iterator"],typeof G=="function"?G:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,I={};function P(G,ee,ce){this.props=G,this.context=ee,this.refs=I,this.updater=ce||E}P.prototype.isReactComponent={},P.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},P.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function D(){}D.prototype=P.prototype;function A(G,ee,ce){this.props=G,this.context=ee,this.refs=I,this.updater=ce||E}var z=A.prototype=new D;z.constructor=A,k(z,P.prototype),z.isPureReactComponent=!0;var H=Array.isArray,F=Object.prototype.hasOwnProperty,R={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function T(G,ee,ce){var ve,Z={},Pe=null,Se=null;if(ee!=null)for(ve in ee.ref!==void 0&&(Se=ee.ref),ee.key!==void 0&&(Pe=""+ee.key),ee)F.call(ee,ve)&&!M.hasOwnProperty(ve)&&(Z[ve]=ee[ve]);var ke=arguments.length-2;if(ke===1)Z.children=ce;else if(1<ke){for(var We=Array(ke),xe=0;xe<ke;xe++)We[xe]=arguments[xe+2];Z.children=We}if(G&&G.defaultProps)for(ve in ke=G.defaultProps,ke)Z[ve]===void 0&&(Z[ve]=ke[ve]);return{$$typeof:t,type:G,key:Pe,ref:Se,props:Z,_owner:R.current}}function C(G,ee){return{$$typeof:t,type:G.type,key:ee,ref:G.ref,props:G.props,_owner:G._owner}}function O(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function V(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ce){return ee[ce]})}var $=/\/+/g;function L(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?V(""+G.key):ee.toString(36)}function le(G,ee,ce,ve,Z){var Pe=typeof G;(Pe==="undefined"||Pe==="boolean")&&(G=null);var Se=!1;if(G===null)Se=!0;else switch(Pe){case"string":case"number":Se=!0;break;case"object":switch(G.$$typeof){case t:case e:Se=!0}}if(Se)return Se=G,Z=Z(Se),G=ve===""?"."+L(Se,0):ve,H(Z)?(ce="",G!=null&&(ce=G.replace($,"$&/")+"/"),le(Z,ee,ce,"",function(xe){return xe})):Z!=null&&(O(Z)&&(Z=C(Z,ce+(!Z.key||Se&&Se.key===Z.key?"":(""+Z.key).replace($,"$&/")+"/")+G)),ee.push(Z)),1;if(Se=0,ve=ve===""?".":ve+":",H(G))for(var ke=0;ke<G.length;ke++){Pe=G[ke];var We=ve+L(Pe,ke);Se+=le(Pe,ee,ce,We,Z)}else if(We=x(G),typeof We=="function")for(G=We.call(G),ke=0;!(Pe=G.next()).done;)Pe=Pe.value,We=ve+L(Pe,ke++),Se+=le(Pe,ee,ce,We,Z);else if(Pe==="object")throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Se}function pe(G,ee,ce){if(G==null)return G;var ve=[],Z=0;return le(G,ve,"","",function(Pe){return ee.call(ce,Pe,Z++)}),ve}function ge(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ce){(G._status===0||G._status===-1)&&(G._status=1,G._result=ce)},function(ce){(G._status===0||G._status===-1)&&(G._status=2,G._result=ce)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var re={current:null},B={transition:null},ue={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:B,ReactCurrentOwner:R};function oe(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:pe,forEach:function(G,ee,ce){pe(G,function(){ee.apply(this,arguments)},ce)},count:function(G){var ee=0;return pe(G,function(){ee++}),ee},toArray:function(G){return pe(G,function(ee){return ee})||[]},only:function(G){if(!O(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},lt.Component=P,lt.Fragment=n,lt.Profiler=s,lt.PureComponent=A,lt.StrictMode=r,lt.Suspense=u,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,lt.act=oe,lt.cloneElement=function(G,ee,ce){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var ve=k({},G.props),Z=G.key,Pe=G.ref,Se=G._owner;if(ee!=null){if(ee.ref!==void 0&&(Pe=ee.ref,Se=R.current),ee.key!==void 0&&(Z=""+ee.key),G.type&&G.type.defaultProps)var ke=G.type.defaultProps;for(We in ee)F.call(ee,We)&&!M.hasOwnProperty(We)&&(ve[We]=ee[We]===void 0&&ke!==void 0?ke[We]:ee[We])}var We=arguments.length-2;if(We===1)ve.children=ce;else if(1<We){ke=Array(We);for(var xe=0;xe<We;xe++)ke[xe]=arguments[xe+2];ve.children=ke}return{$$typeof:t,type:G.type,key:Z,ref:Pe,props:ve,_owner:Se}},lt.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:o,_context:G},G.Consumer=G},lt.createElement=T,lt.createFactory=function(G){var ee=T.bind(null,G);return ee.type=G,ee},lt.createRef=function(){return{current:null}},lt.forwardRef=function(G){return{$$typeof:c,render:G}},lt.isValidElement=O,lt.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:ge}},lt.memo=function(G,ee){return{$$typeof:f,type:G,compare:ee===void 0?null:ee}},lt.startTransition=function(G){var ee=B.transition;B.transition={};try{G()}finally{B.transition=ee}},lt.unstable_act=oe,lt.useCallback=function(G,ee){return re.current.useCallback(G,ee)},lt.useContext=function(G){return re.current.useContext(G)},lt.useDebugValue=function(){},lt.useDeferredValue=function(G){return re.current.useDeferredValue(G)},lt.useEffect=function(G,ee){return re.current.useEffect(G,ee)},lt.useId=function(){return re.current.useId()},lt.useImperativeHandle=function(G,ee,ce){return re.current.useImperativeHandle(G,ee,ce)},lt.useInsertionEffect=function(G,ee){return re.current.useInsertionEffect(G,ee)},lt.useLayoutEffect=function(G,ee){return re.current.useLayoutEffect(G,ee)},lt.useMemo=function(G,ee){return re.current.useMemo(G,ee)},lt.useReducer=function(G,ee,ce){return re.current.useReducer(G,ee,ce)},lt.useRef=function(G){return re.current.useRef(G)},lt.useState=function(G){return re.current.useState(G)},lt.useSyncExternalStore=function(G,ee,ce){return re.current.useSyncExternalStore(G,ee,ce)},lt.useTransition=function(){return re.current.useTransition()},lt.version="18.3.1",lt}var zb;function um(){return zb||(zb=1,ug.exports=RL()),ug.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function jL(){if(Bb)return lu;Bb=1;var t=um(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,f){var p,y={},x=null,E=null;f!==void 0&&(x=""+f),u.key!==void 0&&(x=""+u.key),u.ref!==void 0&&(E=u.ref);for(p in u)r.call(u,p)&&!o.hasOwnProperty(p)&&(y[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)y[p]===void 0&&(y[p]=u[p]);return{$$typeof:e,type:c,key:x,ref:E,props:y,_owner:s.current}}return lu.Fragment=n,lu.jsx=l,lu.jsxs=l,lu}var Hb;function DL(){return Hb||(Hb=1,cg.exports=jL()),cg.exports}var h=DL(),Mh={},dg={exports:{}},Sr={},hg={exports:{}},fg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function OL(){return $b||($b=1,(function(t){function e(B,ue){var oe=B.length;B.push(ue);e:for(;0<oe;){var G=oe-1>>>1,ee=B[G];if(0<s(ee,ue))B[G]=ue,B[oe]=ee,oe=G;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ue=B[0],oe=B.pop();if(oe!==ue){B[0]=oe;e:for(var G=0,ee=B.length,ce=ee>>>1;G<ce;){var ve=2*(G+1)-1,Z=B[ve],Pe=ve+1,Se=B[Pe];if(0>s(Z,oe))Pe<ee&&0>s(Se,Z)?(B[G]=Se,B[Pe]=oe,G=Pe):(B[G]=Z,B[ve]=oe,G=ve);else if(Pe<ee&&0>s(Se,oe))B[G]=Se,B[Pe]=oe,G=Pe;else break e}}return ue}function s(B,ue){var oe=B.sortIndex-ue.sortIndex;return oe!==0?oe:B.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],f=[],p=1,y=null,x=3,E=!1,k=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(B){for(var ue=n(f);ue!==null;){if(ue.callback===null)r(f);else if(ue.startTime<=B)r(f),ue.sortIndex=ue.expirationTime,e(u,ue);else break;ue=n(f)}}function H(B){if(I=!1,z(B),!k)if(n(u)!==null)k=!0,ge(F);else{var ue=n(f);ue!==null&&re(H,ue.startTime-B)}}function F(B,ue){k=!1,I&&(I=!1,D(T),T=-1),E=!0;var oe=x;try{for(z(ue),y=n(u);y!==null&&(!(y.expirationTime>ue)||B&&!V());){var G=y.callback;if(typeof G=="function"){y.callback=null,x=y.priorityLevel;var ee=G(y.expirationTime<=ue);ue=t.unstable_now(),typeof ee=="function"?y.callback=ee:y===n(u)&&r(u),z(ue)}else r(u);y=n(u)}if(y!==null)var ce=!0;else{var ve=n(f);ve!==null&&re(H,ve.startTime-ue),ce=!1}return ce}finally{y=null,x=oe,E=!1}}var R=!1,M=null,T=-1,C=5,O=-1;function V(){return!(t.unstable_now()-O<C)}function $(){if(M!==null){var B=t.unstable_now();O=B;var ue=!0;try{ue=M(!0,B)}finally{ue?L():(R=!1,M=null)}}else R=!1}var L;if(typeof A=="function")L=function(){A($)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,pe=le.port2;le.port1.onmessage=$,L=function(){pe.postMessage(null)}}else L=function(){P($,0)};function ge(B){M=B,R||(R=!0,L())}function re(B,ue){T=P(function(){B(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){k||E||(k=!0,ge(F))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(x){case 1:case 2:case 3:var ue=3;break;default:ue=x}var oe=x;x=ue;try{return B()}finally{x=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,ue){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=x;x=B;try{return ue()}finally{x=oe}},t.unstable_scheduleCallback=function(B,ue,oe){var G=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?G+oe:G):oe=G,B){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=oe+ee,B={id:p++,callback:ue,priorityLevel:B,startTime:oe,expirationTime:ee,sortIndex:-1},oe>G?(B.sortIndex=oe,e(f,B),n(u)===null&&B===n(f)&&(I?(D(T),T=-1):I=!0,re(H,oe-G))):(B.sortIndex=ee,e(u,B),k||E||(k=!0,ge(F))),B},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(B){var ue=x;return function(){var oe=x;x=ue;try{return B.apply(this,arguments)}finally{x=oe}}}})(fg)),fg}var Wb;function VL(){return Wb||(Wb=1,hg.exports=OL()),hg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function FL(){if(Gb)return Sr;Gb=1;var t=um(),e=VL();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function x(i){return u.call(y,i)?!0:u.call(p,i)?!1:f.test(i)?y[i]=!0:(p[i]=!0,!1)}function E(i,a,d,g){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,a,d,g){if(a===null||typeof a>"u"||E(i,a,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function I(i,a,d,g,w,b,N){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=d,this.propertyName=i,this.type=a,this.sanitizeURL=b,this.removeEmptyString=N}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new I(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];P[a]=new I(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new I(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new I(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new I(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new I(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new I(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new I(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new I(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function A(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(D,A);P[a]=new I(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(D,A);P[a]=new I(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(D,A);P[a]=new I(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new I(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new I(i,1,!1,i.toLowerCase(),null,!0,!0)});function z(i,a,d,g){var w=P.hasOwnProperty(a)?P[a]:null;(w!==null?w.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,d,w,g)&&(d=null),g||w===null?x(a)&&(d===null?i.removeAttribute(a):i.setAttribute(a,""+d)):w.mustUseProperty?i[w.propertyName]=d===null?w.type===3?!1:"":d:(a=w.attributeName,g=w.attributeNamespace,d===null?i.removeAttribute(a):(w=w.type,d=w===3||w===4&&d===!0?"":""+d,g?i.setAttributeNS(g,a,d):i.setAttribute(a,d))))}var H=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),B=Symbol.iterator;function ue(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,G;function ee(i){if(G===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);G=a&&a[1]||""}return`
`+G+i}var ce=!1;function ve(i,a){if(!i||ce)return"";ce=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ne){var g=ne}Reflect.construct(i,[],a)}else{try{a.call()}catch(ne){g=ne}i.call(a.prototype)}else{try{throw Error()}catch(ne){g=ne}i()}}catch(ne){if(ne&&g&&typeof ne.stack=="string"){for(var w=ne.stack.split(`
`),b=g.stack.split(`
`),N=w.length-1,U=b.length-1;1<=N&&0<=U&&w[N]!==b[U];)U--;for(;1<=N&&0<=U;N--,U--)if(w[N]!==b[U]){if(N!==1||U!==1)do if(N--,U--,0>U||w[N]!==b[U]){var q=`
`+w[N].replace(" at new "," at ");return i.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",i.displayName)),q}while(1<=N&&0<=U);break}}}finally{ce=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?ee(i):""}function Z(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=ve(i.type,!1),i;case 11:return i=ve(i.type.render,!1),i;case 1:return i=ve(i.type,!0),i;default:return""}}function Pe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case R:return"Portal";case C:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case le:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case $:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case pe:return a=i.displayName||null,a!==null?a:Pe(i.type)||"Memo";case ge:a=i._payload,i=i._init;try{return Pe(i(a))}catch{}}return null}function Se(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(a);case 8:return a===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ke(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xe(i){var a=We(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),g=""+i[a];if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var w=d.get,b=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return w.call(this)},set:function(N){g=""+N,b.call(this,N)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(N){g=""+N},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ye(i){i._valueTracker||(i._valueTracker=xe(i))}function zt(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),g="";return i&&(g=We(i)?i.checked?"true":"false":i.value),i=g,i!==d?(a.setValue(i),!0):!1}function dn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function hn(i,a){var d=a.checked;return oe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function yt(i,a){var d=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;d=ke(a.value!=null?a.value:d),i._wrapperState={initialChecked:g,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ps(i,a){a=a.checked,a!=null&&z(i,"checked",a,!1)}function or(i,a){ps(i,a);var d=ke(a.value),g=a.type;if(d!=null)g==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?jt(i,a.type,d):a.hasOwnProperty("defaultValue")&&jt(i,a.type,ke(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Os(i,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,d||a===i.value||(i.value=a),i.defaultValue=a}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function jt(i,a,d){(a!=="number"||dn(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var Vt=Array.isArray;function Sn(i,a,d,g){if(i=i.options,a){a={};for(var w=0;w<d.length;w++)a["$"+d[w]]=!0;for(d=0;d<i.length;d++)w=a.hasOwnProperty("$"+i[d].value),i[d].selected!==w&&(i[d].selected=w),w&&g&&(i[d].defaultSelected=!0)}else{for(d=""+ke(d),a=null,w=0;w<i.length;w++){if(i[w].value===d){i[w].selected=!0,g&&(i[w].defaultSelected=!0);return}a!==null||i[w].disabled||(a=i[w])}a!==null&&(a.selected=!0)}}function Hn(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function $n(i,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(Vt(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}i._wrapperState={initialValue:ke(d)}}function Vs(i,a){var d=ke(a.value),g=ke(a.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),a.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),g!=null&&(i.defaultValue=""+g)}function ar(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function An(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sn(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?An(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var yr,Ar=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,g,w){MSApp.execUnsafeLocalFunction(function(){return i(a,d,g,w)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(yr=yr||document.createElement("div"),yr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=yr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function Kr(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var Zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fs=["Webkit","ms","Moz","O"];Object.keys(Zt).forEach(function(i){Fs.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Zt[a]=Zt[i]})});function Wn(i,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Zt.hasOwnProperty(i)&&Zt[i]?(""+a).trim():a+"px"}function Yr(i,a){i=i.style;for(var d in a)if(a.hasOwnProperty(d)){var g=d.indexOf("--")===0,w=Wn(d,a[d],g);d==="float"&&(d="cssFloat"),g?i.setProperty(d,w):i[d]=w}}var Qr=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rn(i,a){if(a){if(Qr[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Gn(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vr=null;function lr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var wr=null,cr=null,Dt=null;function Rr(i){if(i=qc(i)){if(typeof wr!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Gd(a),wr(i.stateNode,i.type,a))}}function qn(i){cr?Dt?Dt.push(i):Dt=[i]:cr=i}function Tn(){if(cr){var i=cr,a=Dt;if(Dt=cr=null,Rr(i),a)for(i=0;i<a.length;i++)Rr(a[i])}}function _i(i,a){return i(a)}function gs(){}var W=!1;function Y(i,a,d){if(W)return i(a,d);W=!0;try{return _i(i,a,d)}finally{W=!1,(cr!==null||Dt!==null)&&(gs(),Tn())}}function te(i,a){var d=i.stateNode;if(d===null)return null;var g=Gd(d);if(g===null)return null;d=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var se=!1;if(c)try{var be={};Object.defineProperty(be,"passive",{get:function(){se=!0}}),window.addEventListener("test",be,be),window.removeEventListener("test",be,be)}catch{se=!1}function Oe(i,a,d,g,w,b,N,U,q){var ne=Array.prototype.slice.call(arguments,3);try{a.apply(d,ne)}catch(fe){this.onError(fe)}}var Le=!1,Te=null,Ve=!1,Fe=null,Be={onError:function(i){Le=!0,Te=i}};function Ue(i,a,d,g,w,b,N,U,q){Le=!1,Te=null,Oe.apply(Be,arguments)}function ot(i,a,d,g,w,b,N,U,q){if(Ue.apply(this,arguments),Le){if(Le){var ne=Te;Le=!1,Te=null}else throw Error(n(198));Ve||(Ve=!0,Fe=ne)}}function ft(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function Wt(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function fn(i){if(ft(i)!==i)throw Error(n(188))}function Rt(i){var a=i.alternate;if(!a){if(a=ft(i),a===null)throw Error(n(188));return a!==i?null:i}for(var d=i,g=a;;){var w=d.return;if(w===null)break;var b=w.alternate;if(b===null){if(g=w.return,g!==null){d=g;continue}break}if(w.child===b.child){for(b=w.child;b;){if(b===d)return fn(w),i;if(b===g)return fn(w),a;b=b.sibling}throw Error(n(188))}if(d.return!==g.return)d=w,g=b;else{for(var N=!1,U=w.child;U;){if(U===d){N=!0,d=w,g=b;break}if(U===g){N=!0,g=w,d=b;break}U=U.sibling}if(!N){for(U=b.child;U;){if(U===d){N=!0,d=b,g=w;break}if(U===g){N=!0,g=b,d=w;break}U=U.sibling}if(!N)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:a}function It(i){return i=Rt(i),i!==null?ur(i):null}function ur(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=ur(i);if(a!==null)return a;i=i.sibling}return null}var ys=e.unstable_scheduleCallback,dr=e.unstable_cancelCallback,Cn=e.unstable_shouldYield,jr=e.unstable_requestPaint,Tt=e.unstable_now,vs=e.unstable_getCurrentPriorityLevel,ws=e.unstable_ImmediatePriority,Us=e.unstable_UserBlockingPriority,it=e.unstable_NormalPriority,en=e.unstable_LowPriority,Dr=e.unstable_IdlePriority,hr=null,xt=null;function Ei(i){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(hr,i,void 0,(i.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:na,Xr=Math.log,Jr=Math.LN2;function na(i){return i>>>=0,i===0?32:31-(Xr(i)/Jr|0)|0}var zs=64,to=4194304;function Ct(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ki(i,a){var d=i.pendingLanes;if(d===0)return 0;var g=0,w=i.suspendedLanes,b=i.pingedLanes,N=d&268435455;if(N!==0){var U=N&~w;U!==0?g=Ct(U):(b&=N,b!==0&&(g=Ct(b)))}else N=d&~w,N!==0?g=Ct(N):b!==0&&(g=Ct(b));if(g===0)return 0;if(a!==0&&a!==g&&(a&w)===0&&(w=g&-g,b=a&-a,w>=b||w===16&&(b&4194240)!==0))return a;if((g&4)!==0&&(g|=d&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=g;0<a;)d=31-Kn(a),w=1<<d,g|=i[d],a&=~w;return g}function ra(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sa(i,a){for(var d=i.suspendedLanes,g=i.pingedLanes,w=i.expirationTimes,b=i.pendingLanes;0<b;){var N=31-Kn(b),U=1<<N,q=w[N];q===-1?((U&d)===0||(U&g)!==0)&&(w[N]=ra(U,a)):q<=a&&(i.expiredLanes|=U),b&=~U}}function Tc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Cc(){var i=zs;return zs<<=1,(zs&4194240)===0&&(zs=64),i}function Pc(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function ia(i,a,d){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Kn(a),i[a]=d}function zm(i,a){var d=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<d;){var w=31-Kn(d),b=1<<w;a[w]=0,g[w]=-1,i[w]=-1,d&=~b}}function Ic(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var g=31-Kn(d),w=1<<g;w&a|i[g]&a&&(i[g]|=a),d&=~w}}var vt=0;function Bs(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Nc,nl,Mc,Lc,Ac,Hs=!1,rl=[],$s=null,Ws=null,jn=null,oa=new Map,Si=new Map,Or=[],Nd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function no(i,a){switch(i){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":oa.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(a.pointerId)}}function xs(i,a,d,g,w,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:d,eventSystemFlags:g,nativeEvent:b,targetContainers:[w]},a!==null&&(a=qc(a),a!==null&&nl(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,w!==null&&a.indexOf(w)===-1&&a.push(w),i)}function Md(i,a,d,g,w){switch(a){case"focusin":return $s=xs($s,i,a,d,g,w),!0;case"dragenter":return Ws=xs(Ws,i,a,d,g,w),!0;case"mouseover":return jn=xs(jn,i,a,d,g,w),!0;case"pointerover":var b=w.pointerId;return oa.set(b,xs(oa.get(b)||null,i,a,d,g,w)),!0;case"gotpointercapture":return b=w.pointerId,Si.set(b,xs(Si.get(b)||null,i,a,d,g,w)),!0}return!1}function sl(i){var a=ua(i.target);if(a!==null){var d=ft(a);if(d!==null){if(a=d.tag,a===13){if(a=Wt(d),a!==null){i.blockedOn=a,Ac(i.priority,function(){Mc(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ot(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=il(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var g=new d.constructor(d.type,d);vr=g,d.target.dispatchEvent(g),vr=null}else return a=qc(d),a!==null&&nl(a),i.blockedOn=d,!1;a.shift()}return!0}function Ld(i,a,d){Ot(i)&&d.delete(a)}function Bm(){Hs=!1,$s!==null&&Ot($s)&&($s=null),Ws!==null&&Ot(Ws)&&(Ws=null),jn!==null&&Ot(jn)&&(jn=null),oa.forEach(Ld),Si.forEach(Ld)}function ro(i,a){i.blockedOn===a&&(i.blockedOn=null,Hs||(Hs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bm)))}function so(i){function a(w){return ro(w,i)}if(0<rl.length){ro(rl[0],i);for(var d=1;d<rl.length;d++){var g=rl[d];g.blockedOn===i&&(g.blockedOn=null)}}for($s!==null&&ro($s,i),Ws!==null&&ro(Ws,i),jn!==null&&ro(jn,i),oa.forEach(a),Si.forEach(a),d=0;d<Or.length;d++)g=Or[d],g.blockedOn===i&&(g.blockedOn=null);for(;0<Or.length&&(d=Or[0],d.blockedOn===null);)sl(d),d.blockedOn===null&&Or.shift()}var Ti=H.ReactCurrentBatchConfig,Ci=!0;function Gs(i,a,d,g){var w=vt,b=Ti.transition;Ti.transition=null;try{vt=1,Rc(i,a,d,g)}finally{vt=w,Ti.transition=b}}function Ad(i,a,d,g){var w=vt,b=Ti.transition;Ti.transition=null;try{vt=4,Rc(i,a,d,g)}finally{vt=w,Ti.transition=b}}function Rc(i,a,d,g){if(Ci){var w=il(i,a,d,g);if(w===null)Zm(i,a,g,qs,d),no(i,g);else if(Md(w,i,a,d,g))g.stopPropagation();else if(no(i,g),a&4&&-1<Nd.indexOf(i)){for(;w!==null;){var b=qc(w);if(b!==null&&Nc(b),b=il(i,a,d,g),b===null&&Zm(i,a,g,qs,d),b===w)break;w=b}w!==null&&g.stopPropagation()}else Zm(i,a,g,null,d)}}var qs=null;function il(i,a,d,g){if(qs=null,i=lr(g),i=ua(i),i!==null)if(a=ft(i),a===null)i=null;else if(d=a.tag,d===13){if(i=Wt(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return qs=i,null}function ol(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vs()){case ws:return 1;case Us:return 4;case it:case en:return 16;case Dr:return 536870912;default:return 16}default:return 16}}var Vr=null,al=null,Pi=null;function Rd(){if(Pi)return Pi;var i,a=al,d=a.length,g,w="value"in Vr?Vr.value:Vr.textContent,b=w.length;for(i=0;i<d&&a[i]===w[i];i++);var N=d-i;for(g=1;g<=N&&a[d-g]===w[b-g];g++);return Pi=w.slice(i,1<g?1-g:void 0)}function aa(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ks(){return!0}function jc(){return!1}function Yn(i){function a(d,g,w,b,N){this._reactName=d,this._targetInst=w,this.type=g,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(d=i[U],this[U]=d?d(b):b[U]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ks:jc,this.isPropagationStopped=jc,this}return oe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),a}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Yn(Ys),io=oe({},Ys,{view:0,detail:0}),ll=Yn(io),cl,ul,Fr,ca=oe({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fr&&(Fr&&i.type==="mousemove"?(cl=i.screenX-Fr.screenX,ul=i.screenY-Fr.screenY):ul=cl=0,Fr=i),cl)},movementY:function(i){return"movementY"in i?i.movementY:ul}}),Dc=Yn(ca),jd=oe({},ca,{dataTransfer:0}),Dd=Yn(jd),dl=oe({},io,{relatedTarget:0}),Dn=Yn(dl),Od=oe({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Vd=Yn(Od),oo=oe({},Ys,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),m=Yn(oo),_=oe({},Ys,{data:0}),S=Yn(_),j={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _e(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ie[i])?!!a[i]:!1}function nt(){return _e}var on=oe({},io,{key:function(i){if(i.key){var a=j[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=aa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?X[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nt,charCode:function(i){return i.type==="keypress"?aa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?aa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Lt=Yn(on),mn=oe({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ur=Yn(mn),Ii=oe({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nt}),Qs=Yn(Ii),Xs=oe({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),hl=Yn(Xs),Oc=oe({},ca,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),T2=Yn(Oc),C2=[9,13,27,32],Hm=c&&"CompositionEvent"in window,Vc=null;c&&"documentMode"in document&&(Vc=document.documentMode);var P2=c&&"TextEvent"in window&&!Vc,Lw=c&&(!Hm||Vc&&8<Vc&&11>=Vc),Aw=" ",Rw=!1;function jw(i,a){switch(i){case"keyup":return C2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fl=!1;function I2(i,a){switch(i){case"compositionend":return Dw(a);case"keypress":return a.which!==32?null:(Rw=!0,Aw);case"textInput":return i=a.data,i===Aw&&Rw?null:i;default:return null}}function N2(i,a){if(fl)return i==="compositionend"||!Hm&&jw(i,a)?(i=Rd(),Pi=al=Vr=null,fl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Lw&&a.locale!=="ko"?null:a.data;default:return null}}var M2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ow(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!M2[i.type]:a==="textarea"}function Vw(i,a,d,g){qn(g),a=Hd(a,"onChange"),0<a.length&&(d=new la("onChange","change",null,d,g),i.push({event:d,listeners:a}))}var Fc=null,Uc=null;function L2(i){nx(i,0)}function Fd(i){var a=vl(i);if(zt(a))return i}function A2(i,a){if(i==="change")return a}var Fw=!1;if(c){var $m;if(c){var Wm="oninput"in document;if(!Wm){var Uw=document.createElement("div");Uw.setAttribute("oninput","return;"),Wm=typeof Uw.oninput=="function"}$m=Wm}else $m=!1;Fw=$m&&(!document.documentMode||9<document.documentMode)}function zw(){Fc&&(Fc.detachEvent("onpropertychange",Bw),Uc=Fc=null)}function Bw(i){if(i.propertyName==="value"&&Fd(Uc)){var a=[];Vw(a,Uc,i,lr(i)),Y(L2,a)}}function R2(i,a,d){i==="focusin"?(zw(),Fc=a,Uc=d,Fc.attachEvent("onpropertychange",Bw)):i==="focusout"&&zw()}function j2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fd(Uc)}function D2(i,a){if(i==="click")return Fd(a)}function O2(i,a){if(i==="input"||i==="change")return Fd(a)}function V2(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var bs=typeof Object.is=="function"?Object.is:V2;function zc(i,a){if(bs(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),g=Object.keys(a);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var w=d[g];if(!u.call(a,w)||!bs(i[w],a[w]))return!1}return!0}function Hw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $w(i,a){var d=Hw(i);i=0;for(var g;d;){if(d.nodeType===3){if(g=i+d.textContent.length,i<=a&&g>=a)return{node:d,offset:a-i};i=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Hw(d)}}function Ww(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Ww(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Gw(){for(var i=window,a=dn();a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)i=a.contentWindow;else break;a=dn(i.document)}return a}function Gm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function F2(i){var a=Gw(),d=i.focusedElem,g=i.selectionRange;if(a!==d&&d&&d.ownerDocument&&Ww(d.ownerDocument.documentElement,d)){if(g!==null&&Gm(d)){if(a=g.start,i=g.end,i===void 0&&(i=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(i,d.value.length);else if(i=(a=d.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var w=d.textContent.length,b=Math.min(g.start,w);g=g.end===void 0?b:Math.min(g.end,w),!i.extend&&b>g&&(w=g,g=b,b=w),w=$w(d,b);var N=$w(d,g);w&&N&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==N.node||i.focusOffset!==N.offset)&&(a=a.createRange(),a.setStart(w.node,w.offset),i.removeAllRanges(),b>g?(i.addRange(a),i.extend(N.node,N.offset)):(a.setEnd(N.node,N.offset),i.addRange(a)))}}for(a=[],i=d;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)i=a[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var U2=c&&"documentMode"in document&&11>=document.documentMode,ml=null,qm=null,Bc=null,Km=!1;function qw(i,a,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Km||ml==null||ml!==dn(g)||(g=ml,"selectionStart"in g&&Gm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Bc&&zc(Bc,g)||(Bc=g,g=Hd(qm,"onSelect"),0<g.length&&(a=new la("onSelect","select",null,a,d),i.push({event:a,listeners:g}),a.target=ml)))}function Ud(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var pl={animationend:Ud("Animation","AnimationEnd"),animationiteration:Ud("Animation","AnimationIteration"),animationstart:Ud("Animation","AnimationStart"),transitionend:Ud("Transition","TransitionEnd")},Ym={},Kw={};c&&(Kw=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function zd(i){if(Ym[i])return Ym[i];if(!pl[i])return i;var a=pl[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in Kw)return Ym[i]=a[d];return i}var Yw=zd("animationend"),Qw=zd("animationiteration"),Xw=zd("animationstart"),Jw=zd("transitionend"),Zw=new Map,ex="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(i,a){Zw.set(i,a),o(a,[i])}for(var Qm=0;Qm<ex.length;Qm++){var Xm=ex[Qm],z2=Xm.toLowerCase(),B2=Xm[0].toUpperCase()+Xm.slice(1);ao(z2,"on"+B2)}ao(Yw,"onAnimationEnd"),ao(Qw,"onAnimationIteration"),ao(Xw,"onAnimationStart"),ao("dblclick","onDoubleClick"),ao("focusin","onFocus"),ao("focusout","onBlur"),ao(Jw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hc));function tx(i,a,d){var g=i.type||"unknown-event";i.currentTarget=d,ot(g,a,void 0,i),i.currentTarget=null}function nx(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var g=i[d],w=g.event;g=g.listeners;e:{var b=void 0;if(a)for(var N=g.length-1;0<=N;N--){var U=g[N],q=U.instance,ne=U.currentTarget;if(U=U.listener,q!==b&&w.isPropagationStopped())break e;tx(w,U,ne),b=q}else for(N=0;N<g.length;N++){if(U=g[N],q=U.instance,ne=U.currentTarget,U=U.listener,q!==b&&w.isPropagationStopped())break e;tx(w,U,ne),b=q}}}if(Ve)throw i=Fe,Ve=!1,Fe=null,i}function Bt(i,a){var d=a[ip];d===void 0&&(d=a[ip]=new Set);var g=i+"__bubble";d.has(g)||(rx(a,i,2,!1),d.add(g))}function Jm(i,a,d){var g=0;a&&(g|=4),rx(d,i,g,a)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function $c(i){if(!i[Bd]){i[Bd]=!0,r.forEach(function(d){d!=="selectionchange"&&(H2.has(d)||Jm(d,!1,i),Jm(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Bd]||(a[Bd]=!0,Jm("selectionchange",!1,a))}}function rx(i,a,d,g){switch(ol(a)){case 1:var w=Gs;break;case 4:w=Ad;break;default:w=Rc}d=w.bind(null,a,d,i),w=void 0,!se||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(w=!0),g?w!==void 0?i.addEventListener(a,d,{capture:!0,passive:w}):i.addEventListener(a,d,!0):w!==void 0?i.addEventListener(a,d,{passive:w}):i.addEventListener(a,d,!1)}function Zm(i,a,d,g,w){var b=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var N=g.tag;if(N===3||N===4){var U=g.stateNode.containerInfo;if(U===w||U.nodeType===8&&U.parentNode===w)break;if(N===4)for(N=g.return;N!==null;){var q=N.tag;if((q===3||q===4)&&(q=N.stateNode.containerInfo,q===w||q.nodeType===8&&q.parentNode===w))return;N=N.return}for(;U!==null;){if(N=ua(U),N===null)return;if(q=N.tag,q===5||q===6){g=b=N;continue e}U=U.parentNode}}g=g.return}Y(function(){var ne=b,fe=lr(d),ye=[];e:{var he=Zw.get(i);if(he!==void 0){var Ce=la,Ae=i;switch(i){case"keypress":if(aa(d)===0)break e;case"keydown":case"keyup":Ce=Lt;break;case"focusin":Ae="focus",Ce=Dn;break;case"focusout":Ae="blur",Ce=Dn;break;case"beforeblur":case"afterblur":Ce=Dn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=Qs;break;case Yw:case Qw:case Xw:Ce=Vd;break;case Jw:Ce=hl;break;case"scroll":Ce=ll;break;case"wheel":Ce=T2;break;case"copy":case"cut":case"paste":Ce=m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Ur}var De=(a&4)!==0,an=!De&&i==="scroll",Q=De?he!==null?he+"Capture":null:he;De=[];for(var K=ne,J;K!==null;){J=K;var we=J.stateNode;if(J.tag===5&&we!==null&&(J=we,Q!==null&&(we=te(K,Q),we!=null&&De.push(Wc(K,we,J)))),an)break;K=K.return}0<De.length&&(he=new Ce(he,Ae,null,d,fe),ye.push({event:he,listeners:De}))}}if((a&7)===0){e:{if(he=i==="mouseover"||i==="pointerover",Ce=i==="mouseout"||i==="pointerout",he&&d!==vr&&(Ae=d.relatedTarget||d.fromElement)&&(ua(Ae)||Ae[Ni]))break e;if((Ce||he)&&(he=fe.window===fe?fe:(he=fe.ownerDocument)?he.defaultView||he.parentWindow:window,Ce?(Ae=d.relatedTarget||d.toElement,Ce=ne,Ae=Ae?ua(Ae):null,Ae!==null&&(an=ft(Ae),Ae!==an||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Ce=null,Ae=ne),Ce!==Ae)){if(De=Dc,we="onMouseLeave",Q="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(De=Ur,we="onPointerLeave",Q="onPointerEnter",K="pointer"),an=Ce==null?he:vl(Ce),J=Ae==null?he:vl(Ae),he=new De(we,K+"leave",Ce,d,fe),he.target=an,he.relatedTarget=J,we=null,ua(fe)===ne&&(De=new De(Q,K+"enter",Ae,d,fe),De.target=J,De.relatedTarget=an,we=De),an=we,Ce&&Ae)t:{for(De=Ce,Q=Ae,K=0,J=De;J;J=gl(J))K++;for(J=0,we=Q;we;we=gl(we))J++;for(;0<K-J;)De=gl(De),K--;for(;0<J-K;)Q=gl(Q),J--;for(;K--;){if(De===Q||Q!==null&&De===Q.alternate)break t;De=gl(De),Q=gl(Q)}De=null}else De=null;Ce!==null&&sx(ye,he,Ce,De,!1),Ae!==null&&an!==null&&sx(ye,an,Ae,De,!0)}}e:{if(he=ne?vl(ne):window,Ce=he.nodeName&&he.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&he.type==="file")var He=A2;else if(Ow(he))if(Fw)He=O2;else{He=j2;var Ge=R2}else(Ce=he.nodeName)&&Ce.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(He=D2);if(He&&(He=He(i,ne))){Vw(ye,He,d,fe);break e}Ge&&Ge(i,he,ne),i==="focusout"&&(Ge=he._wrapperState)&&Ge.controlled&&he.type==="number"&&jt(he,"number",he.value)}switch(Ge=ne?vl(ne):window,i){case"focusin":(Ow(Ge)||Ge.contentEditable==="true")&&(ml=Ge,qm=ne,Bc=null);break;case"focusout":Bc=qm=ml=null;break;case"mousedown":Km=!0;break;case"contextmenu":case"mouseup":case"dragend":Km=!1,qw(ye,d,fe);break;case"selectionchange":if(U2)break;case"keydown":case"keyup":qw(ye,d,fe)}var qe;if(Hm)e:{switch(i){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else fl?jw(i,d)&&(et="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(et="onCompositionStart");et&&(Lw&&d.locale!=="ko"&&(fl||et!=="onCompositionStart"?et==="onCompositionEnd"&&fl&&(qe=Rd()):(Vr=fe,al="value"in Vr?Vr.value:Vr.textContent,fl=!0)),Ge=Hd(ne,et),0<Ge.length&&(et=new S(et,i,null,d,fe),ye.push({event:et,listeners:Ge}),qe?et.data=qe:(qe=Dw(d),qe!==null&&(et.data=qe)))),(qe=P2?I2(i,d):N2(i,d))&&(ne=Hd(ne,"onBeforeInput"),0<ne.length&&(fe=new S("onBeforeInput","beforeinput",null,d,fe),ye.push({event:fe,listeners:ne}),fe.data=qe))}nx(ye,a)})}function Wc(i,a,d){return{instance:i,listener:a,currentTarget:d}}function Hd(i,a){for(var d=a+"Capture",g=[];i!==null;){var w=i,b=w.stateNode;w.tag===5&&b!==null&&(w=b,b=te(i,d),b!=null&&g.unshift(Wc(i,b,w)),b=te(i,a),b!=null&&g.push(Wc(i,b,w))),i=i.return}return g}function gl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function sx(i,a,d,g,w){for(var b=a._reactName,N=[];d!==null&&d!==g;){var U=d,q=U.alternate,ne=U.stateNode;if(q!==null&&q===g)break;U.tag===5&&ne!==null&&(U=ne,w?(q=te(d,b),q!=null&&N.unshift(Wc(d,q,U))):w||(q=te(d,b),q!=null&&N.push(Wc(d,q,U)))),d=d.return}N.length!==0&&i.push({event:a,listeners:N})}var $2=/\r\n?/g,W2=/\u0000|\uFFFD/g;function ix(i){return(typeof i=="string"?i:""+i).replace($2,`
`).replace(W2,"")}function $d(i,a,d){if(a=ix(a),ix(i)!==a&&d)throw Error(n(425))}function Wd(){}var ep=null,tp=null;function np(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var rp=typeof setTimeout=="function"?setTimeout:void 0,G2=typeof clearTimeout=="function"?clearTimeout:void 0,ox=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof ox<"u"?function(i){return ox.resolve(null).then(i).catch(K2)}:rp;function K2(i){setTimeout(function(){throw i})}function sp(i,a){var d=a,g=0;do{var w=d.nextSibling;if(i.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(g===0){i.removeChild(w),so(a);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=w}while(d);so(a)}function lo(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function ax(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return i;a--}else d==="/$"&&a++}i=i.previousSibling}return null}var yl=Math.random().toString(36).slice(2),Js="__reactFiber$"+yl,Gc="__reactProps$"+yl,Ni="__reactContainer$"+yl,ip="__reactEvents$"+yl,Y2="__reactListeners$"+yl,Q2="__reactHandles$"+yl;function ua(i){var a=i[Js];if(a)return a;for(var d=i.parentNode;d;){if(a=d[Ni]||d[Js]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=ax(i);i!==null;){if(d=i[Js])return d;i=ax(i)}return a}i=d,d=i.parentNode}return null}function qc(i){return i=i[Js]||i[Ni],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function vl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Gd(i){return i[Gc]||null}var op=[],wl=-1;function co(i){return{current:i}}function Ht(i){0>wl||(i.current=op[wl],op[wl]=null,wl--)}function Ft(i,a){wl++,op[wl]=i.current,i.current=a}var uo={},Qn=co(uo),xr=co(!1),da=uo;function xl(i,a){var d=i.type.contextTypes;if(!d)return uo;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var w={},b;for(b in d)w[b]=a[b];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=w),w}function br(i){return i=i.childContextTypes,i!=null}function qd(){Ht(xr),Ht(Qn)}function lx(i,a,d){if(Qn.current!==uo)throw Error(n(168));Ft(Qn,a),Ft(xr,d)}function cx(i,a,d){var g=i.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var w in g)if(!(w in a))throw Error(n(108,Se(i)||"Unknown",w));return oe({},d,g)}function Kd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||uo,da=Qn.current,Ft(Qn,i),Ft(xr,xr.current),!0}function ux(i,a,d){var g=i.stateNode;if(!g)throw Error(n(169));d?(i=cx(i,a,da),g.__reactInternalMemoizedMergedChildContext=i,Ht(xr),Ht(Qn),Ft(Qn,i)):Ht(xr),Ft(xr,d)}var Mi=null,Yd=!1,ap=!1;function dx(i){Mi===null?Mi=[i]:Mi.push(i)}function X2(i){Yd=!0,dx(i)}function ho(){if(!ap&&Mi!==null){ap=!0;var i=0,a=vt;try{var d=Mi;for(vt=1;i<d.length;i++){var g=d[i];do g=g(!0);while(g!==null)}Mi=null,Yd=!1}catch(w){throw Mi!==null&&(Mi=Mi.slice(i+1)),ys(ws,ho),w}finally{vt=a,ap=!1}}return null}var bl=[],_l=0,Qd=null,Xd=0,Zr=[],es=0,ha=null,Li=1,Ai="";function fa(i,a){bl[_l++]=Xd,bl[_l++]=Qd,Qd=i,Xd=a}function hx(i,a,d){Zr[es++]=Li,Zr[es++]=Ai,Zr[es++]=ha,ha=i;var g=Li;i=Ai;var w=32-Kn(g)-1;g&=~(1<<w),d+=1;var b=32-Kn(a)+w;if(30<b){var N=w-w%5;b=(g&(1<<N)-1).toString(32),g>>=N,w-=N,Li=1<<32-Kn(a)+w|d<<w|g,Ai=b+i}else Li=1<<b|d<<w|g,Ai=i}function lp(i){i.return!==null&&(fa(i,1),hx(i,1,0))}function cp(i){for(;i===Qd;)Qd=bl[--_l],bl[_l]=null,Xd=bl[--_l],bl[_l]=null;for(;i===ha;)ha=Zr[--es],Zr[es]=null,Ai=Zr[--es],Zr[es]=null,Li=Zr[--es],Zr[es]=null}var zr=null,Br=null,Gt=!1,_s=null;function fx(i,a){var d=ss(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=i,a=i.deletions,a===null?(i.deletions=[d],i.flags|=16):a.push(d)}function mx(i,a){switch(i.tag){case 5:var d=i.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,zr=i,Br=lo(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,zr=i,Br=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=ha!==null?{id:Li,overflow:Ai}:null,i.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=ss(18,null,null,0),d.stateNode=a,d.return=i,i.child=d,zr=i,Br=null,!0):!1;default:return!1}}function up(i){return(i.mode&1)!==0&&(i.flags&128)===0}function dp(i){if(Gt){var a=Br;if(a){var d=a;if(!mx(i,a)){if(up(i))throw Error(n(418));a=lo(d.nextSibling);var g=zr;a&&mx(i,a)?fx(g,d):(i.flags=i.flags&-4097|2,Gt=!1,zr=i)}}else{if(up(i))throw Error(n(418));i.flags=i.flags&-4097|2,Gt=!1,zr=i}}}function px(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;zr=i}function Jd(i){if(i!==zr)return!1;if(!Gt)return px(i),Gt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!np(i.type,i.memoizedProps)),a&&(a=Br)){if(up(i))throw gx(),Error(n(418));for(;a;)fx(i,a),a=lo(a.nextSibling)}if(px(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(a===0){Br=lo(i.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}i=i.nextSibling}Br=null}}else Br=zr?lo(i.stateNode.nextSibling):null;return!0}function gx(){for(var i=Br;i;)i=lo(i.nextSibling)}function El(){Br=zr=null,Gt=!1}function hp(i){_s===null?_s=[i]:_s.push(i)}var J2=H.ReactCurrentBatchConfig;function Kc(i,a,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,i));var w=g,b=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(N){var U=w.refs;N===null?delete U[b]:U[b]=N},a._stringRef=b,a)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function Zd(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function yx(i){var a=i._init;return a(i._payload)}function vx(i){function a(Q,K){if(i){var J=Q.deletions;J===null?(Q.deletions=[K],Q.flags|=16):J.push(K)}}function d(Q,K){if(!i)return null;for(;K!==null;)a(Q,K),K=K.sibling;return null}function g(Q,K){for(Q=new Map;K!==null;)K.key!==null?Q.set(K.key,K):Q.set(K.index,K),K=K.sibling;return Q}function w(Q,K){return Q=xo(Q,K),Q.index=0,Q.sibling=null,Q}function b(Q,K,J){return Q.index=J,i?(J=Q.alternate,J!==null?(J=J.index,J<K?(Q.flags|=2,K):J):(Q.flags|=2,K)):(Q.flags|=1048576,K)}function N(Q){return i&&Q.alternate===null&&(Q.flags|=2),Q}function U(Q,K,J,we){return K===null||K.tag!==6?(K=rg(J,Q.mode,we),K.return=Q,K):(K=w(K,J),K.return=Q,K)}function q(Q,K,J,we){var He=J.type;return He===M?fe(Q,K,J.props.children,we,J.key):K!==null&&(K.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===ge&&yx(He)===K.type)?(we=w(K,J.props),we.ref=Kc(Q,K,J),we.return=Q,we):(we=Eh(J.type,J.key,J.props,null,Q.mode,we),we.ref=Kc(Q,K,J),we.return=Q,we)}function ne(Q,K,J,we){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=sg(J,Q.mode,we),K.return=Q,K):(K=w(K,J.children||[]),K.return=Q,K)}function fe(Q,K,J,we,He){return K===null||K.tag!==7?(K=ba(J,Q.mode,we,He),K.return=Q,K):(K=w(K,J),K.return=Q,K)}function ye(Q,K,J){if(typeof K=="string"&&K!==""||typeof K=="number")return K=rg(""+K,Q.mode,J),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return J=Eh(K.type,K.key,K.props,null,Q.mode,J),J.ref=Kc(Q,null,K),J.return=Q,J;case R:return K=sg(K,Q.mode,J),K.return=Q,K;case ge:var we=K._init;return ye(Q,we(K._payload),J)}if(Vt(K)||ue(K))return K=ba(K,Q.mode,J,null),K.return=Q,K;Zd(Q,K)}return null}function he(Q,K,J,we){var He=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return He!==null?null:U(Q,K,""+J,we);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case F:return J.key===He?q(Q,K,J,we):null;case R:return J.key===He?ne(Q,K,J,we):null;case ge:return He=J._init,he(Q,K,He(J._payload),we)}if(Vt(J)||ue(J))return He!==null?null:fe(Q,K,J,we,null);Zd(Q,J)}return null}function Ce(Q,K,J,we,He){if(typeof we=="string"&&we!==""||typeof we=="number")return Q=Q.get(J)||null,U(K,Q,""+we,He);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case F:return Q=Q.get(we.key===null?J:we.key)||null,q(K,Q,we,He);case R:return Q=Q.get(we.key===null?J:we.key)||null,ne(K,Q,we,He);case ge:var Ge=we._init;return Ce(Q,K,J,Ge(we._payload),He)}if(Vt(we)||ue(we))return Q=Q.get(J)||null,fe(K,Q,we,He,null);Zd(K,we)}return null}function Ae(Q,K,J,we){for(var He=null,Ge=null,qe=K,et=K=0,Nn=null;qe!==null&&et<J.length;et++){qe.index>et?(Nn=qe,qe=null):Nn=qe.sibling;var Et=he(Q,qe,J[et],we);if(Et===null){qe===null&&(qe=Nn);break}i&&qe&&Et.alternate===null&&a(Q,qe),K=b(Et,K,et),Ge===null?He=Et:Ge.sibling=Et,Ge=Et,qe=Nn}if(et===J.length)return d(Q,qe),Gt&&fa(Q,et),He;if(qe===null){for(;et<J.length;et++)qe=ye(Q,J[et],we),qe!==null&&(K=b(qe,K,et),Ge===null?He=qe:Ge.sibling=qe,Ge=qe);return Gt&&fa(Q,et),He}for(qe=g(Q,qe);et<J.length;et++)Nn=Ce(qe,Q,et,J[et],we),Nn!==null&&(i&&Nn.alternate!==null&&qe.delete(Nn.key===null?et:Nn.key),K=b(Nn,K,et),Ge===null?He=Nn:Ge.sibling=Nn,Ge=Nn);return i&&qe.forEach(function(bo){return a(Q,bo)}),Gt&&fa(Q,et),He}function De(Q,K,J,we){var He=ue(J);if(typeof He!="function")throw Error(n(150));if(J=He.call(J),J==null)throw Error(n(151));for(var Ge=He=null,qe=K,et=K=0,Nn=null,Et=J.next();qe!==null&&!Et.done;et++,Et=J.next()){qe.index>et?(Nn=qe,qe=null):Nn=qe.sibling;var bo=he(Q,qe,Et.value,we);if(bo===null){qe===null&&(qe=Nn);break}i&&qe&&bo.alternate===null&&a(Q,qe),K=b(bo,K,et),Ge===null?He=bo:Ge.sibling=bo,Ge=bo,qe=Nn}if(Et.done)return d(Q,qe),Gt&&fa(Q,et),He;if(qe===null){for(;!Et.done;et++,Et=J.next())Et=ye(Q,Et.value,we),Et!==null&&(K=b(Et,K,et),Ge===null?He=Et:Ge.sibling=Et,Ge=Et);return Gt&&fa(Q,et),He}for(qe=g(Q,qe);!Et.done;et++,Et=J.next())Et=Ce(qe,Q,et,Et.value,we),Et!==null&&(i&&Et.alternate!==null&&qe.delete(Et.key===null?et:Et.key),K=b(Et,K,et),Ge===null?He=Et:Ge.sibling=Et,Ge=Et);return i&&qe.forEach(function(ML){return a(Q,ML)}),Gt&&fa(Q,et),He}function an(Q,K,J,we){if(typeof J=="object"&&J!==null&&J.type===M&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case F:e:{for(var He=J.key,Ge=K;Ge!==null;){if(Ge.key===He){if(He=J.type,He===M){if(Ge.tag===7){d(Q,Ge.sibling),K=w(Ge,J.props.children),K.return=Q,Q=K;break e}}else if(Ge.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===ge&&yx(He)===Ge.type){d(Q,Ge.sibling),K=w(Ge,J.props),K.ref=Kc(Q,Ge,J),K.return=Q,Q=K;break e}d(Q,Ge);break}else a(Q,Ge);Ge=Ge.sibling}J.type===M?(K=ba(J.props.children,Q.mode,we,J.key),K.return=Q,Q=K):(we=Eh(J.type,J.key,J.props,null,Q.mode,we),we.ref=Kc(Q,K,J),we.return=Q,Q=we)}return N(Q);case R:e:{for(Ge=J.key;K!==null;){if(K.key===Ge)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){d(Q,K.sibling),K=w(K,J.children||[]),K.return=Q,Q=K;break e}else{d(Q,K);break}else a(Q,K);K=K.sibling}K=sg(J,Q.mode,we),K.return=Q,Q=K}return N(Q);case ge:return Ge=J._init,an(Q,K,Ge(J._payload),we)}if(Vt(J))return Ae(Q,K,J,we);if(ue(J))return De(Q,K,J,we);Zd(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,K!==null&&K.tag===6?(d(Q,K.sibling),K=w(K,J),K.return=Q,Q=K):(d(Q,K),K=rg(J,Q.mode,we),K.return=Q,Q=K),N(Q)):d(Q,K)}return an}var kl=vx(!0),wx=vx(!1),eh=co(null),th=null,Sl=null,fp=null;function mp(){fp=Sl=th=null}function pp(i){var a=eh.current;Ht(eh),i._currentValue=a}function gp(i,a,d){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===d)break;i=i.return}}function Tl(i,a){th=i,fp=Sl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(_r=!0),i.firstContext=null)}function ts(i){var a=i._currentValue;if(fp!==i)if(i={context:i,memoizedValue:a,next:null},Sl===null){if(th===null)throw Error(n(308));Sl=i,th.dependencies={lanes:0,firstContext:i}}else Sl=Sl.next=i;return a}var ma=null;function yp(i){ma===null?ma=[i]:ma.push(i)}function xx(i,a,d,g){var w=a.interleaved;return w===null?(d.next=d,yp(a)):(d.next=w.next,w.next=d),a.interleaved=d,Ri(i,g)}function Ri(i,a){i.lanes|=a;var d=i.alternate;for(d!==null&&(d.lanes|=a),d=i,i=i.return;i!==null;)i.childLanes|=a,d=i.alternate,d!==null&&(d.childLanes|=a),d=i,i=i.return;return d.tag===3?d.stateNode:null}var fo=!1;function vp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bx(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ji(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function mo(i,a,d){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(bt&2)!==0){var w=g.pending;return w===null?a.next=a:(a.next=w.next,w.next=a),g.pending=a,Ri(i,d)}return w=g.interleaved,w===null?(a.next=a,yp(g)):(a.next=w.next,w.next=a),g.interleaved=a,Ri(i,d)}function nh(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var g=a.lanes;g&=i.pendingLanes,d|=g,a.lanes=d,Ic(i,d)}}function _x(i,a){var d=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var w=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var N={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?w=b=N:b=b.next=N,d=d.next}while(d!==null);b===null?w=b=a:b=b.next=a}else w=b=a;d={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:b,shared:g.shared,effects:g.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}function rh(i,a,d,g){var w=i.updateQueue;fo=!1;var b=w.firstBaseUpdate,N=w.lastBaseUpdate,U=w.shared.pending;if(U!==null){w.shared.pending=null;var q=U,ne=q.next;q.next=null,N===null?b=ne:N.next=ne,N=q;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,U=fe.lastBaseUpdate,U!==N&&(U===null?fe.firstBaseUpdate=ne:U.next=ne,fe.lastBaseUpdate=q))}if(b!==null){var ye=w.baseState;N=0,fe=ne=q=null,U=b;do{var he=U.lane,Ce=U.eventTime;if((g&he)===he){fe!==null&&(fe=fe.next={eventTime:Ce,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Ae=i,De=U;switch(he=a,Ce=d,De.tag){case 1:if(Ae=De.payload,typeof Ae=="function"){ye=Ae.call(Ce,ye,he);break e}ye=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=De.payload,he=typeof Ae=="function"?Ae.call(Ce,ye,he):Ae,he==null)break e;ye=oe({},ye,he);break e;case 2:fo=!0}}U.callback!==null&&U.lane!==0&&(i.flags|=64,he=w.effects,he===null?w.effects=[U]:he.push(U))}else Ce={eventTime:Ce,lane:he,tag:U.tag,payload:U.payload,callback:U.callback,next:null},fe===null?(ne=fe=Ce,q=ye):fe=fe.next=Ce,N|=he;if(U=U.next,U===null){if(U=w.shared.pending,U===null)break;he=U,U=he.next,he.next=null,w.lastBaseUpdate=he,w.shared.pending=null}}while(!0);if(fe===null&&(q=ye),w.baseState=q,w.firstBaseUpdate=ne,w.lastBaseUpdate=fe,a=w.shared.interleaved,a!==null){w=a;do N|=w.lane,w=w.next;while(w!==a)}else b===null&&(w.shared.lanes=0);ya|=N,i.lanes=N,i.memoizedState=ye}}function Ex(i,a,d){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var g=i[a],w=g.callback;if(w!==null){if(g.callback=null,g=d,typeof w!="function")throw Error(n(191,w));w.call(g)}}}var Yc={},Zs=co(Yc),Qc=co(Yc),Xc=co(Yc);function pa(i){if(i===Yc)throw Error(n(174));return i}function wp(i,a){switch(Ft(Xc,a),Ft(Qc,i),Ft(Zs,Yc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:sn(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=sn(a,i)}Ht(Zs),Ft(Zs,a)}function Cl(){Ht(Zs),Ht(Qc),Ht(Xc)}function kx(i){pa(Xc.current);var a=pa(Zs.current),d=sn(a,i.type);a!==d&&(Ft(Qc,i),Ft(Zs,d))}function xp(i){Qc.current===i&&(Ht(Zs),Ht(Qc))}var Kt=co(0);function sh(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var bp=[];function _p(){for(var i=0;i<bp.length;i++)bp[i]._workInProgressVersionPrimary=null;bp.length=0}var ih=H.ReactCurrentDispatcher,Ep=H.ReactCurrentBatchConfig,ga=0,Yt=null,wn=null,Pn=null,oh=!1,Jc=!1,Zc=0,Z2=0;function Xn(){throw Error(n(321))}function kp(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!bs(i[d],a[d]))return!1;return!0}function Sp(i,a,d,g,w,b){if(ga=b,Yt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ih.current=i===null||i.memoizedState===null?rL:sL,i=d(g,w),Jc){b=0;do{if(Jc=!1,Zc=0,25<=b)throw Error(n(301));b+=1,Pn=wn=null,a.updateQueue=null,ih.current=iL,i=d(g,w)}while(Jc)}if(ih.current=ch,a=wn!==null&&wn.next!==null,ga=0,Pn=wn=Yt=null,oh=!1,a)throw Error(n(300));return i}function Tp(){var i=Zc!==0;return Zc=0,i}function ei(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Yt.memoizedState=Pn=i:Pn=Pn.next=i,Pn}function ns(){if(wn===null){var i=Yt.alternate;i=i!==null?i.memoizedState:null}else i=wn.next;var a=Pn===null?Yt.memoizedState:Pn.next;if(a!==null)Pn=a,wn=i;else{if(i===null)throw Error(n(310));wn=i,i={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},Pn===null?Yt.memoizedState=Pn=i:Pn=Pn.next=i}return Pn}function eu(i,a){return typeof a=="function"?a(i):a}function Cp(i){var a=ns(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var g=wn,w=g.baseQueue,b=d.pending;if(b!==null){if(w!==null){var N=w.next;w.next=b.next,b.next=N}g.baseQueue=w=b,d.pending=null}if(w!==null){b=w.next,g=g.baseState;var U=N=null,q=null,ne=b;do{var fe=ne.lane;if((ga&fe)===fe)q!==null&&(q=q.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),g=ne.hasEagerState?ne.eagerState:i(g,ne.action);else{var ye={lane:fe,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};q===null?(U=q=ye,N=g):q=q.next=ye,Yt.lanes|=fe,ya|=fe}ne=ne.next}while(ne!==null&&ne!==b);q===null?N=g:q.next=U,bs(g,a.memoizedState)||(_r=!0),a.memoizedState=g,a.baseState=N,a.baseQueue=q,d.lastRenderedState=g}if(i=d.interleaved,i!==null){w=i;do b=w.lane,Yt.lanes|=b,ya|=b,w=w.next;while(w!==i)}else w===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function Pp(i){var a=ns(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var g=d.dispatch,w=d.pending,b=a.memoizedState;if(w!==null){d.pending=null;var N=w=w.next;do b=i(b,N.action),N=N.next;while(N!==w);bs(b,a.memoizedState)||(_r=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),d.lastRenderedState=b}return[b,g]}function Sx(){}function Tx(i,a){var d=Yt,g=ns(),w=a(),b=!bs(g.memoizedState,w);if(b&&(g.memoizedState=w,_r=!0),g=g.queue,Ip(Ix.bind(null,d,g,i),[i]),g.getSnapshot!==a||b||Pn!==null&&Pn.memoizedState.tag&1){if(d.flags|=2048,tu(9,Px.bind(null,d,g,w,a),void 0,null),In===null)throw Error(n(349));(ga&30)!==0||Cx(d,a,w)}return w}function Cx(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=Yt.updateQueue,a===null?(a={lastEffect:null,stores:null},Yt.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function Px(i,a,d,g){a.value=d,a.getSnapshot=g,Nx(a)&&Mx(i)}function Ix(i,a,d){return d(function(){Nx(a)&&Mx(i)})}function Nx(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!bs(i,d)}catch{return!0}}function Mx(i){var a=Ri(i,1);a!==null&&Ts(a,i,1,-1)}function Lx(i){var a=ei();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:i},a.queue=i,i=i.dispatch=nL.bind(null,Yt,i),[a.memoizedState,i]}function tu(i,a,d,g){return i={tag:i,create:a,destroy:d,deps:g,next:null},a=Yt.updateQueue,a===null?(a={lastEffect:null,stores:null},Yt.updateQueue=a,a.lastEffect=i.next=i):(d=a.lastEffect,d===null?a.lastEffect=i.next=i:(g=d.next,d.next=i,i.next=g,a.lastEffect=i)),i}function Ax(){return ns().memoizedState}function ah(i,a,d,g){var w=ei();Yt.flags|=i,w.memoizedState=tu(1|a,d,void 0,g===void 0?null:g)}function lh(i,a,d,g){var w=ns();g=g===void 0?null:g;var b=void 0;if(wn!==null){var N=wn.memoizedState;if(b=N.destroy,g!==null&&kp(g,N.deps)){w.memoizedState=tu(a,d,b,g);return}}Yt.flags|=i,w.memoizedState=tu(1|a,d,b,g)}function Rx(i,a){return ah(8390656,8,i,a)}function Ip(i,a){return lh(2048,8,i,a)}function jx(i,a){return lh(4,2,i,a)}function Dx(i,a){return lh(4,4,i,a)}function Ox(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Vx(i,a,d){return d=d!=null?d.concat([i]):null,lh(4,4,Ox.bind(null,a,i),d)}function Np(){}function Fx(i,a){var d=ns();a=a===void 0?null:a;var g=d.memoizedState;return g!==null&&a!==null&&kp(a,g[1])?g[0]:(d.memoizedState=[i,a],i)}function Ux(i,a){var d=ns();a=a===void 0?null:a;var g=d.memoizedState;return g!==null&&a!==null&&kp(a,g[1])?g[0]:(i=i(),d.memoizedState=[i,a],i)}function zx(i,a,d){return(ga&21)===0?(i.baseState&&(i.baseState=!1,_r=!0),i.memoizedState=d):(bs(d,a)||(d=Cc(),Yt.lanes|=d,ya|=d,i.baseState=!0),a)}function eL(i,a){var d=vt;vt=d!==0&&4>d?d:4,i(!0);var g=Ep.transition;Ep.transition={};try{i(!1),a()}finally{vt=d,Ep.transition=g}}function Bx(){return ns().memoizedState}function tL(i,a,d){var g=vo(i);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},Hx(i))$x(a,d);else if(d=xx(i,a,d,g),d!==null){var w=mr();Ts(d,i,g,w),Wx(d,a,g)}}function nL(i,a,d){var g=vo(i),w={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(Hx(i))$x(a,w);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var N=a.lastRenderedState,U=b(N,d);if(w.hasEagerState=!0,w.eagerState=U,bs(U,N)){var q=a.interleaved;q===null?(w.next=w,yp(a)):(w.next=q.next,q.next=w),a.interleaved=w;return}}catch{}finally{}d=xx(i,a,w,g),d!==null&&(w=mr(),Ts(d,i,g,w),Wx(d,a,g))}}function Hx(i){var a=i.alternate;return i===Yt||a!==null&&a===Yt}function $x(i,a){Jc=oh=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function Wx(i,a,d){if((d&4194240)!==0){var g=a.lanes;g&=i.pendingLanes,d|=g,a.lanes=d,Ic(i,d)}}var ch={readContext:ts,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},rL={readContext:ts,useCallback:function(i,a){return ei().memoizedState=[i,a===void 0?null:a],i},useContext:ts,useEffect:Rx,useImperativeHandle:function(i,a,d){return d=d!=null?d.concat([i]):null,ah(4194308,4,Ox.bind(null,a,i),d)},useLayoutEffect:function(i,a){return ah(4194308,4,i,a)},useInsertionEffect:function(i,a){return ah(4,2,i,a)},useMemo:function(i,a){var d=ei();return a=a===void 0?null:a,i=i(),d.memoizedState=[i,a],i},useReducer:function(i,a,d){var g=ei();return a=d!==void 0?d(a):a,g.memoizedState=g.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},g.queue=i,i=i.dispatch=tL.bind(null,Yt,i),[g.memoizedState,i]},useRef:function(i){var a=ei();return i={current:i},a.memoizedState=i},useState:Lx,useDebugValue:Np,useDeferredValue:function(i){return ei().memoizedState=i},useTransition:function(){var i=Lx(!1),a=i[0];return i=eL.bind(null,i[1]),ei().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,d){var g=Yt,w=ei();if(Gt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),In===null)throw Error(n(349));(ga&30)!==0||Cx(g,a,d)}w.memoizedState=d;var b={value:d,getSnapshot:a};return w.queue=b,Rx(Ix.bind(null,g,b,i),[i]),g.flags|=2048,tu(9,Px.bind(null,g,b,d,a),void 0,null),d},useId:function(){var i=ei(),a=In.identifierPrefix;if(Gt){var d=Ai,g=Li;d=(g&~(1<<32-Kn(g)-1)).toString(32)+d,a=":"+a+"R"+d,d=Zc++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=Z2++,a=":"+a+"r"+d.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},sL={readContext:ts,useCallback:Fx,useContext:ts,useEffect:Ip,useImperativeHandle:Vx,useInsertionEffect:jx,useLayoutEffect:Dx,useMemo:Ux,useReducer:Cp,useRef:Ax,useState:function(){return Cp(eu)},useDebugValue:Np,useDeferredValue:function(i){var a=ns();return zx(a,wn.memoizedState,i)},useTransition:function(){var i=Cp(eu)[0],a=ns().memoizedState;return[i,a]},useMutableSource:Sx,useSyncExternalStore:Tx,useId:Bx,unstable_isNewReconciler:!1},iL={readContext:ts,useCallback:Fx,useContext:ts,useEffect:Ip,useImperativeHandle:Vx,useInsertionEffect:jx,useLayoutEffect:Dx,useMemo:Ux,useReducer:Pp,useRef:Ax,useState:function(){return Pp(eu)},useDebugValue:Np,useDeferredValue:function(i){var a=ns();return wn===null?a.memoizedState=i:zx(a,wn.memoizedState,i)},useTransition:function(){var i=Pp(eu)[0],a=ns().memoizedState;return[i,a]},useMutableSource:Sx,useSyncExternalStore:Tx,useId:Bx,unstable_isNewReconciler:!1};function Es(i,a){if(i&&i.defaultProps){a=oe({},a),i=i.defaultProps;for(var d in i)a[d]===void 0&&(a[d]=i[d]);return a}return a}function Mp(i,a,d,g){a=i.memoizedState,d=d(g,a),d=d==null?a:oe({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var uh={isMounted:function(i){return(i=i._reactInternals)?ft(i)===i:!1},enqueueSetState:function(i,a,d){i=i._reactInternals;var g=mr(),w=vo(i),b=ji(g,w);b.payload=a,d!=null&&(b.callback=d),a=mo(i,b,w),a!==null&&(Ts(a,i,w,g),nh(a,i,w))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var g=mr(),w=vo(i),b=ji(g,w);b.tag=1,b.payload=a,d!=null&&(b.callback=d),a=mo(i,b,w),a!==null&&(Ts(a,i,w,g),nh(a,i,w))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=mr(),g=vo(i),w=ji(d,g);w.tag=2,a!=null&&(w.callback=a),a=mo(i,w,g),a!==null&&(Ts(a,i,g,d),nh(a,i,g))}};function Gx(i,a,d,g,w,b,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,b,N):a.prototype&&a.prototype.isPureReactComponent?!zc(d,g)||!zc(w,b):!0}function qx(i,a,d){var g=!1,w=uo,b=a.contextType;return typeof b=="object"&&b!==null?b=ts(b):(w=br(a)?da:Qn.current,g=a.contextTypes,b=(g=g!=null)?xl(i,w):uo),a=new a(d,b),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=uh,i.stateNode=a,a._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=b),a}function Kx(i,a,d,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,g),a.state!==i&&uh.enqueueReplaceState(a,a.state,null)}function Lp(i,a,d,g){var w=i.stateNode;w.props=d,w.state=i.memoizedState,w.refs={},vp(i);var b=a.contextType;typeof b=="object"&&b!==null?w.context=ts(b):(b=br(a)?da:Qn.current,w.context=xl(i,b)),w.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Mp(i,a,b,d),w.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(a=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),a!==w.state&&uh.enqueueReplaceState(w,w.state,null),rh(i,d,w,g),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function Pl(i,a){try{var d="",g=a;do d+=Z(g),g=g.return;while(g);var w=d}catch(b){w=`
Error generating stack: `+b.message+`
`+b.stack}return{value:i,source:a,stack:w,digest:null}}function Ap(i,a,d){return{value:i,source:null,stack:d??null,digest:a??null}}function Rp(i,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var oL=typeof WeakMap=="function"?WeakMap:Map;function Yx(i,a,d){d=ji(-1,d),d.tag=3,d.payload={element:null};var g=a.value;return d.callback=function(){yh||(yh=!0,Yp=g),Rp(i,a)},d}function Qx(i,a,d){d=ji(-1,d),d.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var w=a.value;d.payload=function(){return g(w)},d.callback=function(){Rp(i,a)}}var b=i.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Rp(i,a),typeof g!="function"&&(go===null?go=new Set([this]):go.add(this));var N=a.stack;this.componentDidCatch(a.value,{componentStack:N!==null?N:""})}),d}function Xx(i,a,d){var g=i.pingCache;if(g===null){g=i.pingCache=new oL;var w=new Set;g.set(a,w)}else w=g.get(a),w===void 0&&(w=new Set,g.set(a,w));w.has(d)||(w.add(d),i=xL.bind(null,i,a,d),a.then(i,i))}function Jx(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function Zx(i,a,d,g,w){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=ji(-1,1),a.tag=2,mo(d,a,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=w,i)}var aL=H.ReactCurrentOwner,_r=!1;function fr(i,a,d,g){a.child=i===null?wx(a,null,d,g):kl(a,i.child,d,g)}function eb(i,a,d,g,w){d=d.render;var b=a.ref;return Tl(a,w),g=Sp(i,a,d,g,b,w),d=Tp(),i!==null&&!_r?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~w,Di(i,a,w)):(Gt&&d&&lp(a),a.flags|=1,fr(i,a,g,w),a.child)}function tb(i,a,d,g,w){if(i===null){var b=d.type;return typeof b=="function"&&!ng(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=b,nb(i,a,b,g,w)):(i=Eh(d.type,null,g,a,a.mode,w),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,(i.lanes&w)===0){var N=b.memoizedProps;if(d=d.compare,d=d!==null?d:zc,d(N,g)&&i.ref===a.ref)return Di(i,a,w)}return a.flags|=1,i=xo(b,g),i.ref=a.ref,i.return=a,a.child=i}function nb(i,a,d,g,w){if(i!==null){var b=i.memoizedProps;if(zc(b,g)&&i.ref===a.ref)if(_r=!1,a.pendingProps=g=b,(i.lanes&w)!==0)(i.flags&131072)!==0&&(_r=!0);else return a.lanes=i.lanes,Di(i,a,w)}return jp(i,a,d,g,w)}function rb(i,a,d){var g=a.pendingProps,w=g.children,b=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(Nl,Hr),Hr|=d;else{if((d&1073741824)===0)return i=b!==null?b.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Ft(Nl,Hr),Hr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=b!==null?b.baseLanes:d,Ft(Nl,Hr),Hr|=g}else b!==null?(g=b.baseLanes|d,a.memoizedState=null):g=d,Ft(Nl,Hr),Hr|=g;return fr(i,a,w,d),a.child}function sb(i,a){var d=a.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function jp(i,a,d,g,w){var b=br(d)?da:Qn.current;return b=xl(a,b),Tl(a,w),d=Sp(i,a,d,g,b,w),g=Tp(),i!==null&&!_r?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~w,Di(i,a,w)):(Gt&&g&&lp(a),a.flags|=1,fr(i,a,d,w),a.child)}function ib(i,a,d,g,w){if(br(d)){var b=!0;Kd(a)}else b=!1;if(Tl(a,w),a.stateNode===null)hh(i,a),qx(a,d,g),Lp(a,d,g,w),g=!0;else if(i===null){var N=a.stateNode,U=a.memoizedProps;N.props=U;var q=N.context,ne=d.contextType;typeof ne=="object"&&ne!==null?ne=ts(ne):(ne=br(d)?da:Qn.current,ne=xl(a,ne));var fe=d.getDerivedStateFromProps,ye=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function";ye||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(U!==g||q!==ne)&&Kx(a,N,g,ne),fo=!1;var he=a.memoizedState;N.state=he,rh(a,g,N,w),q=a.memoizedState,U!==g||he!==q||xr.current||fo?(typeof fe=="function"&&(Mp(a,d,fe,g),q=a.memoizedState),(U=fo||Gx(a,d,U,g,he,q,ne))?(ye||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(a.flags|=4194308)):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=q),N.props=g,N.state=q,N.context=ne,g=U):(typeof N.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{N=a.stateNode,bx(i,a),U=a.memoizedProps,ne=a.type===a.elementType?U:Es(a.type,U),N.props=ne,ye=a.pendingProps,he=N.context,q=d.contextType,typeof q=="object"&&q!==null?q=ts(q):(q=br(d)?da:Qn.current,q=xl(a,q));var Ce=d.getDerivedStateFromProps;(fe=typeof Ce=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(U!==ye||he!==q)&&Kx(a,N,g,q),fo=!1,he=a.memoizedState,N.state=he,rh(a,g,N,w);var Ae=a.memoizedState;U!==ye||he!==Ae||xr.current||fo?(typeof Ce=="function"&&(Mp(a,d,Ce,g),Ae=a.memoizedState),(ne=fo||Gx(a,d,ne,g,he,Ae,q)||!1)?(fe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,Ae,q),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,Ae,q)),typeof N.componentDidUpdate=="function"&&(a.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof N.componentDidUpdate!="function"||U===i.memoizedProps&&he===i.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&he===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Ae),N.props=g,N.state=Ae,N.context=q,g=ne):(typeof N.componentDidUpdate!="function"||U===i.memoizedProps&&he===i.memoizedState||(a.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&he===i.memoizedState||(a.flags|=1024),g=!1)}return Dp(i,a,d,g,b,w)}function Dp(i,a,d,g,w,b){sb(i,a);var N=(a.flags&128)!==0;if(!g&&!N)return w&&ux(a,d,!1),Di(i,a,b);g=a.stateNode,aL.current=a;var U=N&&typeof d.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,i!==null&&N?(a.child=kl(a,i.child,null,b),a.child=kl(a,null,U,b)):fr(i,a,U,b),a.memoizedState=g.state,w&&ux(a,d,!0),a.child}function ob(i){var a=i.stateNode;a.pendingContext?lx(i,a.pendingContext,a.pendingContext!==a.context):a.context&&lx(i,a.context,!1),wp(i,a.containerInfo)}function ab(i,a,d,g,w){return El(),hp(w),a.flags|=256,fr(i,a,d,g),a.child}var Op={dehydrated:null,treeContext:null,retryLane:0};function Vp(i){return{baseLanes:i,cachePool:null,transitions:null}}function lb(i,a,d){var g=a.pendingProps,w=Kt.current,b=!1,N=(a.flags&128)!==0,U;if((U=N)||(U=i!==null&&i.memoizedState===null?!1:(w&2)!==0),U?(b=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),Ft(Kt,w&1),i===null)return dp(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(N=g.children,i=g.fallback,b?(g=a.mode,b=a.child,N={mode:"hidden",children:N},(g&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=N):b=kh(N,g,0,null),i=ba(i,g,d,null),b.return=a,i.return=a,b.sibling=i,a.child=b,a.child.memoizedState=Vp(d),a.memoizedState=Op,i):Fp(a,N));if(w=i.memoizedState,w!==null&&(U=w.dehydrated,U!==null))return lL(i,a,N,g,U,w,d);if(b){b=g.fallback,N=a.mode,w=i.child,U=w.sibling;var q={mode:"hidden",children:g.children};return(N&1)===0&&a.child!==w?(g=a.child,g.childLanes=0,g.pendingProps=q,a.deletions=null):(g=xo(w,q),g.subtreeFlags=w.subtreeFlags&14680064),U!==null?b=xo(U,b):(b=ba(b,N,d,null),b.flags|=2),b.return=a,g.return=a,g.sibling=b,a.child=g,g=b,b=a.child,N=i.child.memoizedState,N=N===null?Vp(d):{baseLanes:N.baseLanes|d,cachePool:null,transitions:N.transitions},b.memoizedState=N,b.childLanes=i.childLanes&~d,a.memoizedState=Op,g}return b=i.child,i=b.sibling,g=xo(b,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=d),g.return=a,g.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=g,a.memoizedState=null,g}function Fp(i,a){return a=kh({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function dh(i,a,d,g){return g!==null&&hp(g),kl(a,i.child,null,d),i=Fp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function lL(i,a,d,g,w,b,N){if(d)return a.flags&256?(a.flags&=-257,g=Ap(Error(n(422))),dh(i,a,N,g)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(b=g.fallback,w=a.mode,g=kh({mode:"visible",children:g.children},w,0,null),b=ba(b,w,N,null),b.flags|=2,g.return=a,b.return=a,g.sibling=b,a.child=g,(a.mode&1)!==0&&kl(a,i.child,null,N),a.child.memoizedState=Vp(N),a.memoizedState=Op,b);if((a.mode&1)===0)return dh(i,a,N,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var U=g.dgst;return g=U,b=Error(n(419)),g=Ap(b,g,void 0),dh(i,a,N,g)}if(U=(N&i.childLanes)!==0,_r||U){if(g=In,g!==null){switch(N&-N){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|N))!==0?0:w,w!==0&&w!==b.retryLane&&(b.retryLane=w,Ri(i,w),Ts(g,i,w,-1))}return tg(),g=Ap(Error(n(421))),dh(i,a,N,g)}return w.data==="$?"?(a.flags|=128,a.child=i.child,a=bL.bind(null,i),w._reactRetry=a,null):(i=b.treeContext,Br=lo(w.nextSibling),zr=a,Gt=!0,_s=null,i!==null&&(Zr[es++]=Li,Zr[es++]=Ai,Zr[es++]=ha,Li=i.id,Ai=i.overflow,ha=a),a=Fp(a,g.children),a.flags|=4096,a)}function cb(i,a,d){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),gp(i.return,a,d)}function Up(i,a,d,g,w){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:w}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=g,b.tail=d,b.tailMode=w)}function ub(i,a,d){var g=a.pendingProps,w=g.revealOrder,b=g.tail;if(fr(i,a,g.children,d),g=Kt.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cb(i,d,a);else if(i.tag===19)cb(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(Ft(Kt,g),(a.mode&1)===0)a.memoizedState=null;else switch(w){case"forwards":for(d=a.child,w=null;d!==null;)i=d.alternate,i!==null&&sh(i)===null&&(w=d),d=d.sibling;d=w,d===null?(w=a.child,a.child=null):(w=d.sibling,d.sibling=null),Up(a,!1,w,d,b);break;case"backwards":for(d=null,w=a.child,a.child=null;w!==null;){if(i=w.alternate,i!==null&&sh(i)===null){a.child=w;break}i=w.sibling,w.sibling=d,d=w,w=i}Up(a,!0,d,null,b);break;case"together":Up(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function hh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Di(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),ya|=a.lanes,(d&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,d=xo(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=xo(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function cL(i,a,d){switch(a.tag){case 3:ob(a),El();break;case 5:kx(a);break;case 1:br(a.type)&&Kd(a);break;case 4:wp(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,w=a.memoizedProps.value;Ft(eh,g._currentValue),g._currentValue=w;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Ft(Kt,Kt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?lb(i,a,d):(Ft(Kt,Kt.current&1),i=Di(i,a,d),i!==null?i.sibling:null);Ft(Kt,Kt.current&1);break;case 19:if(g=(d&a.childLanes)!==0,(i.flags&128)!==0){if(g)return ub(i,a,d);a.flags|=128}if(w=a.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Ft(Kt,Kt.current),g)break;return null;case 22:case 23:return a.lanes=0,rb(i,a,d)}return Di(i,a,d)}var db,zp,hb,fb;db=function(i,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},zp=function(){},hb=function(i,a,d,g){var w=i.memoizedProps;if(w!==g){i=a.stateNode,pa(Zs.current);var b=null;switch(d){case"input":w=hn(i,w),g=hn(i,g),b=[];break;case"select":w=oe({},w,{value:void 0}),g=oe({},g,{value:void 0}),b=[];break;case"textarea":w=Hn(i,w),g=Hn(i,g),b=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Wd)}Rn(d,g);var N;d=null;for(ne in w)if(!g.hasOwnProperty(ne)&&w.hasOwnProperty(ne)&&w[ne]!=null)if(ne==="style"){var U=w[ne];for(N in U)U.hasOwnProperty(N)&&(d||(d={}),d[N]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(s.hasOwnProperty(ne)?b||(b=[]):(b=b||[]).push(ne,null));for(ne in g){var q=g[ne];if(U=w?.[ne],g.hasOwnProperty(ne)&&q!==U&&(q!=null||U!=null))if(ne==="style")if(U){for(N in U)!U.hasOwnProperty(N)||q&&q.hasOwnProperty(N)||(d||(d={}),d[N]="");for(N in q)q.hasOwnProperty(N)&&U[N]!==q[N]&&(d||(d={}),d[N]=q[N])}else d||(b||(b=[]),b.push(ne,d)),d=q;else ne==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,U=U?U.__html:void 0,q!=null&&U!==q&&(b=b||[]).push(ne,q)):ne==="children"?typeof q!="string"&&typeof q!="number"||(b=b||[]).push(ne,""+q):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(s.hasOwnProperty(ne)?(q!=null&&ne==="onScroll"&&Bt("scroll",i),b||U===q||(b=[])):(b=b||[]).push(ne,q))}d&&(b=b||[]).push("style",d);var ne=b;(a.updateQueue=ne)&&(a.flags|=4)}},fb=function(i,a,d,g){d!==g&&(a.flags|=4)};function nu(i,a){if(!Gt)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Jn(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,g=0;if(a)for(var w=i.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=g,i.childLanes=d,a}function uL(i,a,d){var g=a.pendingProps;switch(cp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(a),null;case 1:return br(a.type)&&qd(),Jn(a),null;case 3:return g=a.stateNode,Cl(),Ht(xr),Ht(Qn),_p(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Jd(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_s!==null&&(Jp(_s),_s=null))),zp(i,a),Jn(a),null;case 5:xp(a);var w=pa(Xc.current);if(d=a.type,i!==null&&a.stateNode!=null)hb(i,a,d,g,w),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(n(166));return Jn(a),null}if(i=pa(Zs.current),Jd(a)){g=a.stateNode,d=a.type;var b=a.memoizedProps;switch(g[Js]=a,g[Gc]=b,i=(a.mode&1)!==0,d){case"dialog":Bt("cancel",g),Bt("close",g);break;case"iframe":case"object":case"embed":Bt("load",g);break;case"video":case"audio":for(w=0;w<Hc.length;w++)Bt(Hc[w],g);break;case"source":Bt("error",g);break;case"img":case"image":case"link":Bt("error",g),Bt("load",g);break;case"details":Bt("toggle",g);break;case"input":yt(g,b),Bt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!b.multiple},Bt("invalid",g);break;case"textarea":$n(g,b),Bt("invalid",g)}Rn(d,b),w=null;for(var N in b)if(b.hasOwnProperty(N)){var U=b[N];N==="children"?typeof U=="string"?g.textContent!==U&&(b.suppressHydrationWarning!==!0&&$d(g.textContent,U,i),w=["children",U]):typeof U=="number"&&g.textContent!==""+U&&(b.suppressHydrationWarning!==!0&&$d(g.textContent,U,i),w=["children",""+U]):s.hasOwnProperty(N)&&U!=null&&N==="onScroll"&&Bt("scroll",g)}switch(d){case"input":Ye(g),Os(g,b,!0);break;case"textarea":Ye(g),ar(g);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(g.onclick=Wd)}g=w,a.updateQueue=g,g!==null&&(a.flags|=4)}else{N=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=An(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=N.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=N.createElement(d,{is:g.is}):(i=N.createElement(d),d==="select"&&(N=i,g.multiple?N.multiple=!0:g.size&&(N.size=g.size))):i=N.createElementNS(i,d),i[Js]=a,i[Gc]=g,db(i,a,!1,!1),a.stateNode=i;e:{switch(N=Gn(d,g),d){case"dialog":Bt("cancel",i),Bt("close",i),w=g;break;case"iframe":case"object":case"embed":Bt("load",i),w=g;break;case"video":case"audio":for(w=0;w<Hc.length;w++)Bt(Hc[w],i);w=g;break;case"source":Bt("error",i),w=g;break;case"img":case"image":case"link":Bt("error",i),Bt("load",i),w=g;break;case"details":Bt("toggle",i),w=g;break;case"input":yt(i,g),w=hn(i,g),Bt("invalid",i);break;case"option":w=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},w=oe({},g,{value:void 0}),Bt("invalid",i);break;case"textarea":$n(i,g),w=Hn(i,g),Bt("invalid",i);break;default:w=g}Rn(d,w),U=w;for(b in U)if(U.hasOwnProperty(b)){var q=U[b];b==="style"?Yr(i,q):b==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&Ar(i,q)):b==="children"?typeof q=="string"?(d!=="textarea"||q!=="")&&Kr(i,q):typeof q=="number"&&Kr(i,""+q):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?q!=null&&b==="onScroll"&&Bt("scroll",i):q!=null&&z(i,b,q,N))}switch(d){case"input":Ye(i),Os(i,g,!1);break;case"textarea":Ye(i),ar(i);break;case"option":g.value!=null&&i.setAttribute("value",""+ke(g.value));break;case"select":i.multiple=!!g.multiple,b=g.value,b!=null?Sn(i,!!g.multiple,b,!1):g.defaultValue!=null&&Sn(i,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=Wd)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Jn(a),null;case 6:if(i&&a.stateNode!=null)fb(i,a,i.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(n(166));if(d=pa(Xc.current),pa(Zs.current),Jd(a)){if(g=a.stateNode,d=a.memoizedProps,g[Js]=a,(b=g.nodeValue!==d)&&(i=zr,i!==null))switch(i.tag){case 3:$d(g.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&$d(g.nodeValue,d,(i.mode&1)!==0)}b&&(a.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Js]=a,a.stateNode=g}return Jn(a),null;case 13:if(Ht(Kt),g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Gt&&Br!==null&&(a.mode&1)!==0&&(a.flags&128)===0)gx(),El(),a.flags|=98560,b=!1;else if(b=Jd(a),g!==null&&g.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Js]=a}else El(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Jn(a),b=!1}else _s!==null&&(Jp(_s),_s=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Kt.current&1)!==0?xn===0&&(xn=3):tg())),a.updateQueue!==null&&(a.flags|=4),Jn(a),null);case 4:return Cl(),zp(i,a),i===null&&$c(a.stateNode.containerInfo),Jn(a),null;case 10:return pp(a.type._context),Jn(a),null;case 17:return br(a.type)&&qd(),Jn(a),null;case 19:if(Ht(Kt),b=a.memoizedState,b===null)return Jn(a),null;if(g=(a.flags&128)!==0,N=b.rendering,N===null)if(g)nu(b,!1);else{if(xn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(N=sh(i),N!==null){for(a.flags|=128,nu(b,!1),g=N.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=d,d=a.child;d!==null;)b=d,i=g,b.flags&=14680066,N=b.alternate,N===null?(b.childLanes=0,b.lanes=i,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=N.childLanes,b.lanes=N.lanes,b.child=N.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=N.memoizedProps,b.memoizedState=N.memoizedState,b.updateQueue=N.updateQueue,b.type=N.type,i=N.dependencies,b.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return Ft(Kt,Kt.current&1|2),a.child}i=i.sibling}b.tail!==null&&Tt()>Ml&&(a.flags|=128,g=!0,nu(b,!1),a.lanes=4194304)}else{if(!g)if(i=sh(N),i!==null){if(a.flags|=128,g=!0,d=i.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),nu(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!Gt)return Jn(a),null}else 2*Tt()-b.renderingStartTime>Ml&&d!==1073741824&&(a.flags|=128,g=!0,nu(b,!1),a.lanes=4194304);b.isBackwards?(N.sibling=a.child,a.child=N):(d=b.last,d!==null?d.sibling=N:a.child=N,b.last=N)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=Tt(),a.sibling=null,d=Kt.current,Ft(Kt,g?d&1|2:d&1),a):(Jn(a),null);case 22:case 23:return eg(),g=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Hr&1073741824)!==0&&(Jn(a),a.subtreeFlags&6&&(a.flags|=8192)):Jn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function dL(i,a){switch(cp(a),a.tag){case 1:return br(a.type)&&qd(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Cl(),Ht(xr),Ht(Qn),_p(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return xp(a),null;case 13:if(Ht(Kt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));El()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Ht(Kt),null;case 4:return Cl(),null;case 10:return pp(a.type._context),null;case 22:case 23:return eg(),null;case 24:return null;default:return null}}var fh=!1,Zn=!1,hL=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Il(i,a){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){tn(i,a,g)}else d.current=null}function Bp(i,a,d){try{d()}catch(g){tn(i,a,g)}}var mb=!1;function fL(i,a){if(ep=Ci,i=Gw(),Gm(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var w=g.anchorOffset,b=g.focusNode;g=g.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var N=0,U=-1,q=-1,ne=0,fe=0,ye=i,he=null;t:for(;;){for(var Ce;ye!==d||w!==0&&ye.nodeType!==3||(U=N+w),ye!==b||g!==0&&ye.nodeType!==3||(q=N+g),ye.nodeType===3&&(N+=ye.nodeValue.length),(Ce=ye.firstChild)!==null;)he=ye,ye=Ce;for(;;){if(ye===i)break t;if(he===d&&++ne===w&&(U=N),he===b&&++fe===g&&(q=N),(Ce=ye.nextSibling)!==null)break;ye=he,he=ye.parentNode}ye=Ce}d=U===-1||q===-1?null:{start:U,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(tp={focusedElem:i,selectionRange:d},Ci=!1,Me=a;Me!==null;)if(a=Me,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Me=i;else for(;Me!==null;){a=Me;try{var Ae=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var De=Ae.memoizedProps,an=Ae.memoizedState,Q=a.stateNode,K=Q.getSnapshotBeforeUpdate(a.elementType===a.type?De:Es(a.type,De),an);Q.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(we){tn(a,a.return,we)}if(i=a.sibling,i!==null){i.return=a.return,Me=i;break}Me=a.return}return Ae=mb,mb=!1,Ae}function ru(i,a,d){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&i)===i){var b=w.destroy;w.destroy=void 0,b!==void 0&&Bp(a,d,b)}w=w.next}while(w!==g)}}function mh(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&i)===i){var g=d.create;d.destroy=g()}d=d.next}while(d!==a)}}function Hp(i){var a=i.ref;if(a!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof a=="function"?a(i):a.current=i}}function pb(i){var a=i.alternate;a!==null&&(i.alternate=null,pb(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Js],delete a[Gc],delete a[ip],delete a[Y2],delete a[Q2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function gb(i){return i.tag===5||i.tag===3||i.tag===4}function yb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $p(i,a,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(i,a):d.insertBefore(i,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(i,d)):(a=d,a.appendChild(i)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Wd));else if(g!==4&&(i=i.child,i!==null))for($p(i,a,d),i=i.sibling;i!==null;)$p(i,a,d),i=i.sibling}function Wp(i,a,d){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Wp(i,a,d),i=i.sibling;i!==null;)Wp(i,a,d),i=i.sibling}var On=null,ks=!1;function po(i,a,d){for(d=d.child;d!==null;)vb(i,a,d),d=d.sibling}function vb(i,a,d){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(hr,d)}catch{}switch(d.tag){case 5:Zn||Il(d,a);case 6:var g=On,w=ks;On=null,po(i,a,d),On=g,ks=w,On!==null&&(ks?(i=On,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):On.removeChild(d.stateNode));break;case 18:On!==null&&(ks?(i=On,d=d.stateNode,i.nodeType===8?sp(i.parentNode,d):i.nodeType===1&&sp(i,d),so(i)):sp(On,d.stateNode));break;case 4:g=On,w=ks,On=d.stateNode.containerInfo,ks=!0,po(i,a,d),On=g,ks=w;break;case 0:case 11:case 14:case 15:if(!Zn&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var b=w,N=b.destroy;b=b.tag,N!==void 0&&((b&2)!==0||(b&4)!==0)&&Bp(d,a,N),w=w.next}while(w!==g)}po(i,a,d);break;case 1:if(!Zn&&(Il(d,a),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(U){tn(d,a,U)}po(i,a,d);break;case 21:po(i,a,d);break;case 22:d.mode&1?(Zn=(g=Zn)||d.memoizedState!==null,po(i,a,d),Zn=g):po(i,a,d);break;default:po(i,a,d)}}function wb(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new hL),a.forEach(function(g){var w=_L.bind(null,i,g);d.has(g)||(d.add(g),g.then(w,w))})}}function Ss(i,a){var d=a.deletions;if(d!==null)for(var g=0;g<d.length;g++){var w=d[g];try{var b=i,N=a,U=N;e:for(;U!==null;){switch(U.tag){case 5:On=U.stateNode,ks=!1;break e;case 3:On=U.stateNode.containerInfo,ks=!0;break e;case 4:On=U.stateNode.containerInfo,ks=!0;break e}U=U.return}if(On===null)throw Error(n(160));vb(b,N,w),On=null,ks=!1;var q=w.alternate;q!==null&&(q.return=null),w.return=null}catch(ne){tn(w,a,ne)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)xb(a,i),a=a.sibling}function xb(i,a){var d=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ss(a,i),ti(i),g&4){try{ru(3,i,i.return),mh(3,i)}catch(De){tn(i,i.return,De)}try{ru(5,i,i.return)}catch(De){tn(i,i.return,De)}}break;case 1:Ss(a,i),ti(i),g&512&&d!==null&&Il(d,d.return);break;case 5:if(Ss(a,i),ti(i),g&512&&d!==null&&Il(d,d.return),i.flags&32){var w=i.stateNode;try{Kr(w,"")}catch(De){tn(i,i.return,De)}}if(g&4&&(w=i.stateNode,w!=null)){var b=i.memoizedProps,N=d!==null?d.memoizedProps:b,U=i.type,q=i.updateQueue;if(i.updateQueue=null,q!==null)try{U==="input"&&b.type==="radio"&&b.name!=null&&ps(w,b),Gn(U,N);var ne=Gn(U,b);for(N=0;N<q.length;N+=2){var fe=q[N],ye=q[N+1];fe==="style"?Yr(w,ye):fe==="dangerouslySetInnerHTML"?Ar(w,ye):fe==="children"?Kr(w,ye):z(w,fe,ye,ne)}switch(U){case"input":or(w,b);break;case"textarea":Vs(w,b);break;case"select":var he=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!b.multiple;var Ce=b.value;Ce!=null?Sn(w,!!b.multiple,Ce,!1):he!==!!b.multiple&&(b.defaultValue!=null?Sn(w,!!b.multiple,b.defaultValue,!0):Sn(w,!!b.multiple,b.multiple?[]:"",!1))}w[Gc]=b}catch(De){tn(i,i.return,De)}}break;case 6:if(Ss(a,i),ti(i),g&4){if(i.stateNode===null)throw Error(n(162));w=i.stateNode,b=i.memoizedProps;try{w.nodeValue=b}catch(De){tn(i,i.return,De)}}break;case 3:if(Ss(a,i),ti(i),g&4&&d!==null&&d.memoizedState.isDehydrated)try{so(a.containerInfo)}catch(De){tn(i,i.return,De)}break;case 4:Ss(a,i),ti(i);break;case 13:Ss(a,i),ti(i),w=i.child,w.flags&8192&&(b=w.memoizedState!==null,w.stateNode.isHidden=b,!b||w.alternate!==null&&w.alternate.memoizedState!==null||(Kp=Tt())),g&4&&wb(i);break;case 22:if(fe=d!==null&&d.memoizedState!==null,i.mode&1?(Zn=(ne=Zn)||fe,Ss(a,i),Zn=ne):Ss(a,i),ti(i),g&8192){if(ne=i.memoizedState!==null,(i.stateNode.isHidden=ne)&&!fe&&(i.mode&1)!==0)for(Me=i,fe=i.child;fe!==null;){for(ye=Me=fe;Me!==null;){switch(he=Me,Ce=he.child,he.tag){case 0:case 11:case 14:case 15:ru(4,he,he.return);break;case 1:Il(he,he.return);var Ae=he.stateNode;if(typeof Ae.componentWillUnmount=="function"){g=he,d=he.return;try{a=g,Ae.props=a.memoizedProps,Ae.state=a.memoizedState,Ae.componentWillUnmount()}catch(De){tn(g,d,De)}}break;case 5:Il(he,he.return);break;case 22:if(he.memoizedState!==null){Eb(ye);continue}}Ce!==null?(Ce.return=he,Me=Ce):Eb(ye)}fe=fe.sibling}e:for(fe=null,ye=i;;){if(ye.tag===5){if(fe===null){fe=ye;try{w=ye.stateNode,ne?(b=w.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(U=ye.stateNode,q=ye.memoizedProps.style,N=q!=null&&q.hasOwnProperty("display")?q.display:null,U.style.display=Wn("display",N))}catch(De){tn(i,i.return,De)}}}else if(ye.tag===6){if(fe===null)try{ye.stateNode.nodeValue=ne?"":ye.memoizedProps}catch(De){tn(i,i.return,De)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===i)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===i)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===i)break e;fe===ye&&(fe=null),ye=ye.return}fe===ye&&(fe=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Ss(a,i),ti(i),g&4&&wb(i);break;case 21:break;default:Ss(a,i),ti(i)}}function ti(i){var a=i.flags;if(a&2){try{e:{for(var d=i.return;d!==null;){if(gb(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(Kr(w,""),g.flags&=-33);var b=yb(i);Wp(i,b,w);break;case 3:case 4:var N=g.stateNode.containerInfo,U=yb(i);$p(i,U,N);break;default:throw Error(n(161))}}catch(q){tn(i,i.return,q)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function mL(i,a,d){Me=i,bb(i)}function bb(i,a,d){for(var g=(i.mode&1)!==0;Me!==null;){var w=Me,b=w.child;if(w.tag===22&&g){var N=w.memoizedState!==null||fh;if(!N){var U=w.alternate,q=U!==null&&U.memoizedState!==null||Zn;U=fh;var ne=Zn;if(fh=N,(Zn=q)&&!ne)for(Me=w;Me!==null;)N=Me,q=N.child,N.tag===22&&N.memoizedState!==null?kb(w):q!==null?(q.return=N,Me=q):kb(w);for(;b!==null;)Me=b,bb(b),b=b.sibling;Me=w,fh=U,Zn=ne}_b(i)}else(w.subtreeFlags&8772)!==0&&b!==null?(b.return=w,Me=b):_b(i)}}function _b(i){for(;Me!==null;){var a=Me;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Zn||mh(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!Zn)if(d===null)g.componentDidMount();else{var w=a.elementType===a.type?d.memoizedProps:Es(a.type,d.memoizedProps);g.componentDidUpdate(w,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&Ex(a,b,g);break;case 3:var N=a.updateQueue;if(N!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Ex(a,N,d)}break;case 5:var U=a.stateNode;if(d===null&&a.flags&4){d=U;var q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&d.focus();break;case"img":q.src&&(d.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ne=a.alternate;if(ne!==null){var fe=ne.memoizedState;if(fe!==null){var ye=fe.dehydrated;ye!==null&&so(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zn||a.flags&512&&Hp(a)}catch(he){tn(a,a.return,he)}}if(a===i){Me=null;break}if(d=a.sibling,d!==null){d.return=a.return,Me=d;break}Me=a.return}}function Eb(i){for(;Me!==null;){var a=Me;if(a===i){Me=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Me=d;break}Me=a.return}}function kb(i){for(;Me!==null;){var a=Me;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{mh(4,a)}catch(q){tn(a,d,q)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var w=a.return;try{g.componentDidMount()}catch(q){tn(a,w,q)}}var b=a.return;try{Hp(a)}catch(q){tn(a,b,q)}break;case 5:var N=a.return;try{Hp(a)}catch(q){tn(a,N,q)}}}catch(q){tn(a,a.return,q)}if(a===i){Me=null;break}var U=a.sibling;if(U!==null){U.return=a.return,Me=U;break}Me=a.return}}var pL=Math.ceil,ph=H.ReactCurrentDispatcher,Gp=H.ReactCurrentOwner,rs=H.ReactCurrentBatchConfig,bt=0,In=null,pn=null,Vn=0,Hr=0,Nl=co(0),xn=0,su=null,ya=0,gh=0,qp=0,iu=null,Er=null,Kp=0,Ml=1/0,Oi=null,yh=!1,Yp=null,go=null,vh=!1,yo=null,wh=0,ou=0,Qp=null,xh=-1,bh=0;function mr(){return(bt&6)!==0?Tt():xh!==-1?xh:xh=Tt()}function vo(i){return(i.mode&1)===0?1:(bt&2)!==0&&Vn!==0?Vn&-Vn:J2.transition!==null?(bh===0&&(bh=Cc()),bh):(i=vt,i!==0||(i=window.event,i=i===void 0?16:ol(i.type)),i)}function Ts(i,a,d,g){if(50<ou)throw ou=0,Qp=null,Error(n(185));ia(i,d,g),((bt&2)===0||i!==In)&&(i===In&&((bt&2)===0&&(gh|=d),xn===4&&wo(i,Vn)),kr(i,g),d===1&&bt===0&&(a.mode&1)===0&&(Ml=Tt()+500,Yd&&ho()))}function kr(i,a){var d=i.callbackNode;sa(i,a);var g=ki(i,i===In?Vn:0);if(g===0)d!==null&&dr(d),i.callbackNode=null,i.callbackPriority=0;else if(a=g&-g,i.callbackPriority!==a){if(d!=null&&dr(d),a===1)i.tag===0?X2(Tb.bind(null,i)):dx(Tb.bind(null,i)),q2(function(){(bt&6)===0&&ho()}),d=null;else{switch(Bs(g)){case 1:d=ws;break;case 4:d=Us;break;case 16:d=it;break;case 536870912:d=Dr;break;default:d=it}d=Rb(d,Sb.bind(null,i))}i.callbackPriority=a,i.callbackNode=d}}function Sb(i,a){if(xh=-1,bh=0,(bt&6)!==0)throw Error(n(327));var d=i.callbackNode;if(Ll()&&i.callbackNode!==d)return null;var g=ki(i,i===In?Vn:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||a)a=_h(i,g);else{a=g;var w=bt;bt|=2;var b=Pb();(In!==i||Vn!==a)&&(Oi=null,Ml=Tt()+500,wa(i,a));do try{vL();break}catch(U){Cb(i,U)}while(!0);mp(),ph.current=b,bt=w,pn!==null?a=0:(In=null,Vn=0,a=xn)}if(a!==0){if(a===2&&(w=Tc(i),w!==0&&(g=w,a=Xp(i,w))),a===1)throw d=su,wa(i,0),wo(i,g),kr(i,Tt()),d;if(a===6)wo(i,g);else{if(w=i.current.alternate,(g&30)===0&&!gL(w)&&(a=_h(i,g),a===2&&(b=Tc(i),b!==0&&(g=b,a=Xp(i,b))),a===1))throw d=su,wa(i,0),wo(i,g),kr(i,Tt()),d;switch(i.finishedWork=w,i.finishedLanes=g,a){case 0:case 1:throw Error(n(345));case 2:xa(i,Er,Oi);break;case 3:if(wo(i,g),(g&130023424)===g&&(a=Kp+500-Tt(),10<a)){if(ki(i,0)!==0)break;if(w=i.suspendedLanes,(w&g)!==g){mr(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=rp(xa.bind(null,i,Er,Oi),a);break}xa(i,Er,Oi);break;case 4:if(wo(i,g),(g&4194240)===g)break;for(a=i.eventTimes,w=-1;0<g;){var N=31-Kn(g);b=1<<N,N=a[N],N>w&&(w=N),g&=~b}if(g=w,g=Tt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*pL(g/1960))-g,10<g){i.timeoutHandle=rp(xa.bind(null,i,Er,Oi),g);break}xa(i,Er,Oi);break;case 5:xa(i,Er,Oi);break;default:throw Error(n(329))}}}return kr(i,Tt()),i.callbackNode===d?Sb.bind(null,i):null}function Xp(i,a){var d=iu;return i.current.memoizedState.isDehydrated&&(wa(i,a).flags|=256),i=_h(i,a),i!==2&&(a=Er,Er=d,a!==null&&Jp(a)),i}function Jp(i){Er===null?Er=i:Er.push.apply(Er,i)}function gL(i){for(var a=i;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var w=d[g],b=w.getSnapshot;w=w.value;try{if(!bs(b(),w))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wo(i,a){for(a&=~qp,a&=~gh,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var d=31-Kn(a),g=1<<d;i[d]=-1,a&=~g}}function Tb(i){if((bt&6)!==0)throw Error(n(327));Ll();var a=ki(i,0);if((a&1)===0)return kr(i,Tt()),null;var d=_h(i,a);if(i.tag!==0&&d===2){var g=Tc(i);g!==0&&(a=g,d=Xp(i,g))}if(d===1)throw d=su,wa(i,0),wo(i,a),kr(i,Tt()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,xa(i,Er,Oi),kr(i,Tt()),null}function Zp(i,a){var d=bt;bt|=1;try{return i(a)}finally{bt=d,bt===0&&(Ml=Tt()+500,Yd&&ho())}}function va(i){yo!==null&&yo.tag===0&&(bt&6)===0&&Ll();var a=bt;bt|=1;var d=rs.transition,g=vt;try{if(rs.transition=null,vt=1,i)return i()}finally{vt=g,rs.transition=d,bt=a,(bt&6)===0&&ho()}}function eg(){Hr=Nl.current,Ht(Nl)}function wa(i,a){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,G2(d)),pn!==null)for(d=pn.return;d!==null;){var g=d;switch(cp(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&qd();break;case 3:Cl(),Ht(xr),Ht(Qn),_p();break;case 5:xp(g);break;case 4:Cl();break;case 13:Ht(Kt);break;case 19:Ht(Kt);break;case 10:pp(g.type._context);break;case 22:case 23:eg()}d=d.return}if(In=i,pn=i=xo(i.current,null),Vn=Hr=a,xn=0,su=null,qp=gh=ya=0,Er=iu=null,ma!==null){for(a=0;a<ma.length;a++)if(d=ma[a],g=d.interleaved,g!==null){d.interleaved=null;var w=g.next,b=d.pending;if(b!==null){var N=b.next;b.next=w,g.next=N}d.pending=g}ma=null}return i}function Cb(i,a){do{var d=pn;try{if(mp(),ih.current=ch,oh){for(var g=Yt.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}oh=!1}if(ga=0,Pn=wn=Yt=null,Jc=!1,Zc=0,Gp.current=null,d===null||d.return===null){xn=1,su=a,pn=null;break}e:{var b=i,N=d.return,U=d,q=a;if(a=Vn,U.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ne=q,fe=U,ye=fe.tag;if((fe.mode&1)===0&&(ye===0||ye===11||ye===15)){var he=fe.alternate;he?(fe.updateQueue=he.updateQueue,fe.memoizedState=he.memoizedState,fe.lanes=he.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Ce=Jx(N);if(Ce!==null){Ce.flags&=-257,Zx(Ce,N,U,b,a),Ce.mode&1&&Xx(b,ne,a),a=Ce,q=ne;var Ae=a.updateQueue;if(Ae===null){var De=new Set;De.add(q),a.updateQueue=De}else Ae.add(q);break e}else{if((a&1)===0){Xx(b,ne,a),tg();break e}q=Error(n(426))}}else if(Gt&&U.mode&1){var an=Jx(N);if(an!==null){(an.flags&65536)===0&&(an.flags|=256),Zx(an,N,U,b,a),hp(Pl(q,U));break e}}b=q=Pl(q,U),xn!==4&&(xn=2),iu===null?iu=[b]:iu.push(b),b=N;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var Q=Yx(b,q,a);_x(b,Q);break e;case 1:U=q;var K=b.type,J=b.stateNode;if((b.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(go===null||!go.has(J)))){b.flags|=65536,a&=-a,b.lanes|=a;var we=Qx(b,U,a);_x(b,we);break e}}b=b.return}while(b!==null)}Nb(d)}catch(He){a=He,pn===d&&d!==null&&(pn=d=d.return);continue}break}while(!0)}function Pb(){var i=ph.current;return ph.current=ch,i===null?ch:i}function tg(){(xn===0||xn===3||xn===2)&&(xn=4),In===null||(ya&268435455)===0&&(gh&268435455)===0||wo(In,Vn)}function _h(i,a){var d=bt;bt|=2;var g=Pb();(In!==i||Vn!==a)&&(Oi=null,wa(i,a));do try{yL();break}catch(w){Cb(i,w)}while(!0);if(mp(),bt=d,ph.current=g,pn!==null)throw Error(n(261));return In=null,Vn=0,xn}function yL(){for(;pn!==null;)Ib(pn)}function vL(){for(;pn!==null&&!Cn();)Ib(pn)}function Ib(i){var a=Ab(i.alternate,i,Hr);i.memoizedProps=i.pendingProps,a===null?Nb(i):pn=a,Gp.current=null}function Nb(i){var a=i;do{var d=a.alternate;if(i=a.return,(a.flags&32768)===0){if(d=uL(d,a,Hr),d!==null){pn=d;return}}else{if(d=dL(d,a),d!==null){d.flags&=32767,pn=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{xn=6,pn=null;return}}if(a=a.sibling,a!==null){pn=a;return}pn=a=i}while(a!==null);xn===0&&(xn=5)}function xa(i,a,d){var g=vt,w=rs.transition;try{rs.transition=null,vt=1,wL(i,a,d,g)}finally{rs.transition=w,vt=g}return null}function wL(i,a,d,g){do Ll();while(yo!==null);if((bt&6)!==0)throw Error(n(327));d=i.finishedWork;var w=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var b=d.lanes|d.childLanes;if(zm(i,b),i===In&&(pn=In=null,Vn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||vh||(vh=!0,Rb(it,function(){return Ll(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=rs.transition,rs.transition=null;var N=vt;vt=1;var U=bt;bt|=4,Gp.current=null,fL(i,d),xb(d,i),F2(tp),Ci=!!ep,tp=ep=null,i.current=d,mL(d),jr(),bt=U,vt=N,rs.transition=b}else i.current=d;if(vh&&(vh=!1,yo=i,wh=w),b=i.pendingLanes,b===0&&(go=null),Ei(d.stateNode),kr(i,Tt()),a!==null)for(g=i.onRecoverableError,d=0;d<a.length;d++)w=a[d],g(w.value,{componentStack:w.stack,digest:w.digest});if(yh)throw yh=!1,i=Yp,Yp=null,i;return(wh&1)!==0&&i.tag!==0&&Ll(),b=i.pendingLanes,(b&1)!==0?i===Qp?ou++:(ou=0,Qp=i):ou=0,ho(),null}function Ll(){if(yo!==null){var i=Bs(wh),a=rs.transition,d=vt;try{if(rs.transition=null,vt=16>i?16:i,yo===null)var g=!1;else{if(i=yo,yo=null,wh=0,(bt&6)!==0)throw Error(n(331));var w=bt;for(bt|=4,Me=i.current;Me!==null;){var b=Me,N=b.child;if((Me.flags&16)!==0){var U=b.deletions;if(U!==null){for(var q=0;q<U.length;q++){var ne=U[q];for(Me=ne;Me!==null;){var fe=Me;switch(fe.tag){case 0:case 11:case 15:ru(8,fe,b)}var ye=fe.child;if(ye!==null)ye.return=fe,Me=ye;else for(;Me!==null;){fe=Me;var he=fe.sibling,Ce=fe.return;if(pb(fe),fe===ne){Me=null;break}if(he!==null){he.return=Ce,Me=he;break}Me=Ce}}}var Ae=b.alternate;if(Ae!==null){var De=Ae.child;if(De!==null){Ae.child=null;do{var an=De.sibling;De.sibling=null,De=an}while(De!==null)}}Me=b}}if((b.subtreeFlags&2064)!==0&&N!==null)N.return=b,Me=N;else e:for(;Me!==null;){if(b=Me,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:ru(9,b,b.return)}var Q=b.sibling;if(Q!==null){Q.return=b.return,Me=Q;break e}Me=b.return}}var K=i.current;for(Me=K;Me!==null;){N=Me;var J=N.child;if((N.subtreeFlags&2064)!==0&&J!==null)J.return=N,Me=J;else e:for(N=K;Me!==null;){if(U=Me,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:mh(9,U)}}catch(He){tn(U,U.return,He)}if(U===N){Me=null;break e}var we=U.sibling;if(we!==null){we.return=U.return,Me=we;break e}Me=U.return}}if(bt=w,ho(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(hr,i)}catch{}g=!0}return g}finally{vt=d,rs.transition=a}}return!1}function Mb(i,a,d){a=Pl(d,a),a=Yx(i,a,1),i=mo(i,a,1),a=mr(),i!==null&&(ia(i,1,a),kr(i,a))}function tn(i,a,d){if(i.tag===3)Mb(i,i,d);else for(;a!==null;){if(a.tag===3){Mb(a,i,d);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(go===null||!go.has(g))){i=Pl(d,i),i=Qx(a,i,1),a=mo(a,i,1),i=mr(),a!==null&&(ia(a,1,i),kr(a,i));break}}a=a.return}}function xL(i,a,d){var g=i.pingCache;g!==null&&g.delete(a),a=mr(),i.pingedLanes|=i.suspendedLanes&d,In===i&&(Vn&d)===d&&(xn===4||xn===3&&(Vn&130023424)===Vn&&500>Tt()-Kp?wa(i,0):qp|=d),kr(i,a)}function Lb(i,a){a===0&&((i.mode&1)===0?a=1:(a=to,to<<=1,(to&130023424)===0&&(to=4194304)));var d=mr();i=Ri(i,a),i!==null&&(ia(i,a,d),kr(i,d))}function bL(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),Lb(i,d)}function _L(i,a){var d=0;switch(i.tag){case 13:var g=i.stateNode,w=i.memoizedState;w!==null&&(d=w.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(a),Lb(i,d)}var Ab;Ab=function(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps||xr.current)_r=!0;else{if((i.lanes&d)===0&&(a.flags&128)===0)return _r=!1,cL(i,a,d);_r=(i.flags&131072)!==0}else _r=!1,Gt&&(a.flags&1048576)!==0&&hx(a,Xd,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;hh(i,a),i=a.pendingProps;var w=xl(a,Qn.current);Tl(a,d),w=Sp(null,a,g,i,w,d);var b=Tp();return a.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,br(g)?(b=!0,Kd(a)):b=!1,a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,vp(a),w.updater=uh,a.stateNode=w,w._reactInternals=a,Lp(a,g,i,d),a=Dp(null,a,g,!0,b,d)):(a.tag=0,Gt&&b&&lp(a),fr(null,a,w,d),a=a.child),a;case 16:g=a.elementType;e:{switch(hh(i,a),i=a.pendingProps,w=g._init,g=w(g._payload),a.type=g,w=a.tag=kL(g),i=Es(g,i),w){case 0:a=jp(null,a,g,i,d);break e;case 1:a=ib(null,a,g,i,d);break e;case 11:a=eb(null,a,g,i,d);break e;case 14:a=tb(null,a,g,Es(g.type,i),d);break e}throw Error(n(306,g,""))}return a;case 0:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Es(g,w),jp(i,a,g,w,d);case 1:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Es(g,w),ib(i,a,g,w,d);case 3:e:{if(ob(a),i===null)throw Error(n(387));g=a.pendingProps,b=a.memoizedState,w=b.element,bx(i,a),rh(a,g,null,d);var N=a.memoizedState;if(g=N.element,b.isDehydrated)if(b={element:g,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){w=Pl(Error(n(423)),a),a=ab(i,a,g,d,w);break e}else if(g!==w){w=Pl(Error(n(424)),a),a=ab(i,a,g,d,w);break e}else for(Br=lo(a.stateNode.containerInfo.firstChild),zr=a,Gt=!0,_s=null,d=wx(a,null,g,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(El(),g===w){a=Di(i,a,d);break e}fr(i,a,g,d)}a=a.child}return a;case 5:return kx(a),i===null&&dp(a),g=a.type,w=a.pendingProps,b=i!==null?i.memoizedProps:null,N=w.children,np(g,w)?N=null:b!==null&&np(g,b)&&(a.flags|=32),sb(i,a),fr(i,a,N,d),a.child;case 6:return i===null&&dp(a),null;case 13:return lb(i,a,d);case 4:return wp(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=kl(a,null,g,d):fr(i,a,g,d),a.child;case 11:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Es(g,w),eb(i,a,g,w,d);case 7:return fr(i,a,a.pendingProps,d),a.child;case 8:return fr(i,a,a.pendingProps.children,d),a.child;case 12:return fr(i,a,a.pendingProps.children,d),a.child;case 10:e:{if(g=a.type._context,w=a.pendingProps,b=a.memoizedProps,N=w.value,Ft(eh,g._currentValue),g._currentValue=N,b!==null)if(bs(b.value,N)){if(b.children===w.children&&!xr.current){a=Di(i,a,d);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var U=b.dependencies;if(U!==null){N=b.child;for(var q=U.firstContext;q!==null;){if(q.context===g){if(b.tag===1){q=ji(-1,d&-d),q.tag=2;var ne=b.updateQueue;if(ne!==null){ne=ne.shared;var fe=ne.pending;fe===null?q.next=q:(q.next=fe.next,fe.next=q),ne.pending=q}}b.lanes|=d,q=b.alternate,q!==null&&(q.lanes|=d),gp(b.return,d,a),U.lanes|=d;break}q=q.next}}else if(b.tag===10)N=b.type===a.type?null:b.child;else if(b.tag===18){if(N=b.return,N===null)throw Error(n(341));N.lanes|=d,U=N.alternate,U!==null&&(U.lanes|=d),gp(N,d,a),N=b.sibling}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===a){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}fr(i,a,w.children,d),a=a.child}return a;case 9:return w=a.type,g=a.pendingProps.children,Tl(a,d),w=ts(w),g=g(w),a.flags|=1,fr(i,a,g,d),a.child;case 14:return g=a.type,w=Es(g,a.pendingProps),w=Es(g.type,w),tb(i,a,g,w,d);case 15:return nb(i,a,a.type,a.pendingProps,d);case 17:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Es(g,w),hh(i,a),a.tag=1,br(g)?(i=!0,Kd(a)):i=!1,Tl(a,d),qx(a,g,w),Lp(a,g,w,d),Dp(null,a,g,!0,i,d);case 19:return ub(i,a,d);case 22:return rb(i,a,d)}throw Error(n(156,a.tag))};function Rb(i,a){return ys(i,a)}function EL(i,a,d,g){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(i,a,d,g){return new EL(i,a,d,g)}function ng(i){return i=i.prototype,!(!i||!i.isReactComponent)}function kL(i){if(typeof i=="function")return ng(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===pe)return 14}return 2}function xo(i,a){var d=i.alternate;return d===null?(d=ss(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function Eh(i,a,d,g,w,b){var N=2;if(g=i,typeof i=="function")ng(i)&&(N=1);else if(typeof i=="string")N=5;else e:switch(i){case M:return ba(d.children,w,b,a);case T:N=8,w|=8;break;case C:return i=ss(12,d,a,w|2),i.elementType=C,i.lanes=b,i;case L:return i=ss(13,d,a,w),i.elementType=L,i.lanes=b,i;case le:return i=ss(19,d,a,w),i.elementType=le,i.lanes=b,i;case re:return kh(d,w,b,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:N=10;break e;case V:N=9;break e;case $:N=11;break e;case pe:N=14;break e;case ge:N=16,g=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=ss(N,d,a,w),a.elementType=i,a.type=g,a.lanes=b,a}function ba(i,a,d,g){return i=ss(7,i,g,a),i.lanes=d,i}function kh(i,a,d,g){return i=ss(22,i,g,a),i.elementType=re,i.lanes=d,i.stateNode={isHidden:!1},i}function rg(i,a,d){return i=ss(6,i,null,a),i.lanes=d,i}function sg(i,a,d){return a=ss(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function SL(i,a,d,g,w){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function ig(i,a,d,g,w,b,N,U,q){return i=new SL(i,a,d,U,q),a===1?(a=1,b===!0&&(a|=8)):a=0,b=ss(3,null,null,a),i.current=b,b.stateNode=i,b.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},vp(b),i}function TL(i,a,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:g==null?null:""+g,children:i,containerInfo:a,implementation:d}}function jb(i){if(!i)return uo;i=i._reactInternals;e:{if(ft(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(br(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(br(d))return cx(i,d,a)}return a}function Db(i,a,d,g,w,b,N,U,q){return i=ig(d,g,!0,i,w,b,N,U,q),i.context=jb(null),d=i.current,g=mr(),w=vo(d),b=ji(g,w),b.callback=a??null,mo(d,b,w),i.current.lanes=w,ia(i,w,g),kr(i,g),i}function Sh(i,a,d,g){var w=a.current,b=mr(),N=vo(w);return d=jb(d),a.context===null?a.context=d:a.pendingContext=d,a=ji(b,N),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=mo(w,a,N),i!==null&&(Ts(i,w,N,b),nh(i,w,N)),N}function Th(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ob(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function og(i,a){Ob(i,a),(i=i.alternate)&&Ob(i,a)}function CL(){return null}var Vb=typeof reportError=="function"?reportError:function(i){console.error(i)};function ag(i){this._internalRoot=i}Ch.prototype.render=ag.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Sh(i,a,null,null)},Ch.prototype.unmount=ag.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;va(function(){Sh(null,i,null,null)}),a[Ni]=null}};function Ch(i){this._internalRoot=i}Ch.prototype.unstable_scheduleHydration=function(i){if(i){var a=Lc();i={blockedOn:null,target:i,priority:a};for(var d=0;d<Or.length&&a!==0&&a<Or[d].priority;d++);Or.splice(d,0,i),d===0&&sl(i)}};function lg(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ph(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Fb(){}function PL(i,a,d,g,w){if(w){if(typeof g=="function"){var b=g;g=function(){var ne=Th(N);b.call(ne)}}var N=Db(a,g,i,0,null,!1,!1,"",Fb);return i._reactRootContainer=N,i[Ni]=N.current,$c(i.nodeType===8?i.parentNode:i),va(),N}for(;w=i.lastChild;)i.removeChild(w);if(typeof g=="function"){var U=g;g=function(){var ne=Th(q);U.call(ne)}}var q=ig(i,0,!1,null,null,!1,!1,"",Fb);return i._reactRootContainer=q,i[Ni]=q.current,$c(i.nodeType===8?i.parentNode:i),va(function(){Sh(a,q,d,g)}),q}function Ih(i,a,d,g,w){var b=d._reactRootContainer;if(b){var N=b;if(typeof w=="function"){var U=w;w=function(){var q=Th(N);U.call(q)}}Sh(a,N,i,w)}else N=PL(d,a,i,w,g);return Th(N)}Nc=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var d=Ct(a.pendingLanes);d!==0&&(Ic(a,d|1),kr(a,Tt()),(bt&6)===0&&(Ml=Tt()+500,ho()))}break;case 13:va(function(){var g=Ri(i,1);if(g!==null){var w=mr();Ts(g,i,1,w)}}),og(i,1)}},nl=function(i){if(i.tag===13){var a=Ri(i,134217728);if(a!==null){var d=mr();Ts(a,i,134217728,d)}og(i,134217728)}},Mc=function(i){if(i.tag===13){var a=vo(i),d=Ri(i,a);if(d!==null){var g=mr();Ts(d,i,a,g)}og(i,a)}},Lc=function(){return vt},Ac=function(i,a){var d=vt;try{return vt=i,a()}finally{vt=d}},wr=function(i,a,d){switch(a){case"input":if(or(i,d),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var g=d[a];if(g!==i&&g.form===i.form){var w=Gd(g);if(!w)throw Error(n(90));zt(g),or(g,w)}}}break;case"textarea":Vs(i,d);break;case"select":a=d.value,a!=null&&Sn(i,!!d.multiple,a,!1)}},_i=Zp,gs=va;var IL={usingClientEntryPoint:!1,Events:[qc,vl,Gd,qn,Tn,Zp]},au={findFiberByHostInstance:ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NL={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=It(i),i===null?null:i.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||CL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{hr=Nh.inject(NL),xt=Nh}catch{}}return Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IL,Sr.createPortal=function(i,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lg(a))throw Error(n(200));return TL(i,a,null,d)},Sr.createRoot=function(i,a){if(!lg(i))throw Error(n(299));var d=!1,g="",w=Vb;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=ig(i,1,!1,null,null,d,!1,g,w),i[Ni]=a.current,$c(i.nodeType===8?i.parentNode:i),new ag(a)},Sr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=It(a),i=i===null?null:i.stateNode,i},Sr.flushSync=function(i){return va(i)},Sr.hydrate=function(i,a,d){if(!Ph(a))throw Error(n(200));return Ih(null,i,a,!0,d)},Sr.hydrateRoot=function(i,a,d){if(!lg(i))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,w=!1,b="",N=Vb;if(d!=null&&(d.unstable_strictMode===!0&&(w=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(N=d.onRecoverableError)),a=Db(a,null,i,1,d??null,w,!1,b,N),i[Ni]=a.current,$c(i),g)for(i=0;i<g.length;i++)d=g[i],w=d._getVersion,w=w(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,w]:a.mutableSourceEagerHydrationData.push(d,w);return new Ch(a)},Sr.render=function(i,a,d){if(!Ph(a))throw Error(n(200));return Ih(null,i,a,!1,d)},Sr.unmountComponentAtNode=function(i){if(!Ph(i))throw Error(n(40));return i._reactRootContainer?(va(function(){Ih(null,null,i,!1,function(){i._reactRootContainer=null,i[Ni]=null})}),!0):!1},Sr.unstable_batchedUpdates=Zp,Sr.unstable_renderSubtreeIntoContainer=function(i,a,d,g){if(!Ph(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Ih(i,a,d,!1,g)},Sr.version="18.3.1-next-f1338f8080-20240426",Sr}var qb;function eT(){if(qb)return dg.exports;qb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dg.exports=FL(),dg.exports}var Kb;function UL(){if(Kb)return Mh;Kb=1;var t=eT();return Mh.createRoot=t.createRoot,Mh.hydrateRoot=t.hydrateRoot,Mh}var zL=UL(),v=um();const BL=AL(v),HL=LL({__proto__:null,default:BL},[v]);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tT=t=>{throw TypeError(t)},$L=(t,e,n)=>e.has(t)||tT("Cannot "+n),mg=(t,e,n)=>($L(t,e,"read from private field"),n?n.call(t):e.get(t)),WL=(t,e,n)=>e.has(t)?tT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Yb="popstate";function GL(t={}){function e(r,s){let{pathname:o,search:l,hash:c}=r.location;return Bu("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:zo(s)}return KL(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function un(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qL(){return Math.random().toString(36).substring(2,10)}function Qb(t,e){return{usr:t.state,key:t.key,idx:e}}function Bu(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jo(e):e,state:n,key:e&&e.key||r||qL()}}function zo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function KL(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,c="POP",u=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let P=p(),D=P==null?null:P-f;f=P,u&&u({action:c,location:I.location,delta:D})}function x(P,D){c="PUSH";let A=Bu(I.location,P,D);f=p()+1;let z=Qb(A,f),H=I.createHref(A);try{l.pushState(z,"",H)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(H)}o&&u&&u({action:c,location:I.location,delta:1})}function E(P,D){c="REPLACE";let A=Bu(I.location,P,D);f=p();let z=Qb(A,f),H=I.createHref(A);l.replaceState(z,"",H),o&&u&&u({action:c,location:I.location,delta:0})}function k(P){return nT(P)}let I={get action(){return c},get location(){return t(s,l)},listen(P){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Yb,y),u=P,()=>{s.removeEventListener(Yb,y),u=null}},createHref(P){return e(s,P)},createURL:k,encodeLocation(P){let D=k(P);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:x,replace:E,go(P){return l.go(P)}};return I}function nT(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:zo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var wu,Xb=class{constructor(t){if(WL(this,wu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(mg(this,wu).has(t))return mg(this,wu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){mg(this,wu).set(t,e)}};wu=new WeakMap;var YL=new Set(["lazy","caseSensitive","path","id","index","children"]);function QL(t){return YL.has(t)}var XL=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function JL(t){return XL.has(t)}function ZL(t){return t.index===!0}function Hu(t,e,n=[],r={},s=!1){return t.map((o,l)=>{let c=[...n,String(l)],u=typeof o.id=="string"?o.id:c.join("-");if(ct(o.index!==!0||!o.children,"Cannot specify children on an index route"),ct(s||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),ZL(o)){let f={...o,...e(o),id:u};return r[u]=f,f}else{let f={...o,...e(o),id:u,children:void 0};return r[u]=f,o.children&&(f.children=Hu(o.children,e,c,r,s)),f}})}function Io(t,e,n="/"){return Jh(t,e,n,!1)}function Jh(t,e,n,r){let s=typeof e=="string"?Jo(e):e,o=ms(s.pathname||"/",n);if(o==null)return null;let l=rT(t);tA(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let f=hA(o);c=uA(l[u],f,r)}return c}function eA(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function rT(t,e=[],n=[],r="",s=!1){let o=(l,c,u=s,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;ct(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let y=ii([r,p.relativePath]),x=n.concat(p);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),rT(l.children,e,x,y,u)),!(l.path==null&&!l.index)&&e.push({path:y,score:lA(y,l.index),routesMeta:x})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let u of sT(l.path))o(l,c,!0,u)}),e}function sT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=sT(r.join("/")),c=[];return c.push(...l.map(u=>u===""?o:[o,u].join("/"))),s&&c.push(...l),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function tA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nA=/^:[\w-]+$/,rA=3,sA=2,iA=1,oA=10,aA=-2,Jb=t=>t==="*";function lA(t,e){let n=t.split("/"),r=n.length;return n.some(Jb)&&(r+=aA),e&&(r+=sA),n.filter(s=>!Jb(s)).reduce((s,o)=>s+(nA.test(o)?rA:o===""?iA:oA),r)}function cA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function uA(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=wf({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),x=u.route;if(!y&&f&&n&&!r[r.length-1].route.index&&(y=wf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:ii([o,y.pathname]),pathnameBase:gA(ii([o,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(o=ii([o,y.pathnameBase]))}return l}function wf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:y},x)=>{if(p==="*"){let k=c[x]||"";l=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const E=c[x];return y&&!E?f[p]=void 0:f[p]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function dA(t,e=!1,n=!0){un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function hA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fA({basename:t,pathname:e}){return e==="/"?t:ii([t,e])}function mA(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Jo(t):t;return{pathname:n?n.startsWith("/")?n:pA(n,e):e,search:yA(r),hash:vA(s)}}function pA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dm(t){let e=iT(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function hm(t,e,n,r=!1){let s;typeof t=="string"?s=Jo(t):(s={...t},ct(!s.pathname||!s.pathname.includes("?"),pg("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),pg("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),pg("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;s.pathname=x.join("/")}c=y>=0?e[y]:"/"}let u=mA(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var ii=t=>t.join("/").replace(/\/\/+/g,"/"),gA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,xf=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function $u(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var oT=["POST","PUT","PATCH","DELETE"],wA=new Set(oT),xA=["GET",...oT],bA=new Set(xA),_A=new Set([301,302,303,307,308]),EA=new Set([307,308]),gg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},SA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tv=t=>SA.test(t),TA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),aT="remix-router-transitions",lT=Symbol("ResetLoaderData");function CA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ct(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],s=t.mapRouteProperties||TA,o={},l=Hu(t.routes,s,void 0,o),c,u=t.basename||"/";u.startsWith("/")||(u=`/${u}`);let f=t.dataStrategy||LA,p={...t.future},y=null,x=new Set,E=null,k=null,I=null,P=t.hydrationData!=null,D=Io(l,t.history.location,u),A=!1,z=null,H;if(D==null&&!t.patchRoutesOnNavigation){let W=ls(404,{pathname:t.history.location.pathname}),{matches:Y,route:te}=Lh(l);H=!0,D=Y,z={[te.id]:W}}else if(D&&!t.hydrationData&&qn(D,l,t.history.location.pathname).active&&(D=null),D)if(D.some(W=>W.route.lazy))H=!1;else if(!D.some(W=>W.route.loader))H=!0;else{let W=t.hydrationData?t.hydrationData.loaderData:null,Y=t.hydrationData?t.hydrationData.errors:null;if(Y){let te=D.findIndex(se=>Y[se.route.id]!==void 0);H=D.slice(0,te+1).every(se=>!hy(se.route,W,Y))}else H=D.every(te=>!hy(te.route,W,Y))}else{H=!1,D=[];let W=qn(null,l,t.history.location.pathname);W.active&&W.matches&&(A=!0,D=W.matches)}let F,R={historyAction:t.history.action,location:t.history.location,matches:D,initialized:H,navigation:gg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},M="POP",T=!1,C,O=!1,V=new Map,$=null,L=!1,le=!1,pe=new Set,ge=new Map,re=0,B=-1,ue=new Map,oe=new Set,G=new Map,ee=new Map,ce=new Set,ve=new Map,Z,Pe=null;function Se(){if(y=t.history.listen(({action:W,location:Y,delta:te})=>{if(Z){Z(),Z=void 0;return}un(ve.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=vr({currentLocation:R.location,nextLocation:Y,historyAction:W});if(se&&te!=null){let be=new Promise(Oe=>{Z=Oe});t.history.go(te*-1),Gn(se,{state:"blocked",location:Y,proceed(){Gn(se,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),be.then(()=>t.history.go(te))},reset(){let Oe=new Map(R.blockers);Oe.set(se,cu),xe({blockers:Oe})}});return}return hn(W,Y)}),n){qA(e,V);let W=()=>KA(e,V);e.addEventListener("pagehide",W),$=()=>e.removeEventListener("pagehide",W)}return R.initialized||hn("POP",R.location,{initialHydration:!0}),F}function ke(){y&&y(),$&&$(),x.clear(),C&&C.abort(),R.fetchers.forEach((W,Y)=>Ar(Y)),R.blockers.forEach((W,Y)=>Rn(Y))}function We(W){return x.add(W),()=>x.delete(W)}function xe(W,Y={}){W.matches&&(W.matches=W.matches.map(be=>{let Oe=o[be.route.id],Le=be.route;return Le.element!==Oe.element||Le.errorElement!==Oe.errorElement||Le.hydrateFallbackElement!==Oe.hydrateFallbackElement?{...be,route:Oe}:be})),R={...R,...W};let te=[],se=[];R.fetchers.forEach((be,Oe)=>{be.state==="idle"&&(ce.has(Oe)?te.push(Oe):se.push(Oe))}),ce.forEach(be=>{!R.fetchers.has(be)&&!ge.has(be)&&te.push(be)}),[...x].forEach(be=>be(R,{deletedFetchers:te,viewTransitionOpts:Y.viewTransitionOpts,flushSync:Y.flushSync===!0})),te.forEach(be=>Ar(be)),se.forEach(be=>R.fetchers.delete(be))}function Ye(W,Y,{flushSync:te}={}){let se=R.actionData!=null&&R.navigation.formMethod!=null&&Cr(R.navigation.formMethod)&&R.navigation.state==="loading"&&W.state?._isRedirect!==!0,be;Y.actionData?Object.keys(Y.actionData).length>0?be=Y.actionData:be=null:se?be=R.actionData:be=null;let Oe=Y.loaderData?l1(R.loaderData,Y.loaderData,Y.matches||[],Y.errors):R.loaderData,Le=R.blockers;Le.size>0&&(Le=new Map(Le),Le.forEach((Be,Ue)=>Le.set(Ue,cu)));let Te=L?!1:Rr(W,Y.matches||R.matches),Ve=T===!0||R.navigation.formMethod!=null&&Cr(R.navigation.formMethod)&&W.state?._isRedirect!==!0;c&&(l=c,c=void 0),L||M==="POP"||(M==="PUSH"?t.history.push(W,W.state):M==="REPLACE"&&t.history.replace(W,W.state));let Fe;if(M==="POP"){let Be=V.get(R.location.pathname);Be&&Be.has(W.pathname)?Fe={currentLocation:R.location,nextLocation:W}:V.has(W.pathname)&&(Fe={currentLocation:W,nextLocation:R.location})}else if(O){let Be=V.get(R.location.pathname);Be?Be.add(W.pathname):(Be=new Set([W.pathname]),V.set(R.location.pathname,Be)),Fe={currentLocation:R.location,nextLocation:W}}xe({...Y,actionData:be,loaderData:Oe,historyAction:M,location:W,initialized:!0,navigation:gg,revalidation:"idle",restoreScrollPosition:Te,preventScrollReset:Ve,blockers:Le},{viewTransitionOpts:Fe,flushSync:te===!0}),M="POP",T=!1,O=!1,L=!1,le=!1,Pe?.resolve(),Pe=null}async function zt(W,Y){if(typeof W=="number"){t.history.go(W);return}let te=dy(R.location,R.matches,u,W,Y?.fromRouteId,Y?.relative),{path:se,submission:be,error:Oe}=Zb(!1,te,Y),Le=R.location,Te=Bu(R.location,se,Y&&Y.state);Te={...Te,...t.history.encodeLocation(Te)};let Ve=Y&&Y.replace!=null?Y.replace:void 0,Fe="PUSH";Ve===!0?Fe="REPLACE":Ve===!1||be!=null&&Cr(be.formMethod)&&be.formAction===R.location.pathname+R.location.search&&(Fe="REPLACE");let Be=Y&&"preventScrollReset"in Y?Y.preventScrollReset===!0:void 0,Ue=(Y&&Y.flushSync)===!0,ot=vr({currentLocation:Le,nextLocation:Te,historyAction:Fe});if(ot){Gn(ot,{state:"blocked",location:Te,proceed(){Gn(ot,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),zt(W,Y)},reset(){let ft=new Map(R.blockers);ft.set(ot,cu),xe({blockers:ft})}});return}await hn(Fe,Te,{submission:be,pendingError:Oe,preventScrollReset:Be,replace:Y&&Y.replace,enableViewTransition:Y&&Y.viewTransition,flushSync:Ue})}function dn(){Pe||(Pe=YA()),ar(),xe({revalidation:"loading"});let W=Pe.promise;return R.navigation.state==="submitting"?W:R.navigation.state==="idle"?(hn(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),W):(hn(M||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:O===!0}),W)}async function hn(W,Y,te){C&&C.abort(),C=null,M=W,L=(te&&te.startUninterruptedRevalidation)===!0,Dt(R.location,R.matches),T=(te&&te.preventScrollReset)===!0,O=(te&&te.enableViewTransition)===!0;let se=c||l,be=te&&te.overrideNavigation,Oe=te?.initialHydration&&R.matches&&R.matches.length>0&&!A?R.matches:Io(se,Y,u),Le=(te&&te.flushSync)===!0;if(Oe&&R.initialized&&!le&&UA(R.location,Y)&&!(te&&te.submission&&Cr(te.submission.formMethod))){Ye(Y,{matches:Oe},{flushSync:Le});return}let Te=qn(Oe,se,Y.pathname);if(Te.active&&Te.matches&&(Oe=Te.matches),!Oe){let{error:fn,notFoundMatches:Rt,route:It}=lr(Y.pathname);Ye(Y,{matches:Rt,loaderData:{},errors:{[It.id]:fn}},{flushSync:Le});return}C=new AbortController;let Ve=jl(t.history,Y,C.signal,te&&te.submission),Fe=t.getContext?await t.getContext():new Xb,Be;if(te&&te.pendingError)Be=[No(Oe).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&Cr(te.submission.formMethod)){let fn=await yt(Ve,Y,te.submission,Oe,Fe,Te.active,te&&te.initialHydration===!0,{replace:te.replace,flushSync:Le});if(fn.shortCircuited)return;if(fn.pendingActionResult){let[Rt,It]=fn.pendingActionResult;if($r(It)&&$u(It.error)&&It.error.status===404){C=null,Ye(Y,{matches:fn.matches,loaderData:{},errors:{[Rt]:It.error}});return}}Oe=fn.matches||Oe,Be=fn.pendingActionResult,be=yg(Y,te.submission),Le=!1,Te.active=!1,Ve=jl(t.history,Ve.url,Ve.signal)}let{shortCircuited:Ue,matches:ot,loaderData:ft,errors:Wt}=await ps(Ve,Y,Oe,Fe,Te.active,be,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,Le,Be);Ue||(C=null,Ye(Y,{matches:ot||Oe,...c1(Be),loaderData:ft,errors:Wt}))}async function yt(W,Y,te,se,be,Oe,Le,Te={}){ar();let Ve=WA(Y,te);if(xe({navigation:Ve},{flushSync:Te.flushSync===!0}),Oe){let Ue=await Tn(se,Y.pathname,W.signal);if(Ue.type==="aborted")return{shortCircuited:!0};if(Ue.type==="error"){if(Ue.partialMatches.length===0){let{matches:ft,route:Wt}=Lh(l);return{matches:ft,pendingActionResult:[Wt.id,{type:"error",error:Ue.error}]}}let ot=No(Ue.partialMatches).route.id;return{matches:Ue.partialMatches,pendingActionResult:[ot,{type:"error",error:Ue.error}]}}else if(Ue.matches)se=Ue.matches;else{let{notFoundMatches:ot,error:ft,route:Wt}=lr(Y.pathname);return{matches:ot,pendingActionResult:[Wt.id,{type:"error",error:ft}]}}}let Fe,Be=Zh(se,Y);if(!Be.route.action&&!Be.route.lazy)Fe={type:"error",error:ls(405,{method:W.method,pathname:Y.pathname,routeId:Be.route.id})};else{let Ue=ql(s,o,W,se,Be,Le?[]:r,be),ot=await $n(W,Ue,be,null);if(Fe=ot[Be.route.id],!Fe){for(let ft of se)if(ot[ft.route.id]){Fe=ot[ft.route.id];break}}if(W.signal.aborted)return{shortCircuited:!0}}if(Ia(Fe)){let Ue;return Te&&Te.replace!=null?Ue=Te.replace:Ue=i1(Fe.response.headers.get("Location"),new URL(W.url),u)===R.location.pathname+R.location.search,await Hn(W,Fe,!0,{submission:te,replace:Ue}),{shortCircuited:!0}}if($r(Fe)){let Ue=No(se,Be.route.id);return(Te&&Te.replace)!==!0&&(M="PUSH"),{matches:se,pendingActionResult:[Ue.route.id,Fe,Be.route.id]}}return{matches:se,pendingActionResult:[Be.route.id,Fe]}}async function ps(W,Y,te,se,be,Oe,Le,Te,Ve,Fe,Be,Ue){let ot=Oe||yg(Y,Le),ft=Le||Te||d1(ot),Wt=!L&&!Fe;if(be){if(Wt){let en=or(Ue);xe({navigation:ot,...en!==void 0?{actionData:en}:{}},{flushSync:Be})}let it=await Tn(te,Y.pathname,W.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){if(it.partialMatches.length===0){let{matches:Dr,route:hr}=Lh(l);return{matches:Dr,loaderData:{},errors:{[hr.id]:it.error}}}let en=No(it.partialMatches).route.id;return{matches:it.partialMatches,loaderData:{},errors:{[en]:it.error}}}else if(it.matches)te=it.matches;else{let{error:en,notFoundMatches:Dr,route:hr}=lr(Y.pathname);return{matches:Dr,loaderData:{},errors:{[hr.id]:en}}}}let fn=c||l,{dsMatches:Rt,revalidatingFetchers:It}=e1(W,se,s,o,t.history,R,te,ft,Y,Fe?[]:r,Fe===!0,le,pe,ce,G,oe,fn,u,t.patchRoutesOnNavigation!=null,Ue);if(B=++re,!t.dataStrategy&&!Rt.some(it=>it.shouldLoad)&&!Rt.some(it=>it.route.middleware)&&It.length===0){let it=Wn();return Ye(Y,{matches:te,loaderData:{},errors:Ue&&$r(Ue[1])?{[Ue[0]]:Ue[1].error}:null,...c1(Ue),...it?{fetchers:new Map(R.fetchers)}:{}},{flushSync:Be}),{shortCircuited:!0}}if(Wt){let it={};if(!be){it.navigation=ot;let en=or(Ue);en!==void 0&&(it.actionData=en)}It.length>0&&(it.fetchers=Os(It)),xe(it,{flushSync:Be})}It.forEach(it=>{Zt(it.key),it.controller&&ge.set(it.key,it.controller)});let ur=()=>It.forEach(it=>Zt(it.key));C&&C.signal.addEventListener("abort",ur);let{loaderResults:ys,fetcherResults:dr}=await Vs(Rt,It,W,se);if(W.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",ur),It.forEach(it=>ge.delete(it.key));let Cn=Ah(ys);if(Cn)return await Hn(W,Cn.result,!0,{replace:Ve}),{shortCircuited:!0};if(Cn=Ah(dr),Cn)return oe.add(Cn.key),await Hn(W,Cn.result,!0,{replace:Ve}),{shortCircuited:!0};let{loaderData:jr,errors:Tt}=a1(R,te,ys,Ue,It,dr);Fe&&R.errors&&(Tt={...R.errors,...Tt});let vs=Wn(),ws=Yr(B),Us=vs||ws||It.length>0;return{matches:te,loaderData:jr,errors:Tt,...Us?{fetchers:new Map(R.fetchers)}:{}}}function or(W){if(W&&!$r(W[1]))return{[W[0]]:W[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function Os(W){return W.forEach(Y=>{let te=R.fetchers.get(Y.key),se=uu(void 0,te?te.data:void 0);R.fetchers.set(Y.key,se)}),new Map(R.fetchers)}async function jt(W,Y,te,se){Zt(W);let be=(se&&se.flushSync)===!0,Oe=c||l,Le=dy(R.location,R.matches,u,te,Y,se?.relative),Te=Io(Oe,Le,u),Ve=qn(Te,Oe,Le);if(Ve.active&&Ve.matches&&(Te=Ve.matches),!Te){sn(W,Y,ls(404,{pathname:Le}),{flushSync:be});return}let{path:Fe,submission:Be,error:Ue}=Zb(!0,Le,se);if(Ue){sn(W,Y,Ue,{flushSync:be});return}let ot=t.getContext?await t.getContext():new Xb,ft=(se&&se.preventScrollReset)===!0;if(Be&&Cr(Be.formMethod)){await Vt(W,Y,Fe,Te,ot,Ve.active,be,ft,Be);return}G.set(W,{routeId:Y,path:Fe}),await Sn(W,Y,Fe,Te,ot,Ve.active,be,ft,Be)}async function Vt(W,Y,te,se,be,Oe,Le,Te,Ve){ar(),G.delete(W);let Fe=R.fetchers.get(W);An(W,GA(Ve,Fe),{flushSync:Le});let Be=new AbortController,Ue=jl(t.history,te,Be.signal,Ve);if(Oe){let xt=await Tn(se,new URL(Ue.url).pathname,Ue.signal,W);if(xt.type==="aborted")return;if(xt.type==="error"){sn(W,Y,xt.error,{flushSync:Le});return}else if(xt.matches)se=xt.matches;else{sn(W,Y,ls(404,{pathname:te}),{flushSync:Le});return}}let ot=Zh(se,te);if(!ot.route.action&&!ot.route.lazy){let xt=ls(405,{method:Ve.formMethod,pathname:te,routeId:Y});sn(W,Y,xt,{flushSync:Le});return}ge.set(W,Be);let ft=re,Wt=ql(s,o,Ue,se,ot,r,be),Rt=(await $n(Ue,Wt,be,W))[ot.route.id];if(Ue.signal.aborted){ge.get(W)===Be&&ge.delete(W);return}if(ce.has(W)){if(Ia(Rt)||$r(Rt)){An(W,So(void 0));return}}else{if(Ia(Rt))if(ge.delete(W),B>ft){An(W,So(void 0));return}else return oe.add(W),An(W,uu(Ve)),Hn(Ue,Rt,!1,{fetcherSubmission:Ve,preventScrollReset:Te});if($r(Rt)){sn(W,Y,Rt.error);return}}let It=R.navigation.location||R.location,ur=jl(t.history,It,Be.signal),ys=c||l,dr=R.navigation.state!=="idle"?Io(ys,R.navigation.location,u):R.matches;ct(dr,"Didn't find any matches after fetcher action");let Cn=++re;ue.set(W,Cn);let jr=uu(Ve,Rt.data);R.fetchers.set(W,jr);let{dsMatches:Tt,revalidatingFetchers:vs}=e1(ur,be,s,o,t.history,R,dr,Ve,It,r,!1,le,pe,ce,G,oe,ys,u,t.patchRoutesOnNavigation!=null,[ot.route.id,Rt]);vs.filter(xt=>xt.key!==W).forEach(xt=>{let Ei=xt.key,Kn=R.fetchers.get(Ei),Xr=uu(void 0,Kn?Kn.data:void 0);R.fetchers.set(Ei,Xr),Zt(Ei),xt.controller&&ge.set(Ei,xt.controller)}),xe({fetchers:new Map(R.fetchers)});let ws=()=>vs.forEach(xt=>Zt(xt.key));Be.signal.addEventListener("abort",ws);let{loaderResults:Us,fetcherResults:it}=await Vs(Tt,vs,ur,be);if(Be.signal.aborted)return;if(Be.signal.removeEventListener("abort",ws),ue.delete(W),ge.delete(W),vs.forEach(xt=>ge.delete(xt.key)),R.fetchers.has(W)){let xt=So(Rt.data);R.fetchers.set(W,xt)}let en=Ah(Us);if(en)return Hn(ur,en.result,!1,{preventScrollReset:Te});if(en=Ah(it),en)return oe.add(en.key),Hn(ur,en.result,!1,{preventScrollReset:Te});let{loaderData:Dr,errors:hr}=a1(R,dr,Us,void 0,vs,it);Yr(Cn),R.navigation.state==="loading"&&Cn>B?(ct(M,"Expected pending action"),C&&C.abort(),Ye(R.navigation.location,{matches:dr,loaderData:Dr,errors:hr,fetchers:new Map(R.fetchers)})):(xe({errors:hr,loaderData:l1(R.loaderData,Dr,dr,hr),fetchers:new Map(R.fetchers)}),le=!1)}async function Sn(W,Y,te,se,be,Oe,Le,Te,Ve){let Fe=R.fetchers.get(W);An(W,uu(Ve,Fe?Fe.data:void 0),{flushSync:Le});let Be=new AbortController,Ue=jl(t.history,te,Be.signal);if(Oe){let It=await Tn(se,new URL(Ue.url).pathname,Ue.signal,W);if(It.type==="aborted")return;if(It.type==="error"){sn(W,Y,It.error,{flushSync:Le});return}else if(It.matches)se=It.matches;else{sn(W,Y,ls(404,{pathname:te}),{flushSync:Le});return}}let ot=Zh(se,te);ge.set(W,Be);let ft=re,Wt=ql(s,o,Ue,se,ot,r,be),Rt=(await $n(Ue,Wt,be,W))[ot.route.id];if(ge.get(W)===Be&&ge.delete(W),!Ue.signal.aborted){if(ce.has(W)){An(W,So(void 0));return}if(Ia(Rt))if(B>ft){An(W,So(void 0));return}else{oe.add(W),await Hn(Ue,Rt,!1,{preventScrollReset:Te});return}if($r(Rt)){sn(W,Y,Rt.error);return}An(W,So(Rt.data))}}async function Hn(W,Y,te,{submission:se,fetcherSubmission:be,preventScrollReset:Oe,replace:Le}={}){Y.response.headers.has("X-Remix-Revalidate")&&(le=!0);let Te=Y.response.headers.get("Location");ct(Te,"Expected a Location header on the redirect Response"),Te=i1(Te,new URL(W.url),u);let Ve=Bu(R.location,Te,{_isRedirect:!0});if(n){let Wt=!1;if(Y.response.headers.has("X-Remix-Reload-Document"))Wt=!0;else if(Tv(Te)){const fn=nT(Te,!0);Wt=fn.origin!==e.location.origin||ms(fn.pathname,u)==null}if(Wt){Le?e.location.replace(Te):e.location.assign(Te);return}}C=null;let Fe=Le===!0||Y.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Be,formAction:Ue,formEncType:ot}=R.navigation;!se&&!be&&Be&&Ue&&ot&&(se=d1(R.navigation));let ft=se||be;if(EA.has(Y.response.status)&&ft&&Cr(ft.formMethod))await hn(Fe,Ve,{submission:{...ft,formAction:Te},preventScrollReset:Oe||T,enableViewTransition:te?O:void 0});else{let Wt=yg(Ve,se);await hn(Fe,Ve,{overrideNavigation:Wt,fetcherSubmission:be,preventScrollReset:Oe||T,enableViewTransition:te?O:void 0})}}async function $n(W,Y,te,se){let be,Oe={};try{be=await RA(f,W,Y,se,te,!1)}catch(Le){return Y.filter(Te=>Te.shouldLoad).forEach(Te=>{Oe[Te.route.id]={type:"error",error:Le}}),Oe}if(W.signal.aborted)return Oe;for(let[Le,Te]of Object.entries(be))if(HA(Te)){let Ve=Te.result;Oe[Le]={type:"redirect",response:VA(Ve,W,Le,Y,u)}}else Oe[Le]=await OA(Te);return Oe}async function Vs(W,Y,te,se){let be=$n(te,W,se,null),Oe=Promise.all(Y.map(async Ve=>{if(Ve.matches&&Ve.match&&Ve.request&&Ve.controller){let Be=(await $n(Ve.request,Ve.matches,se,Ve.key))[Ve.match.route.id];return{[Ve.key]:Be}}else return Promise.resolve({[Ve.key]:{type:"error",error:ls(404,{pathname:Ve.path})}})})),Le=await be,Te=(await Oe).reduce((Ve,Fe)=>Object.assign(Ve,Fe),{});return{loaderResults:Le,fetcherResults:Te}}function ar(){le=!0,G.forEach((W,Y)=>{ge.has(Y)&&pe.add(Y),Zt(Y)})}function An(W,Y,te={}){R.fetchers.set(W,Y),xe({fetchers:new Map(R.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function sn(W,Y,te,se={}){let be=No(R.matches,Y);Ar(W),xe({errors:{[be.route.id]:te},fetchers:new Map(R.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function yr(W){return ee.set(W,(ee.get(W)||0)+1),ce.has(W)&&ce.delete(W),R.fetchers.get(W)||kA}function Ar(W){let Y=R.fetchers.get(W);ge.has(W)&&!(Y&&Y.state==="loading"&&ue.has(W))&&Zt(W),G.delete(W),ue.delete(W),oe.delete(W),ce.delete(W),pe.delete(W),R.fetchers.delete(W)}function Kr(W){let Y=(ee.get(W)||0)-1;Y<=0?(ee.delete(W),ce.add(W)):ee.set(W,Y),xe({fetchers:new Map(R.fetchers)})}function Zt(W){let Y=ge.get(W);Y&&(Y.abort(),ge.delete(W))}function Fs(W){for(let Y of W){let te=yr(Y),se=So(te.data);R.fetchers.set(Y,se)}}function Wn(){let W=[],Y=!1;for(let te of oe){let se=R.fetchers.get(te);ct(se,`Expected fetcher: ${te}`),se.state==="loading"&&(oe.delete(te),W.push(te),Y=!0)}return Fs(W),Y}function Yr(W){let Y=[];for(let[te,se]of ue)if(se<W){let be=R.fetchers.get(te);ct(be,`Expected fetcher: ${te}`),be.state==="loading"&&(Zt(te),ue.delete(te),Y.push(te))}return Fs(Y),Y.length>0}function Qr(W,Y){let te=R.blockers.get(W)||cu;return ve.get(W)!==Y&&ve.set(W,Y),te}function Rn(W){R.blockers.delete(W),ve.delete(W)}function Gn(W,Y){let te=R.blockers.get(W)||cu;ct(te.state==="unblocked"&&Y.state==="blocked"||te.state==="blocked"&&Y.state==="blocked"||te.state==="blocked"&&Y.state==="proceeding"||te.state==="blocked"&&Y.state==="unblocked"||te.state==="proceeding"&&Y.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${Y.state}`);let se=new Map(R.blockers);se.set(W,Y),xe({blockers:se})}function vr({currentLocation:W,nextLocation:Y,historyAction:te}){if(ve.size===0)return;ve.size>1&&un(!1,"A router only supports one blocker at a time");let se=Array.from(ve.entries()),[be,Oe]=se[se.length-1],Le=R.blockers.get(be);if(!(Le&&Le.state==="proceeding")&&Oe({currentLocation:W,nextLocation:Y,historyAction:te}))return be}function lr(W){let Y=ls(404,{pathname:W}),te=c||l,{matches:se,route:be}=Lh(te);return{notFoundMatches:se,route:be,error:Y}}function wr(W,Y,te){if(E=W,I=Y,k=te||null,!P&&R.navigation===gg){P=!0;let se=Rr(R.location,R.matches);se!=null&&xe({restoreScrollPosition:se})}return()=>{E=null,I=null,k=null}}function cr(W,Y){return k&&k(W,Y.map(se=>eA(se,R.loaderData)))||W.key}function Dt(W,Y){if(E&&I){let te=cr(W,Y);E[te]=I()}}function Rr(W,Y){if(E){let te=cr(W,Y),se=E[te];if(typeof se=="number")return se}return null}function qn(W,Y,te){if(t.patchRoutesOnNavigation)if(W){if(Object.keys(W[0].params).length>0)return{active:!0,matches:Jh(Y,te,u,!0)}}else return{active:!0,matches:Jh(Y,te,u,!0)||[]};return{active:!1,matches:null}}async function Tn(W,Y,te,se){if(!t.patchRoutesOnNavigation)return{type:"success",matches:W};let be=W;for(;;){let Oe=c==null,Le=c||l,Te=o;try{await t.patchRoutesOnNavigation({signal:te,path:Y,matches:be,fetcherKey:se,patch:(Be,Ue)=>{te.aborted||t1(Be,Ue,Le,Te,s,!1)}})}catch(Be){return{type:"error",error:Be,partialMatches:be}}finally{Oe&&!te.aborted&&(l=[...l])}if(te.aborted)return{type:"aborted"};let Ve=Io(Le,Y,u);if(Ve)return{type:"success",matches:Ve};let Fe=Jh(Le,Y,u,!0);if(!Fe||be.length===Fe.length&&be.every((Be,Ue)=>Be.route.id===Fe[Ue].route.id))return{type:"success",matches:null};be=Fe}}function _i(W){o={},c=Hu(W,s,void 0,o)}function gs(W,Y,te=!1){let se=c==null;t1(W,Y,c||l,o,s,te),se&&(l=[...l],xe({}))}return F={get basename(){return u},get future(){return p},get state(){return R},get routes(){return l},get window(){return e},initialize:Se,subscribe:We,enableScrollRestoration:wr,navigate:zt,fetch:jt,revalidate:dn,createHref:W=>t.history.createHref(W),encodeLocation:W=>t.history.encodeLocation(W),getFetcher:yr,deleteFetcher:Kr,dispose:ke,getBlocker:Qr,deleteBlocker:Rn,patchRoutes:gs,_internalFetchControllers:ge,_internalSetRoutes:_i,_internalSetStateDoNotUseOrYouWillBreakYourApp(W){xe(W)}},F}function PA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function dy(t,e,n,r,s,o){let l,c;if(s){l=[];for(let f of e)if(l.push(f),f.route.id===s){c=f;break}}else l=e,c=e[e.length-1];let u=hm(r||".",dm(l),ms(t.pathname,n)||t.pathname,o==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&c){let f=Cv(u.search);if(c.route.index&&!f)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let p=new URLSearchParams(u.search),y=p.getAll("index");p.delete("index"),y.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();u.search=x?`?${x}`:""}}return n!=="/"&&(u.pathname=fA({basename:n,pathname:u.pathname})),zo(u)}function Zb(t,e,n){if(!n||!PA(n))return{path:e};if(n.formMethod&&!$A(n.formMethod))return{path:e,error:ls(405,{method:n.formMethod})};let r=()=>({path:e,error:ls(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=mT(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Cr(o))return r();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[E,k])=>`${x}${E}=${k}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!Cr(o))return r();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return r()}}}ct(typeof FormData=="function","FormData is not available in this environment");let c,u;if(n.formData)c=my(n.formData),u=n.formData;else if(n.body instanceof FormData)c=my(n.body),u=n.body;else if(n.body instanceof URLSearchParams)c=n.body,u=o1(c);else if(n.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(n.body),u=o1(c)}catch{return r()}let f={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Cr(f.formMethod))return{path:e,submission:f};let p=Jo(e);return t&&p.search&&Cv(p.search)&&c.append("index",""),p.search=`?${c}`,{path:zo(p),submission:f}}function e1(t,e,n,r,s,o,l,c,u,f,p,y,x,E,k,I,P,D,A,z){let H=z?$r(z[1])?z[1].error:z[1].data:void 0,F=s.createURL(o.location),R=s.createURL(u),M;if(p&&o.errors){let L=Object.keys(o.errors)[0];M=l.findIndex(le=>le.route.id===L)}else if(z&&$r(z[1])){let L=z[0];M=l.findIndex(le=>le.route.id===L)-1}let T=z?z[1].statusCode:void 0,C=T&&T>=400,O={currentUrl:F,currentParams:o.matches[0]?.params||{},nextUrl:R,nextParams:l[0].params,...c,actionResult:H,actionStatus:T},V=l.map((L,le)=>{let{route:pe}=L,ge=null;if(M!=null&&le>M?ge=!1:pe.lazy?ge=!0:pe.loader==null?ge=!1:p?ge=hy(pe,o.loaderData,o.errors):IA(o.loaderData,o.matches[le],L)&&(ge=!0),ge!==null)return fy(n,r,t,L,f,e,ge);let re=C?!1:y||F.pathname+F.search===R.pathname+R.search||F.search!==R.search||NA(o.matches[le],L),B={...O,defaultShouldRevalidate:re},ue=bf(L,B);return fy(n,r,t,L,f,e,ue,B)}),$=[];return k.forEach((L,le)=>{if(p||!l.some(ee=>ee.route.id===L.routeId)||E.has(le))return;let pe=o.fetchers.get(le),ge=pe&&pe.state!=="idle"&&pe.data===void 0,re=Io(P,L.path,D);if(!re){if(A&&ge)return;$.push({key:le,routeId:L.routeId,path:L.path,matches:null,match:null,request:null,controller:null});return}if(I.has(le))return;let B=Zh(re,L.path),ue=new AbortController,oe=jl(s,L.path,ue.signal),G=null;if(x.has(le))x.delete(le),G=ql(n,r,oe,re,B,f,e);else if(ge)y&&(G=ql(n,r,oe,re,B,f,e));else{let ee={...O,defaultShouldRevalidate:C?!1:y};bf(B,ee)&&(G=ql(n,r,oe,re,B,f,e,ee))}G&&$.push({key:le,routeId:L.routeId,path:L.path,matches:G,match:B,request:oe,controller:ue})}),{dsMatches:V,revalidatingFetchers:$}}function hy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function IA(t,e,n){let r=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return r||s}function NA(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function bf(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function t1(t,e,n,r,s,o){let l;if(t){let f=r[t];ct(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),l=f.children}else l=n;let c=[],u=[];if(e.forEach(f=>{let p=l.find(y=>cT(f,y));p?u.push({existingRoute:p,newRoute:f}):c.push(f)}),c.length>0){let f=Hu(c,s,[t||"_","patch",String(l?.length||"0")],r);l.push(...f)}if(o&&u.length>0)for(let f=0;f<u.length;f++){let{existingRoute:p,newRoute:y}=u[f],x=p,[E]=Hu([y],s,[],{},!0);Object.assign(x,{element:E.element?E.element:x.element,errorElement:E.errorElement?E.errorElement:x.errorElement,hydrateFallbackElement:E.hydrateFallbackElement?E.hydrateFallbackElement:x.hydrateFallbackElement})}}function cT(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(s=>cT(n,s))):!1}var n1=new WeakMap,uT=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let s=n[e.id];if(ct(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[t];if(!o)return;let l=n1.get(s);l||(l={},n1.set(s,l));let c=l[t];if(c)return c;let u=(async()=>{let f=QL(t),y=s[t]!==void 0&&t!=="hasErrorBoundary";if(f)un(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(y)un(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let x=await o();x!=null&&(Object.assign(s,{[t]:x}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(x=>x===void 0)&&(s.lazy=void 0))})();return l[t]=u,u},r1=new WeakMap;function MA(t,e,n,r,s){let o=n[t.id];if(ct(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=r1.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let y=(async()=>{ct(typeof t.lazy=="function","No lazy route function found");let x=await t.lazy(),E={};for(let k in x){let I=x[k];if(I===void 0)continue;let P=JL(k),A=o[k]!==void 0&&k!=="hasErrorBoundary";P?un(!P,"Route property "+k+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?un(!A,`Route "${o.id}" has a static property "${k}" defined but its lazy function is also returning a value for this property. The lazy route property "${k}" will be ignored.`):E[k]=I}Object.assign(o,E),Object.assign(o,{...r(o),lazy:void 0})})();return r1.set(o,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let l=Object.keys(t.lazy),c=[],u;for(let p of l){if(s&&s.includes(p))continue;let y=uT({key:p,route:t,manifest:n,mapRouteProperties:r});y&&(c.push(y),p===e&&(u=y))}let f=c.length>0?Promise.all(c).then(()=>{}):void 0;return f?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:u}}async function s1(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{n[e[o].route.id]=s}),n}async function LA(t){return t.matches.some(e=>e.route.middleware)?dT(t,()=>s1(t)):s1(t)}function dT(t,e){return AA(t,e,r=>r,zA,n);function n(r,s,o){if(o)return Promise.resolve(Object.assign(o.value,{[s]:{type:"error",result:r}}));{let{matches:l}=t,c=Math.min(l.findIndex(f=>f.route.id===s)||0,l.findIndex(f=>f.unstable_shouldCallHandler())||0),u=No(l,l[c].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:r}})}}}async function AA(t,e,n,r,s){let{matches:o,request:l,params:c,context:u}=t,f=o.flatMap(y=>y.route.middleware?y.route.middleware.map(x=>[y.route.id,x]):[]);return await hT({request:l,params:c,context:u},f,e,n,r,s)}async function hT(t,e,n,r,s,o,l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let u=e[l];if(!u)return await n();let[f,p]=u,y,x=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");try{return y={value:await hT(t,e,n,r,s,o,l+1)},y.value}catch(E){return y={value:await o(E,f,y)},y.value}};try{let E=await p(t,x),k=E!=null?r(E):void 0;return s(k)?k:y?k??y.value:(y={value:await x()},y.value)}catch(E){return await o(E,f,y)}}function fT(t,e,n,r,s){let o=uT({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=MA(r.route,Cr(n.method)?"action":"loader",e,t,s);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function fy(t,e,n,r,s,o,l,c=null){let u=!1,f=fT(t,e,n,r,s);return{...r,_lazyPromises:f,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(p){return u=!0,c?typeof p=="boolean"?bf(r,{...c,defaultShouldRevalidate:p}):bf(r,c):l},resolve(p){return u||l||p&&!Cr(n.method)&&(r.route.lazy||r.route.loader)?jA({request:n,match:r,lazyHandlerPromise:f?.handler,lazyRoutePromise:f?.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function ql(t,e,n,r,s,o,l,c=null){return r.map(u=>u.route.id!==s.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:fT(t,e,n,u,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:fy(t,e,n,u,o,l,!0,c))}async function RA(t,e,n,r,s,o){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let l={request:e,params:n[0].params,context:s,matches:n},u=await t({...l,fetcherKey:r,runClientMiddleware:f=>{let p=l;return dT(p,()=>f({...p,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return u}async function jA({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:s,scopedContext:o}){let l,c,u=Cr(t.method),f=u?"action":"loader",p=y=>{let x,E=new Promise((P,D)=>x=D);c=()=>x(),t.signal.addEventListener("abort",c);let k=P=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${e.route.id}]`)):y({request:t,params:e.params,context:o},...P!==void 0?[P]:[]),I=(async()=>{try{return{type:"data",result:await(s?s(D=>k(D)):k())}}catch(P){return{type:"error",result:P}}})();return Promise.race([I,E])};try{let y=u?e.route.action:e.route.loader;if(n||r)if(y){let x,[E]=await Promise.all([p(y).catch(k=>{x=k}),n,r]);if(x!==void 0)throw x;l=E}else{await n;let x=u?e.route.action:e.route.loader;if(x)[l]=await Promise.all([p(x),r]);else if(f==="action"){let E=new URL(t.url),k=E.pathname+E.search;throw ls(405,{method:t.method,pathname:k,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(y)l=await p(y);else{let x=new URL(t.url),E=x.pathname+x.search;throw ls(404,{pathname:E})}}catch(y){return{type:"error",result:y}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function DA(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function OA(t){let{result:e,type:n}=t;if(pT(e)){let r;try{r=await DA(e)}catch(s){return{type:"error",error:s}}return n==="error"?{type:"error",error:new xf(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?u1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new xf(e.init?.status||500,void 0,e.data),statusCode:$u(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:$u(e)?e.status:void 0}:u1(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function VA(t,e,n,r,s){let o=t.headers.get("Location");if(ct(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Tv(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=dy(new URL(e.url),l,s,o),t.headers.set("Location",o)}return t}function i1(t,e,n){if(Tv(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ms(s.pathname,n)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return t}function jl(t,e,n,r){let s=t.createURL(mT(e)).toString(),o={signal:n};if(r&&Cr(r.formMethod)){let{formMethod:l,formEncType:c}=r;o.method=l.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(r.json)):c==="text/plain"?o.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?o.body=my(r.formData):o.body=r.formData}return new Request(s,o)}function my(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function o1(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function FA(t,e,n,r=!1,s=!1){let o={},l=null,c,u=!1,f={},p=n&&$r(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let x=y.route.id,E=e[x];if(ct(!Ia(E),"Cannot handle redirect results in processLoaderData"),$r(E)){let k=E.error;if(p!==void 0&&(k=p,p=void 0),l=l||{},s)l[x]=k;else{let I=No(t,x);l[I.route.id]==null&&(l[I.route.id]=k)}r||(o[x]=lT),u||(u=!0,c=$u(E.error)?E.error.status:500),E.headers&&(f[x]=E.headers)}else o[x]=E.data,E.statusCode&&E.statusCode!==200&&!u&&(c=E.statusCode),E.headers&&(f[x]=E.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:f}}function a1(t,e,n,r,s,o){let{loaderData:l,errors:c}=FA(e,n,r);return s.filter(u=>!u.matches||u.matches.some(f=>f.shouldLoad)).forEach(u=>{let{key:f,match:p,controller:y}=u;if(y&&y.signal.aborted)return;let x=o[f];if(ct(x,"Did not find corresponding fetcher result"),$r(x)){let E=No(t.matches,p?.route.id);c&&c[E.route.id]||(c={...c,[E.route.id]:x.error}),t.fetchers.delete(f)}else if(Ia(x))ct(!1,"Unhandled fetcher revalidation redirect");else{let E=So(x.data);t.fetchers.set(f,E)}}),{loaderData:l,errors:c}}function l1(t,e,n,r){let s=Object.entries(e).filter(([,o])=>o!==lT).reduce((o,[l,c])=>(o[l]=c,o),{});for(let o of n){let l=o.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&o.route.loader&&(s[l]=t[l]),r&&r.hasOwnProperty(l))break}return s}function c1(t){return t?$r(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function No(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Lh(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ls(t,{pathname:e,routeId:n,method:r,type:s,message:o}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new xf(t||500,l,new Error(c),!0)}function Ah(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Ia(s))return{key:r,result:s}}}function mT(t){let e=typeof t=="string"?Jo(t):t;return zo({...e,hash:""})}function UA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function zA(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&BA(n))}function BA(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function HA(t){return pT(t.result)&&_A.has(t.result.status)}function $r(t){return t.type==="error"}function Ia(t){return(t&&t.type)==="redirect"}function u1(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function pT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function $A(t){return bA.has(t.toUpperCase())}function Cr(t){return wA.has(t.toUpperCase())}function Cv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Zh(t,e){let n=typeof e=="string"?Jo(e).search:e.search;if(t[t.length-1].route.index&&Cv(n||""))return t[t.length-1];let r=iT(t);return r[r.length-1]}function d1(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:o,json:l}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function yg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function WA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function uu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function So(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qA(t,e){try{let n=t.sessionStorage.getItem(aT);if(n){let r=JSON.parse(n);for(let[s,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function KA(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(aT,JSON.stringify(n))}catch(r){un(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function YA(){let t,e,n=new Promise((r,s)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{s(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var qa=v.createContext(null);qa.displayName="DataRouter";var ud=v.createContext(null);ud.displayName="DataRouterState";v.createContext(!1);var Pv=v.createContext({isTransitioning:!1});Pv.displayName="ViewTransition";var gT=v.createContext(new Map);gT.displayName="Fetchers";var QA=v.createContext(null);QA.displayName="Await";var Rs=v.createContext(null);Rs.displayName="Navigation";var fm=v.createContext(null);fm.displayName="Location";var js=v.createContext({outlet:null,matches:[],isDataRoute:!1});js.displayName="Route";var Iv=v.createContext(null);Iv.displayName="RouteError";function XA(t,{relative:e}={}){ct(dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Rs),{hash:s,pathname:o,search:l}=dd(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:ii([n,o])),r.createHref({pathname:c,search:l,hash:s})}function dc(){return v.useContext(fm)!=null}function Zi(){return ct(dc(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(fm).location}var yT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vT(t){v.useContext(Rs).static||v.useLayoutEffect(t)}function hc(){let{isDataRoute:t}=v.useContext(js);return t?hR():JA()}function JA(){ct(dc(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(qa),{basename:e,navigator:n}=v.useContext(Rs),{matches:r}=v.useContext(js),{pathname:s}=Zi(),o=JSON.stringify(dm(r)),l=v.useRef(!1);return vT(()=>{l.current=!0}),v.useCallback((u,f={})=>{if(un(l.current,yT),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=hm(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ii([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,o,s,t])}var ZA=v.createContext(null);function eR(t){let e=v.useContext(js).outlet;return e&&v.createElement(ZA.Provider,{value:t},e)}function dd(t,{relative:e}={}){let{matches:n}=v.useContext(js),{pathname:r}=Zi(),s=JSON.stringify(dm(n));return v.useMemo(()=>hm(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function tR(t,e,n,r,s){ct(dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=v.useContext(Rs),{matches:l}=v.useContext(js),c=l[l.length-1],u=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let A=y&&y.path||"";wT(f,!y||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=Zi(),E;E=x;let k=E.pathname||"/",I=k;if(p!=="/"){let A=p.replace(/^\//,"").split("/");I="/"+k.replace(/^\//,"").split("/").slice(A.length).join("/")}let P=Io(t,{pathname:I});return un(y||P!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),un(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),oR(P&&P.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:ii([p,o.encodeLocation?o.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:ii([p,o.encodeLocation?o.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,n,r,s)}function nR(){let t=dR(),e=$u(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,l)}var rR=v.createElement(nR,null),sR=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(js.Provider,{value:this.props.routeContext},v.createElement(Iv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iR({routeContext:t,match:e,children:n}){let r=v.useContext(qa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(js.Provider,{value:t},n)}function oR(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:y,errors:x}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||E){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,p,y)=>{let x,E=!1,k=null,I=null;n&&(x=l&&p.route.id?l[p.route.id]:void 0,k=p.route.errorElement||rR,c&&(u<0&&y===0?(wT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,I=null):u===y&&(E=!0,I=p.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,y+1)),D=()=>{let A;return x?A=k:E?A=I:p.route.Component?A=v.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,v.createElement(iR,{match:p,routeContext:{outlet:f,matches:P,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?v.createElement(sR,{location:n.location,revalidation:n.revalidation,component:k,error:x,children:D(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:r}):D()},null)}function Nv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aR(t){let e=v.useContext(qa);return ct(e,Nv(t)),e}function lR(t){let e=v.useContext(ud);return ct(e,Nv(t)),e}function cR(t){let e=v.useContext(js);return ct(e,Nv(t)),e}function Mv(t){let e=cR(t),n=e.matches[e.matches.length-1];return ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uR(){return Mv("useRouteId")}function dR(){let t=v.useContext(Iv),e=lR("useRouteError"),n=Mv("useRouteError");return t!==void 0?t:e.errors?.[n]}function hR(){let{router:t}=aR("useNavigate"),e=Mv("useNavigate"),n=v.useRef(!1);return vT(()=>{n.current=!0}),v.useCallback(async(s,o={})=>{un(n.current,yT),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var h1={};function wT(t,e,n){!e&&!h1[t]&&(h1[t]=!0,un(!1,n))}var f1={};function m1(t,e){!t&&!f1[e]&&(f1[e]=!0,console.warn(e))}function fR(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&un(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:v.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&un(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:v.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&un(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:v.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var mR=["HydrateFallback","hydrateFallbackElement"],pR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function gR({router:t,flushSync:e,unstable_onError:n}){let[r,s]=v.useState(t.state),[o,l]=v.useState(),[c,u]=v.useState({isTransitioning:!1}),[f,p]=v.useState(),[y,x]=v.useState(),[E,k]=v.useState(),I=v.useRef(new Map),P=v.useCallback(F=>{s(R=>(F.errors&&n&&Object.entries(F.errors).forEach(([M,T])=>{R.errors?.[M]!==T&&n(T)}),F))},[n]),D=v.useCallback((F,{deletedFetchers:R,flushSync:M,viewTransitionOpts:T})=>{F.fetchers.forEach((O,V)=>{O.data!==void 0&&I.current.set(V,O.data)}),R.forEach(O=>I.current.delete(O)),m1(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(m1(T==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!T||!C){e&&M?e(()=>P(F)):v.startTransition(()=>P(F));return}if(e&&M){e(()=>{y&&(f&&f.resolve(),y.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:T.currentLocation,nextLocation:T.nextLocation})});let O=t.window.document.startViewTransition(()=>{e(()=>P(F))});O.finished.finally(()=>{e(()=>{p(void 0),x(void 0),l(void 0),u({isTransitioning:!1})})}),e(()=>x(O));return}y?(f&&f.resolve(),y.skipTransition(),k({state:F,currentLocation:T.currentLocation,nextLocation:T.nextLocation})):(l(F),u({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}))},[t.window,e,y,f,P]);v.useLayoutEffect(()=>t.subscribe(D),[t,D]),v.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new pR)},[c]),v.useEffect(()=>{if(f&&o&&t.window){let F=o,R=f.promise,M=t.window.document.startViewTransition(async()=>{v.startTransition(()=>P(F)),await R});M.finished.finally(()=>{p(void 0),x(void 0),l(void 0),u({isTransitioning:!1})}),x(M)}},[o,f,t.window,P]),v.useEffect(()=>{f&&o&&r.location.key===o.location.key&&f.resolve()},[f,y,r.location,o]),v.useEffect(()=>{!c.isTransitioning&&E&&(l(E.state),u({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),k(void 0))},[c.isTransitioning,E]);let A=v.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:F=>t.navigate(F),push:(F,R,M)=>t.navigate(F,{state:R,preventScrollReset:M?.preventScrollReset}),replace:(F,R,M)=>t.navigate(F,{replace:!0,state:R,preventScrollReset:M?.preventScrollReset})}),[t]),z=t.basename||"/",H=v.useMemo(()=>({router:t,navigator:A,static:!1,basename:z,unstable_onError:n}),[t,A,z,n]);return v.createElement(v.Fragment,null,v.createElement(qa.Provider,{value:H},v.createElement(ud.Provider,{value:r},v.createElement(gT.Provider,{value:I.current},v.createElement(Pv.Provider,{value:c},v.createElement(bR,{basename:z,location:r.location,navigationType:r.historyAction,navigator:A},v.createElement(yR,{routes:t.routes,future:t.future,state:r,unstable_onError:n})))))),null)}var yR=v.memo(vR);function vR({routes:t,future:e,state:n,unstable_onError:r}){return tR(t,void 0,n,r,e)}function wR({to:t,replace:e,state:n,relative:r}){ct(dc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(Rs);un(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=v.useContext(js),{pathname:l}=Zi(),c=hc(),u=hm(t,dm(o),l,r==="path"),f=JSON.stringify(u);return v.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function xR(t){return eR(t.context)}function bR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){ct(!dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=Jo(n));let{pathname:u="/",search:f="",hash:p="",state:y=null,key:x="default"}=n,E=v.useMemo(()=>{let k=ms(u,l);return k==null?null:{location:{pathname:k,search:f,hash:p,state:y,key:x},navigationType:r}},[l,u,f,p,y,x,r]);return un(E!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:v.createElement(Rs.Provider,{value:c},v.createElement(fm.Provider,{children:e,value:E}))}var ef="get",tf="application/x-www-form-urlencoded";function mm(t){return t!=null&&typeof t.tagName=="string"}function _R(t){return mm(t)&&t.tagName.toLowerCase()==="button"}function ER(t){return mm(t)&&t.tagName.toLowerCase()==="form"}function kR(t){return mm(t)&&t.tagName.toLowerCase()==="input"}function SR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TR(t,e){return t.button===0&&(!e||e==="_self")&&!SR(t)}var Rh=null;function CR(){if(Rh===null)try{new FormData(document.createElement("form"),0),Rh=!1}catch{Rh=!0}return Rh}var PR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vg(t){return t!=null&&!PR.has(t)?(un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tf}"`),null):t}function IR(t,e){let n,r,s,o,l;if(ER(t)){let c=t.getAttribute("action");r=c?ms(c,e):null,n=t.getAttribute("method")||ef,s=vg(t.getAttribute("enctype"))||tf,o=new FormData(t)}else if(_R(t)||kR(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?ms(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||ef,s=vg(t.getAttribute("formenctype"))||vg(c.getAttribute("enctype"))||tf,o=new FormData(c,t),!CR()){let{name:f,type:p,value:y}=t;if(p==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,y)}}else{if(mm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ef,r=null,s=tf,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ms(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function MR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function AR(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await MR(o,n);return l.links?l.links():[]}return[]}));return OR(r.flat(1).filter(LR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function p1(t,e,n,r,s,o){let l=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>n[f].pathname!==u.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==u.params["*"];return o==="assets"?e.filter((u,f)=>l(u,f)||c(u,f)):o==="data"?e.filter((u,f)=>{let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(l(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function RR(t,e,{includeHydrateFallback:n}={}){return jR(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function jR(t){return[...new Set(t)]}function DR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function OR(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(DR(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function xT(){let t=v.useContext(qa);return Lv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VR(){let t=v.useContext(ud);return Lv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Av=v.createContext(void 0);Av.displayName="FrameworkContext";function bT(){let t=v.useContext(Av);return Lv(t,"You must render this element inside a <HydratedRouter> element"),t}function FR(t,e){let n=v.useContext(Av),[r,s]=v.useState(!1),[o,l]=v.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:y}=e,x=v.useRef(null);v.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let I=D=>{D.forEach(A=>{l(A.isIntersecting)})},P=new IntersectionObserver(I,{threshold:.5});return x.current&&P.observe(x.current),()=>{P.disconnect()}}},[t]),v.useEffect(()=>{if(r){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[r]);let E=()=>{s(!0)},k=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:du(c,E),onBlur:du(u,k),onMouseEnter:du(f,E),onMouseLeave:du(p,k),onTouchStart:du(y,E)}]:[!1,x,{}]}function du(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function UR({page:t,...e}){let{router:n}=xT(),r=v.useMemo(()=>Io(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?v.createElement(BR,{page:t,matches:r,...e}):null}function zR(t){let{manifest:e,routeModules:n}=bT(),[r,s]=v.useState([]);return v.useEffect(()=>{let o=!1;return AR(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),r}function BR({page:t,matches:e,...n}){let r=Zi(),{manifest:s,routeModules:o}=bT(),{basename:l}=xT(),{loaderData:c,matches:u}=VR(),f=v.useMemo(()=>p1(t,e,u,s,r,"data"),[t,e,u,s,r]),p=v.useMemo(()=>p1(t,e,u,s,r,"assets"),[t,e,u,s,r]),y=v.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,I=!1;if(e.forEach(D=>{let A=s.routes[D.route.id];!A||!A.hasLoader||(!f.some(z=>z.route.id===D.route.id)&&D.route.id in c&&o[D.route.id]?.shouldRevalidate||A.hasClientLoader?I=!0:k.add(D.route.id))}),k.size===0)return[];let P=NR(t,l,"data");return I&&k.size>0&&P.searchParams.set("_routes",e.filter(D=>k.has(D.route.id)).map(D=>D.route.id).join(",")),[P.pathname+P.search]},[l,c,r,s,f,e,t,o]),x=v.useMemo(()=>RR(p,s),[p,s]),E=zR(p);return v.createElement(v.Fragment,null,y.map(k=>v.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),x.map(k=>v.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),E.map(({key:k,link:I})=>v.createElement("link",{key:k,nonce:n.nonce,...I})))}function HR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_T&&(window.__reactRouterVersion="7.9.1")}catch{}function $R(t,e){return CA({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:GL({window:e?.window}),hydrationData:WR(),routes:t,mapRouteProperties:fR,hydrationRouteProperties:mR,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function WR(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:GR(t.errors)}),t}function GR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new xf(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let l=new o(s.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(s.message);o.stack="",n[r]=o}}else n[r]=s;return n}var ET=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ui=v.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:c,target:u,to:f,preventScrollReset:p,viewTransition:y,...x},E){let{basename:k}=v.useContext(Rs),I=typeof f=="string"&&ET.test(f),P,D=!1;if(typeof f=="string"&&I&&(P=f,_T))try{let C=new URL(window.location.href),O=f.startsWith("//")?new URL(C.protocol+f):new URL(f),V=ms(O.pathname,k);O.origin===C.origin&&V!=null?f=V+O.search+O.hash:D=!0}catch{un(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=XA(f,{relative:s}),[z,H,F]=FR(r,x),R=QR(f,{replace:l,state:c,target:u,preventScrollReset:p,relative:s,viewTransition:y});function M(C){e&&e(C),C.defaultPrevented||R(C)}let T=v.createElement("a",{...x,...F,href:P||A,onClick:D||o?e:M,ref:HR(E,H),target:u,"data-discover":!I&&n==="render"?"true":void 0});return z&&!I?v.createElement(v.Fragment,null,T,v.createElement(UR,{page:A})):T});Ui.displayName="Link";var qR=v.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:c,children:u,...f},p){let y=dd(l,{relative:f.relative}),x=Zi(),E=v.useContext(ud),{navigator:k,basename:I}=v.useContext(Rs),P=E!=null&&tj(y)&&c===!0,D=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,A=x.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(A=A.toLowerCase(),z=z?z.toLowerCase():null,D=D.toLowerCase()),z&&I&&(z=ms(z,I)||z);const H=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let F=A===D||!s&&A.startsWith(D)&&A.charAt(H)==="/",R=z!=null&&(z===D||!s&&z.startsWith(D)&&z.charAt(D.length)==="/"),M={isActive:F,isPending:R,isTransitioning:P},T=F?e:void 0,C;typeof r=="function"?C=r(M):C=[r,F?"active":null,R?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(M):o;return v.createElement(Ui,{...f,"aria-current":T,className:C,ref:p,style:O,to:l,viewTransition:c},typeof u=="function"?u(M):u)});qR.displayName="NavLink";var KR=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:l=ef,action:c,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:y,...x},E)=>{let k=ZR(),I=ej(c,{relative:f}),P=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&ET.test(c),A=z=>{if(u&&u(z),z.defaultPrevented)return;z.preventDefault();let H=z.nativeEvent.submitter,F=H?.getAttribute("formmethod")||l;k(H||z.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:s,state:o,relative:f,preventScrollReset:p,viewTransition:y})};return v.createElement("form",{ref:E,method:P,action:I,onSubmit:r?u:A,...x,"data-discover":!D&&t==="render"?"true":void 0})});KR.displayName="Form";function YR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kT(t){let e=v.useContext(qa);return ct(e,YR(t)),e}function QR(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=hc(),u=Zi(),f=dd(t,{relative:o});return v.useCallback(p=>{if(TR(p,e)){p.preventDefault();let y=n!==void 0?n:zo(u)===zo(f);c(t,{replace:y,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,f,n,r,e,t,s,o,l])}var XR=0,JR=()=>`__${String(++XR)}__`;function ZR(){let{router:t}=kT("useSubmit"),{basename:e}=v.useContext(Rs),n=uR();return v.useCallback(async(r,s={})=>{let{action:o,method:l,encType:c,formData:u,body:f}=IR(r,e);if(s.navigate===!1){let p=s.fetcherKey||JR();await t.fetch(p,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:u,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function ej(t,{relative:e}={}){let{basename:n}=v.useContext(Rs),r=v.useContext(js);ct(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...dd(t||".",{relative:e})},l=Zi();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ii([n,o.pathname])),zo(o)}function tj(t,{relative:e}={}){let n=v.useContext(Pv);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kT("useViewTransitionState"),s=dd(t,{relative:e});if(!n.isTransitioning)return!1;let o=ms(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ms(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wf(s.pathname,l)!=null||wf(s.pathname,o)!=null}var Ka=eT();function nj(t){return v.createElement(gR,{flushSync:Ka.flushSync,...t})}function rj(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function g1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ST(...t){return e=>{let n=!1;const r=t.map(s=>{const o=g1(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():g1(t[s],null)}}}}function TT(...t){return v.useCallback(ST(...t),t)}function Rv(t,e=[]){let n=[];function r(o,l){const c=v.createContext(l),u=n.length;n=[...n,l];const f=y=>{const{scope:x,children:E,...k}=y,I=x?.[t]?.[u]||c,P=v.useMemo(()=>k,Object.values(k));return h.jsx(I.Provider,{value:P,children:E})};f.displayName=o+"Provider";function p(y,x){const E=x?.[t]?.[u]||c,k=v.useContext(E);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[f,p]}const s=()=>{const o=n.map(l=>v.createContext(l));return function(c){const u=c?.[t]||o;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[r,sj(s,...e)]}function sj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((c,{useScope:u,scopeName:f})=>{const y=u(o)[`__scope${f}`];return{...c,...y}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var Wu=globalThis?.document?v.useLayoutEffect:()=>{},ij=HL[" useInsertionEffect ".trim().toString()]||Wu;function oj({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,l]=aj({defaultProp:e,onChange:n}),c=t!==void 0,u=c?t:s;{const p=v.useRef(t!==void 0);v.useEffect(()=>{const y=p.current;y!==c&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const f=v.useCallback(p=>{if(c){const y=lj(p)?p(t):p;y!==t&&l.current?.(y)}else o(p)},[c,t,o,l]);return[u,f]}function aj({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),s=v.useRef(n),o=v.useRef(e);return ij(()=>{o.current=e},[e]),v.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,r,o]}function lj(t){return typeof t=="function"}function cj(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function uj(t){const[e,n]=v.useState(void 0);return Wu(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const u=o.borderBoxSize,f=Array.isArray(u)?u[0]:u;l=f.inlineSize,c=f.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function CT(t){const e=dj(t),n=v.forwardRef((r,s)=>{const{children:o,...l}=r,c=v.Children.toArray(o),u=c.find(fj);if(u){const f=u.props.children,p=c.map(y=>y===u?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:y);return h.jsx(e,{...l,ref:s,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var PT=CT("Slot");function dj(t){const e=v.forwardRef((n,r)=>{const{children:s,...o}=n;if(v.isValidElement(s)){const l=pj(s),c=mj(o,s.props);return s.type!==v.Fragment&&(c.ref=r?ST(r,l):l),v.cloneElement(s,c)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var hj=Symbol("radix.slottable");function fj(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hj}function mj(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...c)=>{const u=o(...c);return s(...c),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function pj(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zo=gj.reduce((t,e)=>{const n=CT(`Primitive.${e}`),r=v.forwardRef((s,o)=>{const{asChild:l,...c}=s,u=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(u,{...c,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),pm="Switch",[yj,eQ]=Rv(pm),[vj,wj]=yj(pm),IT=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:l,disabled:c,value:u="on",onCheckedChange:f,form:p,...y}=t,[x,E]=v.useState(null),k=TT(e,z=>E(z)),I=v.useRef(!1),P=x?p||!!x.closest("form"):!0,[D,A]=oj({prop:s,defaultProp:o??!1,onChange:f,caller:pm});return h.jsxs(vj,{scope:n,checked:D,disabled:c,children:[h.jsx(Zo.button,{type:"button",role:"switch","aria-checked":D,"aria-required":l,"data-state":AT(D),"data-disabled":c?"":void 0,disabled:c,value:u,...y,ref:k,onClick:rj(t.onClick,z=>{A(H=>!H),P&&(I.current=z.isPropagationStopped(),I.current||z.stopPropagation())})}),P&&h.jsx(LT,{control:x,bubbles:!I.current,name:r,value:u,checked:D,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});IT.displayName=pm;var NT="SwitchThumb",MT=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=wj(NT,n);return h.jsx(Zo.span,{"data-state":AT(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});MT.displayName=NT;var xj="SwitchBubbleInput",LT=v.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},o)=>{const l=v.useRef(null),c=TT(l,o),u=cj(n),f=uj(e);return v.useEffect(()=>{const p=l.current;if(!p)return;const y=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(y,"checked").set;if(u!==n&&E){const k=new Event("click",{bubbles:r});E.call(p,n),p.dispatchEvent(k)}},[u,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});LT.displayName=xj;function AT(t){return t?"checked":"unchecked"}var bj=IT,_j=MT;function RT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=RT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=RT(t))&&(r&&(r+=" "),r+=e);return r}const jv="-",Ej=t=>{const e=Sj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(jv);return c[0]===""&&c.length!==1&&c.shift(),DT(c,e)||kj(l)},getConflictingClassGroupIds:(l,c)=>{const u=n[l]||[];return c&&r[l]?[...u,...r[l]]:u}}},DT=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?DT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(jv);return e.validators.find(({validator:l})=>l(o))?.classGroupId},y1=/^\[(.+)\]$/,kj=t=>{if(y1.test(t)){const e=y1.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Sj=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)py(n[s],r,s,e);return r},py=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:v1(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(Tj(s)){py(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{py(l,v1(e,o),n,r)})})},v1=(t,e)=>{let n=t;return e.split(jv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Tj=t=>t.isThemeGetter,Cj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},gy="!",yy=":",Pj=yy.length,Ij=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let l=0,c=0,u=0,f;for(let k=0;k<s.length;k++){let I=s[k];if(l===0&&c===0){if(I===yy){o.push(s.slice(u,k)),u=k+Pj;continue}if(I==="/"){f=k;continue}}I==="["?l++:I==="]"?l--:I==="("?c++:I===")"&&c--}const p=o.length===0?s:s.substring(u),y=Nj(p),x=y!==p,E=f&&f>u?f-u:void 0;return{modifiers:o,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:E}};if(e){const s=e+yy,o=r;r=l=>l.startsWith(s)?o(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},Nj=t=>t.endsWith(gy)?t.substring(0,t.length-1):t.startsWith(gy)?t.substring(1):t,Mj=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...o.sort(),l),o=[]):o.push(l)}),s.push(...o.sort()),s}},Lj=t=>({cache:Cj(t.cacheSize),parseClassName:Ij(t),sortModifiers:Mj(t),...Ej(t)}),Aj=/\s+/,Rj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,l=[],c=t.trim().split(Aj);let u="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:y,modifiers:x,hasImportantModifier:E,baseClassName:k,maybePostfixModifierPosition:I}=n(p);if(y){u=p+(u.length>0?" "+u:u);continue}let P=!!I,D=r(P?k.substring(0,I):k);if(!D){if(!P){u=p+(u.length>0?" "+u:u);continue}if(D=r(k),!D){u=p+(u.length>0?" "+u:u);continue}P=!1}const A=o(x).join(":"),z=E?A+gy:A,H=z+D;if(l.includes(H))continue;l.push(H);const F=s(D,P);for(let R=0;R<F.length;++R){const M=F[R];l.push(z+M)}u=p+(u.length>0?" "+u:u)}return u};function jj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=OT(e))&&(r&&(r+=" "),r+=n);return r}const OT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=OT(t[r]))&&(n&&(n+=" "),n+=e);return n};function Dj(t,...e){let n,r,s,o=l;function l(u){const f=e.reduce((p,y)=>y(p),t());return n=Lj(f),r=n.cache.get,s=n.cache.set,o=c,c(u)}function c(u){const f=r(u);if(f)return f;const p=Rj(u,n);return s(u,p),p}return function(){return o(jj.apply(null,arguments))}}const bn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},VT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,FT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Oj=/^\d+\/\d+$/,Vj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Fj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Uj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Al=t=>Oj.test(t),at=t=>!!t&&!Number.isNaN(Number(t)),_o=t=>!!t&&Number.isInteger(Number(t)),wg=t=>t.endsWith("%")&&at(t.slice(0,-1)),Vi=t=>Vj.test(t),Hj=()=>!0,$j=t=>Fj.test(t)&&!Uj.test(t),UT=()=>!1,Wj=t=>zj.test(t),Gj=t=>Bj.test(t),qj=t=>!Re(t)&&!je(t),Kj=t=>fc(t,HT,UT),Re=t=>VT.test(t),_a=t=>fc(t,$T,$j),xg=t=>fc(t,Zj,at),w1=t=>fc(t,zT,UT),Yj=t=>fc(t,BT,Gj),jh=t=>fc(t,WT,Wj),je=t=>FT.test(t),hu=t=>mc(t,$T),Qj=t=>mc(t,eD),x1=t=>mc(t,zT),Xj=t=>mc(t,HT),Jj=t=>mc(t,BT),Dh=t=>mc(t,WT,!0),fc=(t,e,n)=>{const r=VT.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},mc=(t,e,n=!1)=>{const r=FT.exec(t);return r?r[1]?e(r[1]):n:!1},zT=t=>t==="position"||t==="percentage",BT=t=>t==="image"||t==="url",HT=t=>t==="length"||t==="size"||t==="bg-size",$T=t=>t==="length",Zj=t=>t==="number",eD=t=>t==="family-name",WT=t=>t==="shadow",tD=()=>{const t=bn("color"),e=bn("font"),n=bn("text"),r=bn("font-weight"),s=bn("tracking"),o=bn("leading"),l=bn("breakpoint"),c=bn("container"),u=bn("spacing"),f=bn("radius"),p=bn("shadow"),y=bn("inset-shadow"),x=bn("text-shadow"),E=bn("drop-shadow"),k=bn("blur"),I=bn("perspective"),P=bn("aspect"),D=bn("ease"),A=bn("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...H(),je,Re],R=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],T=()=>[je,Re,u],C=()=>[Al,"full","auto",...T()],O=()=>[_o,"none","subgrid",je,Re],V=()=>["auto",{span:["full",_o,je,Re]},_o,je,Re],$=()=>[_o,"auto",je,Re],L=()=>["auto","min","max","fr",je,Re],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],pe=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...T()],re=()=>[Al,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],B=()=>[t,je,Re],ue=()=>[...H(),x1,w1,{position:[je,Re]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",Xj,Kj,{size:[je,Re]}],ee=()=>[wg,hu,_a],ce=()=>["","none","full",f,je,Re],ve=()=>["",at,hu,_a],Z=()=>["solid","dashed","dotted","double"],Pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Se=()=>[at,wg,x1,w1],ke=()=>["","none",k,je,Re],We=()=>["none",at,je,Re],xe=()=>["none",at,je,Re],Ye=()=>[at,je,Re],zt=()=>[Al,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vi],breakpoint:[Vi],color:[Hj],container:[Vi],"drop-shadow":[Vi],ease:["in","out","in-out"],font:[qj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vi],shadow:[Vi],spacing:["px",at],text:[Vi],"text-shadow":[Vi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Al,Re,je,P]}],container:["container"],columns:[{columns:[at,Re,je,c]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[_o,"auto",je,Re]}],basis:[{basis:[Al,"full","auto",c,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[at,Al,"auto","initial","none",Re]}],grow:[{grow:["",at,je,Re]}],shrink:[{shrink:["",at,je,Re]}],order:[{order:[_o,"first","last","none",je,Re]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[c,"screen",...re()]}],"min-w":[{"min-w":[c,"screen","none",...re()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,hu,_a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,xg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wg,Re]}],"font-family":[{font:[Qj,Re,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,je,Re]}],"line-clamp":[{"line-clamp":[at,"none",je,xg]}],leading:[{leading:[o,...T()]}],"list-image":[{"list-image":["none",je,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[at,"from-font","auto",je,_a]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[at,"auto",je,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_o,je,Re],radial:["",je,Re],conic:[_o,je,Re]},Jj,Yj]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:ve()}],"border-w-x":[{"border-x":ve()}],"border-w-y":[{"border-y":ve()}],"border-w-s":[{"border-s":ve()}],"border-w-e":[{"border-e":ve()}],"border-w-t":[{"border-t":ve()}],"border-w-r":[{"border-r":ve()}],"border-w-b":[{"border-b":ve()}],"border-w-l":[{"border-l":ve()}],"divide-x":[{"divide-x":ve()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ve()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[at,je,Re]}],"outline-w":[{outline:["",at,hu,_a]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",p,Dh,jh]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",y,Dh,jh]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[at,_a]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":ve()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",x,Dh,jh]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[at,je,Re]}],"mix-blend":[{"mix-blend":[...Pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[at]}],"mask-image-linear-from-pos":[{"mask-linear-from":Se()}],"mask-image-linear-to-pos":[{"mask-linear-to":Se()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":Se()}],"mask-image-t-to-pos":[{"mask-t-to":Se()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":Se()}],"mask-image-r-to-pos":[{"mask-r-to":Se()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":Se()}],"mask-image-b-to-pos":[{"mask-b-to":Se()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":Se()}],"mask-image-l-to-pos":[{"mask-l-to":Se()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":Se()}],"mask-image-x-to-pos":[{"mask-x-to":Se()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":Se()}],"mask-image-y-to-pos":[{"mask-y-to":Se()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[je,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":Se()}],"mask-image-radial-to-pos":[{"mask-radial-to":Se()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[at]}],"mask-image-conic-from-pos":[{"mask-conic-from":Se()}],"mask-image-conic-to-pos":[{"mask-conic-to":Se()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,Re]}],filter:[{filter:["","none",je,Re]}],blur:[{blur:ke()}],brightness:[{brightness:[at,je,Re]}],contrast:[{contrast:[at,je,Re]}],"drop-shadow":[{"drop-shadow":["","none",E,Dh,jh]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",at,je,Re]}],"hue-rotate":[{"hue-rotate":[at,je,Re]}],invert:[{invert:["",at,je,Re]}],saturate:[{saturate:[at,je,Re]}],sepia:[{sepia:["",at,je,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",je,Re]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[at,je,Re]}],"backdrop-contrast":[{"backdrop-contrast":[at,je,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",at,je,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[at,je,Re]}],"backdrop-invert":[{"backdrop-invert":["",at,je,Re]}],"backdrop-opacity":[{"backdrop-opacity":[at,je,Re]}],"backdrop-saturate":[{"backdrop-saturate":[at,je,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",at,je,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[at,"initial",je,Re]}],ease:[{ease:["linear","initial",D,je,Re]}],delay:[{delay:[at,je,Re]}],animate:[{animate:["none",A,je,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,je,Re]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:xe()}],"scale-x":[{"scale-x":xe()}],"scale-y":[{"scale-y":xe()}],"scale-z":[{"scale-z":xe()}],"scale-3d":["scale-3d"],skew:[{skew:Ye()}],"skew-x":[{"skew-x":Ye()}],"skew-y":[{"skew-y":Ye()}],transform:[{transform:[je,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:zt()}],"translate-x":[{"translate-x":zt()}],"translate-y":[{"translate-y":zt()}],"translate-z":[{"translate-z":zt()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,Re]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[at,hu,_a,xg]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nD=Dj(tD);function rn(...t){return nD(jT(t))}function rD({className:t,...e}){return h.jsx(bj,{"data-slot":"switch",className:rn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:h.jsx(_j,{"data-slot":"switch-thumb",className:rn("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const b1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,_1=jT,GT=(t,e)=>n=>{var r;if(e?.variants==null)return _1(t,n?.class,n?.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(f=>{const p=n?.[f],y=o?.[f];if(p===null)return null;const x=b1(p)||b1(y);return s[f][x]}),c=n&&Object.entries(n).reduce((f,p)=>{let[y,x]=p;return x===void 0||(f[y]=x),f},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:y,className:x,...E}=p;return Object.entries(E).every(k=>{let[I,P]=k;return Array.isArray(P)?P.includes({...o,...c}[I]):{...o,...c}[I]===P})?[...f,y,x]:f},[]);return _1(t,l,u,n?.class,n?.className)},vy=GT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-300 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive relative overflow-hidden group",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg active:scale-[0.98]",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 shadow-md hover:shadow-lg active:scale-[0.98]",outline:"border-2 bg-transparent text-foreground hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 hover:shadow-md active:scale-[0.98]",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md active:scale-[0.98]",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 hover:shadow-sm active:scale-[0.98]",link:"text-primary underline-offset-4 hover:underline",premium:"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white shadow-lg hover:shadow-xl hover:scale-105 active:scale-100 font-semibold",glass:"glass border border-white/20 text-foreground hover:bg-white/10 dark:hover:bg-white/5 shadow-sm hover:shadow-md active:scale-[0.98]",glow:"bg-gradient-to-r from-[var(--monastery-emerald)] to-[var(--monastery-gold)] text-white shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] active:scale-[0.98]"},size:{default:"h-10 px-5 py-2.5 text-sm",sm:"h-9 px-4 py-2 text-xs gap-1.5",lg:"h-12 px-8 py-3 text-base gap-3",xl:"h-14 px-10 py-4 text-lg gap-3",icon:"size-10 rounded-lg",iconSm:"size-8 rounded-md",iconLg:"size-12 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}});function ze({className:t,variant:e,size:n,asChild:r=!1,children:s,...o}){const l=r?PT:"button";return h.jsxs(l,{"data-slot":"button",className:rn(vy({variant:e,size:n,className:t})),...o,children:[(e==="premium"||e==="glow")&&h.jsx("span",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:h.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-700"})}),h.jsx("span",{className:"relative z-10",children:s})]})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),E1=t=>{const e=iD(t);return e.charAt(0).toUpperCase()+e.slice(1)},qT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...c},u)=>v.createElement("svg",{ref:u,...oD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:qT("lucide",s),...c},[...l.map(([f,p])=>v.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(t,e)=>{const n=v.forwardRef(({className:r,...s},o)=>v.createElement(aD,{ref:o,iconNode:e,className:qT(`lucide-${sD(E1(t))}`,`lucide-${t}`,r),...s}));return n.displayName=E1(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Kl=Ie("archive",lD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uD=Ie("arrow-left",cD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gm=Ie("arrow-right",dD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],k1=Ie("award",hD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],KT=Ie("bell",fD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wy=Ie("book-open",mD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],gD=Ie("book",pD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],vD=Ie("bot",yD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ja=Ie("calendar",wD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],jo=Ie("camera",xD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],_D=Ie("car",bD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kD=Ie("check",ED);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],TD=Ie("chevron-left",SD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],PD=Ie("chevron-right",CD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],_f=Ie("clock",ID);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Cu=Ie("download",ND);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],LD=Ie("external-link",MD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xy=Ie("eye-off",AD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bo=Ie("eye",RD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],DD=Ie("facebook",jD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ef=Ie("funnel",OD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],S1=Ie("gamepad-2",VD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],T1=Ie("globe",FD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],zD=Ie("graduation-cap",UD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],by=Ie("headphones",BD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],C1=Ie("heart",HD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],_y=Ie("hotel",$D);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],GD=Ie("house",WD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],KD=Ie("image",qD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],QD=Ie("instagram",YD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],P1=Ie("languages",XD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],YT=Ie("loader-circle",JD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ey=Ie("lock",ZD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],QT=Ie("log-in",e4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Dv=Ie("mail",t4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Nr=Ie("map-pin",n4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],s4=Ie("maximize",r4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],XT=Ie("message-circle",i4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],a4=Ie("mic",o4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],c4=Ie("moon",l4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],ky=Ie("mountain",u4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Sy=Ie("pause",d4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Ty=Ie("phone",h4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Da=Ie("play",f4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],I1=Ie("plus",m4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],g4=Ie("rotate-ccw",p4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],v4=Ie("scroll",y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Cy=Ie("search",w4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],b4=Ie("send",x4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],E4=Ie("share-2",_4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],S4=Ie("share",k4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],C4=Ie("skip-back",T4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],I4=Ie("skip-forward",P4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Gi=Ie("sparkles",N4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],JT=Ie("star",M4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],A4=Ie("sun",L4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],j4=Ie("trash-2",R4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],O4=Ie("trophy",D4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],F4=Ie("twitter",V4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ZT=Ie("user",U4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ri=Ie("users",z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],H4=Ie("video",B4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],eC=Ie("volume-2",$4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],G4=Ie("volume-x",W4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],N1=Ie("wifi-off",q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Y4=Ie("wifi",K4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X4=Ie("x",Q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Z4=Ie("youtube",J4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],tO=Ie("zap",eO),nO=()=>{};var M1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],u=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},nC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,u=s+2<t.length,f=u?t[s+2]:0,p=o>>2,y=(o&3)<<4|c>>4;let x=(c&15)<<2|f>>6,E=f&63;u||(E=64,l||(x=64)),r.push(n[p],n[y],n[x],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||y==null)throw new sO;const x=o<<2|c>>4;if(r.push(x),f!==64){const E=c<<4&240|f>>2;if(r.push(E),y!==64){const k=f<<6&192|y;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iO=function(t){const e=tC(t);return nC.encodeByteArray(e,!0)},kf=function(t){return iO(t).replace(/\./g,"")},rC=function(t){try{return nC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=()=>oO().__FIREBASE_DEFAULTS__,lO=()=>{if(typeof process>"u"||typeof M1>"u")return;const t=M1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rC(t[1]);return e&&JSON.parse(e)},ym=()=>{try{return nO()||aO()||lO()||cO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sC=t=>ym()?.emulatorHosts?.[t],uO=t=>{const e=sC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iC=()=>ym()?.config,oC=t=>ym()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[kf(JSON.stringify(n)),kf(JSON.stringify(l)),""].join(".")}const Pu={};function fO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pu))Pu[e]?t.emulator.push(e):t.prod.push(e);return t}function mO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let L1=!1;function lC(t,e){if(typeof window>"u"||typeof document>"u"||!pc(window.location.host)||Pu[t]===e||Pu[t]||L1)return;Pu[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=fO().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function u(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{L1=!0,l()},x}function p(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=mO(r),E=n("text"),k=document.getElementById(E)||document.createElement("span"),I=n("learnmore"),P=document.getElementById(I)||document.createElement("a"),D=n("preprendIcon"),A=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const z=x.element;c(z),p(P,I);const H=f();u(A,D),z.append(A,k,P,H),document.body.appendChild(z)}o?(k.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sr())}function gO(){const t=ym()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ov(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wO(){const t=sr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xO(){return!gO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vv(){try{return typeof indexedDB=="object"}catch{return!1}}function Fv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function cC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="FirebaseError";class Ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bO,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?_O(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Ds(s,c,r)}}function _O(t,e){return t.replace(EO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const EO=/\{\$([^}]+)}/g;function kO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ho(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(A1(o)&&A1(l)){if(!Ho(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function A1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function bu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function SO(t,e){const n=new TO(t,e);return n.subscribe.bind(n)}class TO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=bg),s.error===void 0&&(s.error=bg),s.complete===void 0&&(s.complete=bg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=1e3,IO=2,NO=14400*1e3,MO=.5;function R1(t,e=PO,n=IO){const r=e*Math.pow(n,t),s=Math.round(MO*r*(Math.random()-.5)*2);return Math.min(NO,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RO(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AO(t){return t===Ta?void 0:t}function RO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const DO={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},OO=mt.INFO,VO={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},FO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=VO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=OO,this._logHandler=FO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const UO=(t,e)=>e.some(n=>t instanceof n);let j1,D1;function zO(){return j1||(j1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BO(){return D1||(D1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uC=new WeakMap,Py=new WeakMap,dC=new WeakMap,_g=new WeakMap,Uv=new WeakMap;function HO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Oo(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&uC.set(n,t)}).catch(()=>{}),Uv.set(e,t),e}function $O(t){if(Py.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Py.set(t,e)}let Iy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WO(t){Iy=t(Iy)}function GO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eg(this),e,...n);return dC.set(r,e.sort?e.sort():[e]),Oo(r)}:BO().includes(t)?function(...e){return t.apply(Eg(this),e),Oo(uC.get(this))}:function(...e){return Oo(t.apply(Eg(this),e))}}function qO(t){return typeof t=="function"?GO(t):(t instanceof IDBTransaction&&$O(t),UO(t,zO())?new Proxy(t,Iy):t)}function Oo(t){if(t instanceof IDBRequest)return HO(t);if(_g.has(t))return _g.get(t);const e=qO(t);return e!==t&&(_g.set(t,e),Uv.set(e,t)),e}const Eg=t=>Uv.get(t);function hC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=Oo(l);return r&&l.addEventListener("upgradeneeded",u=>{r(Oo(l.result),u.oldVersion,u.newVersion,Oo(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const KO=["get","getKey","getAll","getAllKeys","count"],YO=["put","add","delete","clear"],kg=new Map;function O1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kg.get(e))return kg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=YO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||KO.includes(n)))return;const o=async function(l,...c){const u=this.transaction(l,s?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&u.done]))[0]};return kg.set(e,o),o}WO(t=>({...t,get:(e,n,r)=>O1(e,n)||t.get(e,n,r),has:(e,n)=>!!O1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XO(t){return t.getComponent()?.type==="VERSION"}const Ny="@firebase/app",V1="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new vm("@firebase/app"),JO="@firebase/app-compat",ZO="@firebase/analytics-compat",e3="@firebase/analytics",t3="@firebase/app-check-compat",n3="@firebase/app-check",r3="@firebase/auth",s3="@firebase/auth-compat",i3="@firebase/database",o3="@firebase/data-connect",a3="@firebase/database-compat",l3="@firebase/functions",c3="@firebase/functions-compat",u3="@firebase/installations",d3="@firebase/installations-compat",h3="@firebase/messaging",f3="@firebase/messaging-compat",m3="@firebase/performance",p3="@firebase/performance-compat",g3="@firebase/remote-config",y3="@firebase/remote-config-compat",v3="@firebase/storage",w3="@firebase/storage-compat",x3="@firebase/firestore",b3="@firebase/ai",_3="@firebase/firestore-compat",E3="firebase",k3="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="[DEFAULT]",S3={[Ny]:"fire-core",[JO]:"fire-core-compat",[e3]:"fire-analytics",[ZO]:"fire-analytics-compat",[n3]:"fire-app-check",[t3]:"fire-app-check-compat",[r3]:"fire-auth",[s3]:"fire-auth-compat",[i3]:"fire-rtdb",[o3]:"fire-data-connect",[a3]:"fire-rtdb-compat",[l3]:"fire-fn",[c3]:"fire-fn-compat",[u3]:"fire-iid",[d3]:"fire-iid-compat",[h3]:"fire-fcm",[f3]:"fire-fcm-compat",[m3]:"fire-perf",[p3]:"fire-perf-compat",[g3]:"fire-rc",[y3]:"fire-rc-compat",[v3]:"fire-gcs",[w3]:"fire-gcs-compat",[x3]:"fire-fst",[_3]:"fire-fst-compat",[b3]:"fire-vertex","fire-js":"fire-js",[E3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,T3=new Map,Ly=new Map;function F1(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yi(t){const e=t.name;if(Ly.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Ly.set(e,t);for(const n of Sf.values())F1(n,t);for(const n of T3.values())F1(n,t);return!0}function Qa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vo=new Ya("app","Firebase",C3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=k3;function fC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:My,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Vo.create("bad-app-name",{appName:String(s)});if(n||(n=iC()),!n)throw Vo.create("no-options");const o=Sf.get(s);if(o){if(Ho(n,o.options)&&Ho(r,o.config))return o;throw Vo.create("duplicate-app",{appName:s})}const l=new jO(s);for(const u of Ly.values())l.addComponent(u);const c=new P3(n,r,l);return Sf.set(s,c),c}function zv(t=My){const e=Sf.get(t);if(!e&&t===My&&iC())return fC();if(!e)throw Vo.create("no-app",{appName:t});return e}function hs(t,e,n){let r=S3[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(l.join(" "));return}yi(new Ns(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="firebase-heartbeat-database",N3=1,Gu="firebase-heartbeat-store";let Sg=null;function mC(){return Sg||(Sg=hC(I3,N3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vo.create("idb-open",{originalErrorMessage:t.message})})),Sg}async function M3(t){try{const n=(await mC()).transaction(Gu),r=await n.objectStore(Gu).get(pC(t));return await n.done,r}catch(e){if(e instanceof Ds)qi.warn(e.message);else{const n=Vo.create("idb-get",{originalErrorMessage:e?.message});qi.warn(n.message)}}}async function U1(t,e){try{const r=(await mC()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(e,pC(t)),await r.done}catch(n){if(n instanceof Ds)qi.warn(n.message);else{const r=Vo.create("idb-set",{originalErrorMessage:n?.message});qi.warn(r.message)}}}function pC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=1024,A3=30;class R3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=z1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>A3){const s=O3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=z1(),{heartbeatsToSend:n,unsentEntries:r}=j3(this._heartbeatsCache.heartbeats),s=kf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return qi.warn(e),""}}}function z1(){return new Date().toISOString().substring(0,10)}function j3(t,e=L3){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),B1(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),B1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vv()?Fv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await M3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function B1(t){return kf(JSON.stringify({version:2,heartbeats:t})).length}function O3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){yi(new Ns("platform-logger",e=>new QO(e),"PRIVATE")),yi(new Ns("heartbeat",e=>new R3(e),"PRIVATE")),hs(Ny,V1,t),hs(Ny,V1,"esm2020"),hs("fire-js","")}V3("");function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F3=gC,yC=new Ya("auth","Firebase",gC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=new vm("@firebase/auth");function U3(t,...e){Tf.logLevel<=mt.WARN&&Tf.warn(`Auth (${gc}): ${t}`,...e)}function nf(t,...e){Tf.logLevel<=mt.ERROR&&Tf.error(`Auth (${gc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t,...e){throw Bv(t,...e)}function oi(t,...e){return Bv(t,...e)}function vC(t,e,n){const r={...F3(),[e]:n};return new Ya("auth","Firebase",r).create(e,{appName:t.name})}function $i(t){return vC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yC.create(t,...e)}function Qe(t,e,...n){if(!t)throw Bv(e,...n)}function zi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nf(e),new Error(e)}function Ki(t,e){t||zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(){return typeof self<"u"&&self.location?.href||""}function z3(){return H1()==="http:"||H1()==="https:"}function H1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z3()||Ov()||"connection"in navigator)?navigator.onLine:!0}function H3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=pO()||vO()}get(){return B3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e){Ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G3=new fd(3e4,6e4);function eo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function bi(t,e,n,r,s={}){return xC(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=hd({key:t.config.apiKey,...l}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:u,...o};return yO()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&pc(t.emulatorConfig.host)&&(f.credentials="include"),wC.fetch()(await bC(t,t.config.apiHost,n,c),f)})}async function xC(t,e,n){t._canInitEmulator=!1;const r={...$3,...e};try{const s=new K3(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Oh(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oh(t,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw Oh(t,"email-already-in-use",l);if(u==="USER_DISABLED")throw Oh(t,"user-disabled",l);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw vC(t,p,f);Ms(t,p)}}catch(s){if(s instanceof Ds)throw s;Ms(t,"network-request-failed",{message:String(s)})}}async function md(t,e,n,r,s={}){const o=await bi(t,e,n,r,s);return"mfaPendingCredential"in o&&Ms(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function bC(t,e,n,r){const s=`${e}${n}?${r}`,o=t,l=o.config.emulator?Hv(t.config,s):`${t.config.apiScheme}://${s}`;return W3.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function q3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),G3.get())})}}function Oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=oi(t,e,r);return s.customData._tokenResponse=n,s}function $1(t){return t!==void 0&&t.enterprise!==void 0}class Y3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return q3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q3(t,e){return bi(t,"GET","/v2/recaptchaConfig",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(t,e){return bi(t,"POST","/v1/accounts:delete",e)}async function Cf(t,e){return bi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J3(t,e=!1){const n=ir(t),r=await n.getIdToken(e),s=$v(r);Qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:r,authTime:Iu(Tg(s.auth_time)),issuedAtTime:Iu(Tg(s.iat)),expirationTime:Iu(Tg(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Tg(t){return Number(t)*1e3}function $v(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{const s=rC(n);return s?JSON.parse(s):(nf("Failed to decode base64 JWT payload"),null)}catch(s){return nf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function W1(t){const e=$v(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ds&&Z3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(t){const e=t.auth,n=await t.getIdToken(),r=await tc(t,Cf(e,{idToken:n}));Qe(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=s.providerUserInfo?.length?_C(s.providerUserInfo):[],l=nV(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!l?.length,f=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ry(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function tV(t){const e=ir(t);await Pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _C(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(t,e){const n=await xC(t,{},async()=>{const r=hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await bC(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return t.emulatorConfig&&pc(t.emulatorConfig.host)&&(u.credentials="include"),wC.fetch()(l,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sV(t,e){return bi(t,"POST","/v2/accounts:revokeToken",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const n=W1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await rV(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new Yl;return r&&(Qe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Qe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Qe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yl,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ps{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new eV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ry(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await tc(this,this.stsTokenManager.getToken(this.auth,e));return Qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J3(this,e)}reload(){return tV(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ps({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await tc(this,X3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:y,emailVerified:x,isAnonymous:E,providerData:k,stsTokenManager:I}=n;Qe(y&&I,e,"internal-error");const P=Yl.fromJSON(this.name,I);Qe(typeof y=="string",e,"internal-error"),Eo(r,e.name),Eo(s,e.name),Qe(typeof x=="boolean",e,"internal-error"),Qe(typeof E=="boolean",e,"internal-error"),Eo(o,e.name),Eo(l,e.name),Eo(c,e.name),Eo(u,e.name),Eo(f,e.name),Eo(p,e.name);const D=new Ps({uid:y,auth:e,email:s,emailVerified:x,displayName:r,isAnonymous:E,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:P,createdAt:f,lastLoginAt:p});return k&&Array.isArray(k)&&(D.providerData=k.map(A=>({...A}))),u&&(D._redirectEventId=u),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new Yl;s.updateFromServerResponse(n);const o=new Ps({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Pf(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Qe(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?_C(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,c=new Yl;c.updateFromIdToken(r);const u=new Ps({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ry(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Map;function Bi(t){Ki(t instanceof Function,"Expected a class definition");let e=G1.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EC.type="NONE";const q1=EC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ql{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=rf(this.userKey,s.apiKey,o),this.fullPersistenceKey=rf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cf(this.auth,{idToken:e}).catch(()=>{});return n?Ps._fromGetAccountInfoResponse(this.auth,n,e):null}return Ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ql(Bi(q1),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||Bi(q1);const l=rf(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const x=await Cf(e,{idToken:p}).catch(()=>{});if(!x)break;y=await Ps._fromGetAccountInfoResponse(e,x,p)}else y=Ps._fromJSON(e,p);f!==o&&(c=y),o=f;break}}catch{}const u=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Ql(o,e,r):(o=u[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ql(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IC(e))return"Blackberry";if(NC(e))return"Webos";if(SC(e))return"Safari";if((e.includes("chrome/")||TC(e))&&!e.includes("edge/"))return"Chrome";if(PC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function kC(t=sr()){return/firefox\//i.test(t)}function SC(t=sr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TC(t=sr()){return/crios\//i.test(t)}function CC(t=sr()){return/iemobile/i.test(t)}function PC(t=sr()){return/android/i.test(t)}function IC(t=sr()){return/blackberry/i.test(t)}function NC(t=sr()){return/webos/i.test(t)}function Wv(t=sr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iV(t=sr()){return Wv(t)&&!!window.navigator?.standalone}function oV(){return wO()&&document.documentMode===10}function MC(t=sr()){return Wv(t)||PC(t)||NC(t)||IC(t)||/windows phone/i.test(t)||CC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t,e=[]){let n;switch(t){case"Browser":n=K1(sr());break;case"Worker":n=`${K1(sr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const u=e(o);l(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t,e={}){return bi(t,"GET","/v2/passwordPolicy",eo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=6;class uV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y1(this),this.idTokenSubscription=new Y1(this),this.beforeStateQueue=new aV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ql.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cf(this,{idToken:e}),r=await Ps._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(cs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject($i(this));const n=e?ir(e):null;return n&&Qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lV(this),n=new uV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ya("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sV(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;Qe(n,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{l=!0,u()}}else{const u=e.addObserver(n);return()=>{l=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&U3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ea(t){return ir(t)}class Y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=SO(n=>this.observer=n)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hV(t){wm=t}function AC(t){return wm.loadJS(t)}function fV(){return wm.recaptchaEnterpriseScript}function mV(){return wm.gapiScript}function pV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class gV{constructor(){this.enterprise=new yV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vV="recaptcha-enterprise",RC="NO_RECAPTCHA";class wV{constructor(e){this.type=vV,this.auth=ea(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{Q3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new Y3(u);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(u=>{c(u)})})}function s(o,l,c){const u=window.grecaptcha;$1(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(RC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gV().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&$1(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let u=fV();u.length!==0&&(u+=c),AC(u).then(()=>{s(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Q1(t,e,n,r=!1,s=!1){const o=new wV(t);let l;if(s)l=RC;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function If(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Q1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Q1(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t,e){const n=Qa(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Ho(o,e??{}))return s;Ms(s,"already-initialized")}return n.initialize({options:e})}function bV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _V(t,e,n){const r=ea(t);Qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=jC(e),{host:l,port:c}=EV(e),u=c===null?"":`:${c}`,f={url:`${o}//${l}${u}/`},p=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Qe(Ho(f,r.config.emulator)&&Ho(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,pc(l)?(aC(`${o}//${l}${u}`),lC("Auth",!0)):kV()}function jC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EV(t){const e=jC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:X1(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:X1(l)}}}function X1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,n){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}async function SV(t,e){return bi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e){return md(t,"POST","/v1/accounts:signInWithPassword",eo(t,e))}async function CV(t,e){return bi(t,"POST","/v1/accounts:sendOobCode",eo(t,e))}async function PV(t,e){return CV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e){return md(t,"POST","/v1/accounts:signInWithEmailLink",eo(t,e))}async function NV(t,e){return md(t,"POST","/v1/accounts:signInWithEmailLink",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Gv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new qu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return If(e,n,"signInWithPassword",TV);case"emailLink":return IV(e,{email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return If(e,r,"signUpPassword",SV);case"emailLink":return NV(e,{idToken:n,email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e){return md(t,"POST","/v1/accounts:signInWithIdp",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="http://localhost";class Ua extends Gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ms("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const l=new Ua(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Xl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xl(e,n)}buildRequest(){const e={requestUri:MV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AV(t){const e=xu(bu(t)).link,n=e?xu(bu(e)).deep_link_id:null,r=xu(bu(t)).deep_link_id;return(r?xu(bu(r)).link:null)||r||n||e||t}class qv{constructor(e){const n=xu(bu(e)),r=n.apiKey??null,s=n.oobCode??null,o=LV(n.mode??null);Qe(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=AV(e);try{return new qv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.providerId=yc.PROVIDER_ID}static credential(e,n){return qu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qv.parseLink(n);return Qe(r,"argument-error"),qu._fromEmailAndCode(e,r.code,r.tenantId)}}yc.PROVIDER_ID="password";yc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends DC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends pd{constructor(){super("facebook.com")}static credential(e){return Ua._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends pd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ua._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lo.credential(n,r)}catch{return null}}}Lo.GOOGLE_SIGN_IN_METHOD="google.com";Lo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends pd{constructor(){super("github.com")}static credential(e){return Ua._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ao.credential(e.oauthAccessToken)}catch{return null}}}Ao.GITHUB_SIGN_IN_METHOD="github.com";Ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends pd{constructor(){super("twitter.com")}static credential(e,n){return Ua._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ro.credential(n,r)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e){return md(t,"POST","/v1/accounts:signUp",eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Ps._fromIdTokenResponse(e,r,s),l=J1(r);return new za({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=J1(r);return new za({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function J1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends Ds{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Nf(e,n,r,s)}}function OC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nf._fromErrorAndOperation(t,o,e,r):o})}async function jV(t,e,n=!1){const r=await tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return za._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(t,e,n=!1){const{auth:r}=t;if(cs(r.app))return Promise.reject($i(r));const s="reauthenticate";try{const o=await tc(t,OC(r,s,e,t),n);Qe(o.idToken,r,"internal-error");const l=$v(o.idToken);Qe(l,r,"internal-error");const{sub:c}=l;return Qe(t.uid===c,r,"user-mismatch"),za._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ms(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(t,e,n=!1){if(cs(t.app))return Promise.reject($i(t));const r="signIn",s=await OC(t,r,e),o=await za._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function OV(t,e){return VC(ea(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(t){const e=ea(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VV(t,e,n){const r=ea(t);await If(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",PV)}async function FV(t,e,n){if(cs(t.app))return Promise.reject($i(t));const r=ea(t),l=await If(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&FC(t),u}),c=await za._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function UV(t,e,n){return cs(t.app)?Promise.reject($i(t)):OV(ir(t),yc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e){return bi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ir(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await tc(r,zV(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function HV(t,e,n,r){return ir(t).onIdTokenChanged(e,n,r)}function $V(t,e,n){return ir(t).beforeAuthStateChanged(e,n)}function WV(t,e,n,r){return ir(t).onAuthStateChanged(e,n,r)}function GV(t){return ir(t).signOut()}const Mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=1e3,KV=10;class zC extends UC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,u)=>{this.notifyListeners(l,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);oV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,KV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zC.type="LOCAL";const YV=zC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends UC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BC.type="SESSION";const HC=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new xm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,o)),u=await QV(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,u)=>{const f=Kv("",20);s.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const x=y;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(x.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function JV(t){ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function ZV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e5(){return navigator?.serviceWorker?.controller||null}function t5(){return $C()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="firebaseLocalStorageDb",n5=1,Lf="firebaseLocalStorage",GC="fbase_key";class gd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bm(t,e){return t.transaction([Lf],e?"readwrite":"readonly").objectStore(Lf)}function r5(){const t=indexedDB.deleteDatabase(WC);return new gd(t).toPromise()}function jy(){const t=indexedDB.open(WC,n5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lf,{keyPath:GC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lf)?e(r):(r.close(),await r5(),e(await jy()))})})}async function Z1(t,e,n){const r=bm(t,!0).put({[GC]:e,value:n});return new gd(r).toPromise()}async function s5(t,e){const n=bm(t,!1).get(e),r=await new gd(n).toPromise();return r===void 0?null:r.value}function e_(t,e){const n=bm(t,!0).delete(e);return new gd(n).toPromise()}const i5=800,o5=3;class qC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>o5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $C()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xm._getInstance(t5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZV(),!this.activeServiceWorker)return;this.sender=new XV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jy();return await Z1(e,Mf,"1"),await e_(e,Mf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Z1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>e_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=bm(s,!1).getAll();return new gd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qC.type="LOCAL";const a5=qC;new fd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e){return e?Bi(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv extends Gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c5(t){return VC(t.auth,new Yv(t),t.bypassAuthState)}function u5(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),DV(n,new Yv(t),t.bypassAuthState)}async function d5(t){const{auth:e,user:n}=t;return Qe(n,e,"internal-error"),jV(n,new Yv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c5;case"linkViaPopup":case"linkViaRedirect":return d5;case"reauthViaPopup":case"reauthViaRedirect":return u5;default:Ms(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=new fd(2e3,1e4);class Ul extends KC{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ul.currentPopupAction&&Ul.currentPopupAction.cancel(),Ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=Kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h5.get())};e()}}Ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="pendingRedirect",sf=new Map;class m5 extends KC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sf.get(this.auth._key());if(!e){try{const r=await p5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sf.set(this.auth._key(),e)}return this.bypassAuthState||sf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p5(t,e){const n=v5(e),r=y5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function g5(t,e){sf.set(t._key(),e)}function y5(t){return Bi(t._redirectPersistence)}function v5(t){return rf(f5,t.config.apiKey,t.name)}async function w5(t,e,n=!1){if(cs(t.app))return Promise.reject($i(t));const r=ea(t),s=l5(r,e),l=await new m5(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=600*1e3;class b5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!YC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(oi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x5&&this.cachedEventUids.clear(),this.cachedEventUids.has(t_(e))}saveEventToCache(e){this.cachedEventUids.add(t_(e)),this.lastProcessedEventTime=Date.now()}}function t_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function _5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(t,e={}){return bi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S5=/^https?/;async function T5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await E5(t);for(const n of e)try{if(C5(n))return}catch{}Ms(t,"unauthorized-domain")}function C5(t){const e=Ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!S5.test(n))return!1;if(k5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new fd(3e4,6e4);function n_(){const t=ai().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I5(t){return new Promise((e,n)=>{function r(){n_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n_(),n(oi(t,"network-request-failed"))},timeout:P5.get()})}if(ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ai().gapi?.load)r();else{const s=pV("iframefcb");return ai()[s]=()=>{gapi.load?r():n(oi(t,"network-request-failed"))},AC(`${mV()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw of=null,e})}let of=null;function N5(t){return of=of||I5(t),of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new fd(5e3,15e3),L5="__/auth/iframe",A5="emulator/auth/iframe",R5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D5(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hv(e,A5):`https://${t.config.authDomain}/${L5}`,r={apiKey:e.apiKey,appName:t.name,v:gc},s=j5.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${hd(r).slice(1)}`}async function O5(t){const e=await N5(t),n=ai().gapi;return Qe(n,t,"internal-error"),e.open({where:document.body,url:D5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R5,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=oi(t,"network-request-failed"),c=ai().setTimeout(()=>{o(l)},M5.get());function u(){ai().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F5=500,U5=600,z5="_blank",B5="http://localhost";class r_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H5(t,e,n,r=F5,s=U5){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...V5,width:r.toString(),height:s.toString(),top:o,left:l},f=sr().toLowerCase();n&&(c=TC(f)?z5:n),kC(f)&&(e=e||B5,u.scrollbars="yes");const p=Object.entries(u).reduce((x,[E,k])=>`${x}${E}=${k},`,"");if(iV(f)&&c!=="_self")return $5(e||"",c),new r_(null);const y=window.open(e||"",c,p);Qe(y,t,"popup-blocked");try{y.focus()}catch{}return new r_(y)}function $5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="__/auth/handler",G5="emulator/auth/handler",q5=encodeURIComponent("fac");async function s_(t,e,n,r,s,o){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gc,eventId:s};if(e instanceof DC){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",kO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(e instanceof pd){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await t._getAppCheckToken(),f=u?`#${q5}=${encodeURIComponent(u)}`:"";return`${K5(t)}?${hd(c).slice(1)}${f}`}function K5({config:t}){return t.emulator?Hv(t,G5):`https://${t.authDomain}/${W5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="webStorageSupport";class Y5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HC,this._completeRedirectFn=w5,this._overrideRedirectResult=g5}async _openPopup(e,n,r,s){Ki(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await s_(e,n,r,Ay(),s);return H5(e,o,Kv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await s_(e,n,r,Ay(),s);return JV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ki(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await O5(e),r=new b5(e);return n.register("authEvent",s=>(Qe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cg,{type:Cg},s=>{const o=s?.[0]?.[Cg];o!==void 0&&n(!!o),Ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MC()||SC()||Wv()}}const Q5=Y5;var i_="@firebase/auth",o_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z5(t){yi(new Ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Qe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LC(t)},f=new dV(r,s,o,u);return bV(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yi(new Ns("auth-internal",e=>{const n=ea(e.getProvider("auth").getImmediate());return(r=>new X5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(i_,o_,J5(t)),hs(i_,o_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=300,t6=oC("authIdTokenMaxAge")||e6;let a_=null;const n6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t6)return;const s=n?.token;a_!==s&&(a_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function r6(t=zv()){const e=Qa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xV(t,{popupRedirectResolver:Q5,persistence:[a5,YV,HC]}),r=oC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=n6(o.toString());$V(n,l,()=>l(n.currentUser)),HV(n,c=>l(c))}}const s=sC("auth");return s&&_V(n,`http://${s}`),n}function s6(){return document.getElementsByTagName("head")?.[0]??document}hV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=oi("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",s6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z5("Browser");var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fo,QC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,T){function C(){}C.prototype=T.prototype,M.F=T.prototype,M.prototype=new C,M.prototype.constructor=M,M.D=function(O,V,$){for(var L=Array(arguments.length-2),le=2;le<arguments.length;le++)L[le-2]=arguments[le];return T.prototype[V].apply(O,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,T,C){C||(C=0);const O=Array(16);if(typeof T=="string")for(var V=0;V<16;++V)O[V]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(V=0;V<16;++V)O[V]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=M.g[0],C=M.g[1],V=M.g[2];let $=M.g[3],L;L=T+($^C&(V^$))+O[0]+3614090360&4294967295,T=C+(L<<7&4294967295|L>>>25),L=$+(V^T&(C^V))+O[1]+3905402710&4294967295,$=T+(L<<12&4294967295|L>>>20),L=V+(C^$&(T^C))+O[2]+606105819&4294967295,V=$+(L<<17&4294967295|L>>>15),L=C+(T^V&($^T))+O[3]+3250441966&4294967295,C=V+(L<<22&4294967295|L>>>10),L=T+($^C&(V^$))+O[4]+4118548399&4294967295,T=C+(L<<7&4294967295|L>>>25),L=$+(V^T&(C^V))+O[5]+1200080426&4294967295,$=T+(L<<12&4294967295|L>>>20),L=V+(C^$&(T^C))+O[6]+2821735955&4294967295,V=$+(L<<17&4294967295|L>>>15),L=C+(T^V&($^T))+O[7]+4249261313&4294967295,C=V+(L<<22&4294967295|L>>>10),L=T+($^C&(V^$))+O[8]+1770035416&4294967295,T=C+(L<<7&4294967295|L>>>25),L=$+(V^T&(C^V))+O[9]+2336552879&4294967295,$=T+(L<<12&4294967295|L>>>20),L=V+(C^$&(T^C))+O[10]+4294925233&4294967295,V=$+(L<<17&4294967295|L>>>15),L=C+(T^V&($^T))+O[11]+2304563134&4294967295,C=V+(L<<22&4294967295|L>>>10),L=T+($^C&(V^$))+O[12]+1804603682&4294967295,T=C+(L<<7&4294967295|L>>>25),L=$+(V^T&(C^V))+O[13]+4254626195&4294967295,$=T+(L<<12&4294967295|L>>>20),L=V+(C^$&(T^C))+O[14]+2792965006&4294967295,V=$+(L<<17&4294967295|L>>>15),L=C+(T^V&($^T))+O[15]+1236535329&4294967295,C=V+(L<<22&4294967295|L>>>10),L=T+(V^$&(C^V))+O[1]+4129170786&4294967295,T=C+(L<<5&4294967295|L>>>27),L=$+(C^V&(T^C))+O[6]+3225465664&4294967295,$=T+(L<<9&4294967295|L>>>23),L=V+(T^C&($^T))+O[11]+643717713&4294967295,V=$+(L<<14&4294967295|L>>>18),L=C+($^T&(V^$))+O[0]+3921069994&4294967295,C=V+(L<<20&4294967295|L>>>12),L=T+(V^$&(C^V))+O[5]+3593408605&4294967295,T=C+(L<<5&4294967295|L>>>27),L=$+(C^V&(T^C))+O[10]+38016083&4294967295,$=T+(L<<9&4294967295|L>>>23),L=V+(T^C&($^T))+O[15]+3634488961&4294967295,V=$+(L<<14&4294967295|L>>>18),L=C+($^T&(V^$))+O[4]+3889429448&4294967295,C=V+(L<<20&4294967295|L>>>12),L=T+(V^$&(C^V))+O[9]+568446438&4294967295,T=C+(L<<5&4294967295|L>>>27),L=$+(C^V&(T^C))+O[14]+3275163606&4294967295,$=T+(L<<9&4294967295|L>>>23),L=V+(T^C&($^T))+O[3]+4107603335&4294967295,V=$+(L<<14&4294967295|L>>>18),L=C+($^T&(V^$))+O[8]+1163531501&4294967295,C=V+(L<<20&4294967295|L>>>12),L=T+(V^$&(C^V))+O[13]+2850285829&4294967295,T=C+(L<<5&4294967295|L>>>27),L=$+(C^V&(T^C))+O[2]+4243563512&4294967295,$=T+(L<<9&4294967295|L>>>23),L=V+(T^C&($^T))+O[7]+1735328473&4294967295,V=$+(L<<14&4294967295|L>>>18),L=C+($^T&(V^$))+O[12]+2368359562&4294967295,C=V+(L<<20&4294967295|L>>>12),L=T+(C^V^$)+O[5]+4294588738&4294967295,T=C+(L<<4&4294967295|L>>>28),L=$+(T^C^V)+O[8]+2272392833&4294967295,$=T+(L<<11&4294967295|L>>>21),L=V+($^T^C)+O[11]+1839030562&4294967295,V=$+(L<<16&4294967295|L>>>16),L=C+(V^$^T)+O[14]+4259657740&4294967295,C=V+(L<<23&4294967295|L>>>9),L=T+(C^V^$)+O[1]+2763975236&4294967295,T=C+(L<<4&4294967295|L>>>28),L=$+(T^C^V)+O[4]+1272893353&4294967295,$=T+(L<<11&4294967295|L>>>21),L=V+($^T^C)+O[7]+4139469664&4294967295,V=$+(L<<16&4294967295|L>>>16),L=C+(V^$^T)+O[10]+3200236656&4294967295,C=V+(L<<23&4294967295|L>>>9),L=T+(C^V^$)+O[13]+681279174&4294967295,T=C+(L<<4&4294967295|L>>>28),L=$+(T^C^V)+O[0]+3936430074&4294967295,$=T+(L<<11&4294967295|L>>>21),L=V+($^T^C)+O[3]+3572445317&4294967295,V=$+(L<<16&4294967295|L>>>16),L=C+(V^$^T)+O[6]+76029189&4294967295,C=V+(L<<23&4294967295|L>>>9),L=T+(C^V^$)+O[9]+3654602809&4294967295,T=C+(L<<4&4294967295|L>>>28),L=$+(T^C^V)+O[12]+3873151461&4294967295,$=T+(L<<11&4294967295|L>>>21),L=V+($^T^C)+O[15]+530742520&4294967295,V=$+(L<<16&4294967295|L>>>16),L=C+(V^$^T)+O[2]+3299628645&4294967295,C=V+(L<<23&4294967295|L>>>9),L=T+(V^(C|~$))+O[0]+4096336452&4294967295,T=C+(L<<6&4294967295|L>>>26),L=$+(C^(T|~V))+O[7]+1126891415&4294967295,$=T+(L<<10&4294967295|L>>>22),L=V+(T^($|~C))+O[14]+2878612391&4294967295,V=$+(L<<15&4294967295|L>>>17),L=C+($^(V|~T))+O[5]+4237533241&4294967295,C=V+(L<<21&4294967295|L>>>11),L=T+(V^(C|~$))+O[12]+1700485571&4294967295,T=C+(L<<6&4294967295|L>>>26),L=$+(C^(T|~V))+O[3]+2399980690&4294967295,$=T+(L<<10&4294967295|L>>>22),L=V+(T^($|~C))+O[10]+4293915773&4294967295,V=$+(L<<15&4294967295|L>>>17),L=C+($^(V|~T))+O[1]+2240044497&4294967295,C=V+(L<<21&4294967295|L>>>11),L=T+(V^(C|~$))+O[8]+1873313359&4294967295,T=C+(L<<6&4294967295|L>>>26),L=$+(C^(T|~V))+O[15]+4264355552&4294967295,$=T+(L<<10&4294967295|L>>>22),L=V+(T^($|~C))+O[6]+2734768916&4294967295,V=$+(L<<15&4294967295|L>>>17),L=C+($^(V|~T))+O[13]+1309151649&4294967295,C=V+(L<<21&4294967295|L>>>11),L=T+(V^(C|~$))+O[4]+4149444226&4294967295,T=C+(L<<6&4294967295|L>>>26),L=$+(C^(T|~V))+O[11]+3174756917&4294967295,$=T+(L<<10&4294967295|L>>>22),L=V+(T^($|~C))+O[2]+718787259&4294967295,V=$+(L<<15&4294967295|L>>>17),L=C+($^(V|~T))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+T&4294967295,M.g[1]=M.g[1]+(V+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+$&4294967295}r.prototype.v=function(M,T){T===void 0&&(T=M.length);const C=T-this.blockSize,O=this.C;let V=this.h,$=0;for(;$<T;){if(V==0)for(;$<=C;)s(this,M,$),$+=this.blockSize;if(typeof M=="string"){for(;$<T;)if(O[V++]=M.charCodeAt($++),V==this.blockSize){s(this,O),V=0;break}}else for(;$<T;)if(O[V++]=M[$++],V==this.blockSize){s(this,O),V=0;break}}this.h=V,this.o+=T},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var T=1;T<M.length-8;++T)M[T]=0;T=this.o*8;for(var C=M.length-8;C<M.length;++C)M[C]=T&255,T/=256;for(this.v(M),M=Array(16),T=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)M[T++]=this.g[C]>>>O&255;return M};function o(M,T){var C=c;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=T(M)}function l(M,T){this.h=T;const C=[];let O=!0;for(let V=M.length-1;V>=0;V--){const $=M[V]|0;O&&$==T||(C[V]=$,O=!1)}this.g=C}var c={};function u(M){return-128<=M&&M<128?o(M,function(T){return new l([T|0],T<0?-1:0)}):new l([M|0],M<0?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return y;if(M<0)return P(f(-M));const T=[];let C=1;for(let O=0;M>=C;O++)T[O]=M/C|0,C*=4294967296;return new l(T,0)}function p(M,T){if(M.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(M.charAt(0)=="-")return P(p(M.substring(1),T));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=f(Math.pow(T,8));let O=y;for(let $=0;$<M.length;$+=8){var V=Math.min(8,M.length-$);const L=parseInt(M.substring($,$+V),T);V<8?(V=f(Math.pow(T,V)),O=O.j(V).add(f(L))):(O=O.j(C),O=O.add(f(L)))}return O}var y=u(0),x=u(1),E=u(16777216);t=l.prototype,t.m=function(){if(I(this))return-P(this).m();let M=0,T=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);M+=(O>=0?O:4294967296+O)*T,T*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(I(this))return"-"+P(this).toString(M);const T=f(Math.pow(M,6));var C=this;let O="";for(;;){const V=H(C,T).g;C=D(C,V.j(T));let $=((C.g.length>0?C.g[0]:C.h)>>>0).toString(M);if(C=V,k(C))return $+O;for(;$.length<6;)$="0"+$;O=$+O}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(let T=0;T<M.g.length;T++)if(M.g[T]!=0)return!1;return!0}function I(M){return M.h==-1}t.l=function(M){return M=D(this,M),I(M)?-1:k(M)?0:1};function P(M){const T=M.g.length,C=[];for(let O=0;O<T;O++)C[O]=~M.g[O];return new l(C,~M.h).add(x)}t.abs=function(){return I(this)?P(this):this},t.add=function(M){const T=Math.max(this.g.length,M.g.length),C=[];let O=0;for(let V=0;V<=T;V++){let $=O+(this.i(V)&65535)+(M.i(V)&65535),L=($>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=L>>>16,$&=65535,L&=65535,C[V]=L<<16|$}return new l(C,C[C.length-1]&-2147483648?-1:0)};function D(M,T){return M.add(P(T))}t.j=function(M){if(k(this)||k(M))return y;if(I(this))return I(M)?P(this).j(P(M)):P(P(this).j(M));if(I(M))return P(this.j(P(M)));if(this.l(E)<0&&M.l(E)<0)return f(this.m()*M.m());const T=this.g.length+M.g.length,C=[];for(var O=0;O<2*T;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<M.g.length;V++){const $=this.i(O)>>>16,L=this.i(O)&65535,le=M.i(V)>>>16,pe=M.i(V)&65535;C[2*O+2*V]+=L*pe,A(C,2*O+2*V),C[2*O+2*V+1]+=$*pe,A(C,2*O+2*V+1),C[2*O+2*V+1]+=L*le,A(C,2*O+2*V+1),C[2*O+2*V+2]+=$*le,A(C,2*O+2*V+2)}for(M=0;M<T;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=T;M<2*T;M++)C[M]=0;return new l(C,0)};function A(M,T){for(;(M[T]&65535)!=M[T];)M[T+1]+=M[T]>>>16,M[T]&=65535,T++}function z(M,T){this.g=M,this.h=T}function H(M,T){if(k(T))throw Error("division by zero");if(k(M))return new z(y,y);if(I(M))return T=H(P(M),T),new z(P(T.g),P(T.h));if(I(T))return T=H(M,P(T)),new z(P(T.g),T.h);if(M.g.length>30){if(I(M)||I(T))throw Error("slowDivide_ only works with positive integers.");for(var C=x,O=T;O.l(M)<=0;)C=F(C),O=F(O);var V=R(C,1),$=R(O,1);for(O=R(O,2),C=R(C,2);!k(O);){var L=$.add(O);L.l(M)<=0&&(V=V.add(C),$=L),O=R(O,1),C=R(C,1)}return T=D(M,V.j(T)),new z(V,T)}for(V=y;M.l(T)>=0;){for(C=Math.max(1,Math.floor(M.m()/T.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),$=f(C),L=$.j(T);I(L)||L.l(M)>0;)C-=O,$=f(C),L=$.j(T);k($)&&($=x),V=V.add($),M=D(M,L)}return new z(V,M)}t.B=function(M){return H(this,M).h},t.and=function(M){const T=Math.max(this.g.length,M.g.length),C=[];for(let O=0;O<T;O++)C[O]=this.i(O)&M.i(O);return new l(C,this.h&M.h)},t.or=function(M){const T=Math.max(this.g.length,M.g.length),C=[];for(let O=0;O<T;O++)C[O]=this.i(O)|M.i(O);return new l(C,this.h|M.h)},t.xor=function(M){const T=Math.max(this.g.length,M.g.length),C=[];for(let O=0;O<T;O++)C[O]=this.i(O)^M.i(O);return new l(C,this.h^M.h)};function F(M){const T=M.g.length+1,C=[];for(let O=0;O<T;O++)C[O]=M.i(O)<<1|M.i(O-1)>>>31;return new l(C,M.h)}function R(M,T){const C=T>>5;T%=32;const O=M.g.length-C,V=[];for(let $=0;$<O;$++)V[$]=T>0?M.i($+C)>>>T|M.i($+C+1)<<32-T:M.i($+C);return new l(V,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,QC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Fo=l}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XC,_u,JC,af,Dy,ZC,eP,tP;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vh=="object"&&Vh];for(var _=0;_<m.length;++_){var S=m[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(m,_){if(_)e:{var S=r;m=m.split(".");for(var j=0;j<m.length-1;j++){var X=m[j];if(!(X in S))break e;S=S[X]}m=m[m.length-1],j=S[m],_=_(j),_!=j&&_!=null&&e(S,m,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(_){var S=[],j;for(j in _)Object.prototype.hasOwnProperty.call(_,j)&&S.push([j,_[j]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function u(m,_,S){return m.call.apply(m.bind,arguments)}function f(m,_,S){return f=u,f.apply(null,arguments)}function p(m,_){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),m.apply(this,j)}}function y(m,_){function S(){}S.prototype=_.prototype,m.Z=_.prototype,m.prototype=new S,m.prototype.constructor=m,m.Ob=function(j,X,ie){for(var _e=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)_e[nt-2]=arguments[nt];return _.prototype[X].apply(j,_e)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function E(m){const _=m.length;if(_>0){const S=Array(_);for(let j=0;j<_;j++)S[j]=m[j];return S}return[]}function k(m,_){for(let j=1;j<arguments.length;j++){const X=arguments[j];var S=typeof X;if(S=S!="object"?S:X?Array.isArray(X)?"array":S:"null",S=="array"||S=="object"&&typeof X.length=="number"){S=m.length||0;const ie=X.length||0;m.length=S+ie;for(let _e=0;_e<ie;_e++)m[S+_e]=X[_e]}else m.push(X)}}class I{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(m){l.setTimeout(()=>{throw m},0)}function D(){var m=M;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class A{constructor(){this.h=this.g=null}add(_,S){const j=z.get();j.set(_,S),this.h?this.h.next=j:this.g=j,this.h=j}}var z=new I(()=>new H,m=>m.reset());class H{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let F,R=!1,M=new A,T=()=>{const m=Promise.resolve(void 0);F=()=>{m.then(C)}};function C(){for(var m;m=D();){try{m.h.call(m.g)}catch(S){P(S)}var _=z;_.j(m),_.h<100&&(_.h++,m.next=_.g,_.g=m)}R=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};l.addEventListener("test",S,_),l.removeEventListener("test",S,_)}catch{}return m})();function L(m){return/^[\s\xa0]*$/.test(m)}function le(m,_){V.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,_)}y(le,V),le.prototype.init=function(m,_){const S=this.type=m.type,j=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget,_||(S=="mouseover"?_=m.fromElement:S=="mouseout"&&(_=m.toElement)),this.relatedTarget=_,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),ge=0;function re(m,_,S,j,X){this.listener=m,this.proxy=null,this.src=_,this.type=S,this.capture=!!j,this.ha=X,this.key=++ge,this.da=this.fa=!1}function B(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ue(m,_,S){for(const j in m)_.call(S,m[j],j,m)}function oe(m,_){for(const S in m)_.call(void 0,m[S],S,m)}function G(m){const _={};for(const S in m)_[S]=m[S];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(m,_){let S,j;for(let X=1;X<arguments.length;X++){j=arguments[X];for(S in j)m[S]=j[S];for(let ie=0;ie<ee.length;ie++)S=ee[ie],Object.prototype.hasOwnProperty.call(j,S)&&(m[S]=j[S])}}function ve(m){this.src=m,this.g={},this.h=0}ve.prototype.add=function(m,_,S,j,X){const ie=m.toString();m=this.g[ie],m||(m=this.g[ie]=[],this.h++);const _e=Pe(m,_,j,X);return _e>-1?(_=m[_e],S||(_.fa=!1)):(_=new re(_,this.src,ie,!!j,X),_.fa=S,m.push(_)),_};function Z(m,_){const S=_.type;if(S in m.g){var j=m.g[S],X=Array.prototype.indexOf.call(j,_,void 0),ie;(ie=X>=0)&&Array.prototype.splice.call(j,X,1),ie&&(B(_),m.g[S].length==0&&(delete m.g[S],m.h--))}}function Pe(m,_,S,j){for(let X=0;X<m.length;++X){const ie=m[X];if(!ie.da&&ie.listener==_&&ie.capture==!!S&&ie.ha==j)return X}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),ke={};function We(m,_,S,j,X){if(Array.isArray(_)){for(let ie=0;ie<_.length;ie++)We(m,_[ie],S,j,X);return null}return S=Os(S),m&&m[pe]?m.J(_,S,c(j)?!!j.capture:!1,X):xe(m,_,S,!1,j,X)}function xe(m,_,S,j,X,ie){if(!_)throw Error("Invalid event type");const _e=c(X)?!!X.capture:!!X;let nt=ps(m);if(nt||(m[Se]=nt=new ve(m)),S=nt.add(_,S,j,_e,ie),S.proxy)return S;if(j=Ye(),S.proxy=j,j.src=m,j.listener=S,m.addEventListener)$||(X=_e),X===void 0&&(X=!1),m.addEventListener(_.toString(),j,X);else if(m.attachEvent)m.attachEvent(hn(_.toString()),j);else if(m.addListener&&m.removeListener)m.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ye(){function m(S){return _.call(m.src,m.listener,S)}const _=yt;return m}function zt(m,_,S,j,X){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)zt(m,_[ie],S,j,X);else j=c(j)?!!j.capture:!!j,S=Os(S),m&&m[pe]?(m=m.i,ie=String(_).toString(),ie in m.g&&(_=m.g[ie],S=Pe(_,S,j,X),S>-1&&(B(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete m.g[ie],m.h--)))):m&&(m=ps(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Pe(_,S,j,X)),(S=m>-1?_[m]:null)&&dn(S))}function dn(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[pe])Z(_.i,m);else{var S=m.type,j=m.proxy;_.removeEventListener?_.removeEventListener(S,j,m.capture):_.detachEvent?_.detachEvent(hn(S),j):_.addListener&&_.removeListener&&_.removeListener(j),(S=ps(_))?(Z(S,m),S.h==0&&(S.src=null,_[Se]=null)):B(m)}}}function hn(m){return m in ke?ke[m]:ke[m]="on"+m}function yt(m,_){if(m.da)m=!0;else{_=new le(_,this);const S=m.listener,j=m.ha||m.src;m.fa&&dn(m),m=S.call(j,_)}return m}function ps(m){return m=m[Se],m instanceof ve?m:null}var or="__closure_events_fn_"+(Math.random()*1e9>>>0);function Os(m){return typeof m=="function"?m:(m[or]||(m[or]=function(_){return m.handleEvent(_)}),m[or])}function jt(){O.call(this),this.i=new ve(this),this.M=this,this.G=null}y(jt,O),jt.prototype[pe]=!0,jt.prototype.removeEventListener=function(m,_,S,j){zt(this,m,_,S,j)};function Vt(m,_){var S,j=m.G;if(j)for(S=[];j;j=j.G)S.push(j);if(m=m.M,j=_.type||_,typeof _=="string")_=new V(_,m);else if(_ instanceof V)_.target=_.target||m;else{var X=_;_=new V(j,m),ce(_,X)}X=!0;let ie,_e;if(S)for(_e=S.length-1;_e>=0;_e--)ie=_.g=S[_e],X=Sn(ie,j,!0,_)&&X;if(ie=_.g=m,X=Sn(ie,j,!0,_)&&X,X=Sn(ie,j,!1,_)&&X,S)for(_e=0;_e<S.length;_e++)ie=_.g=S[_e],X=Sn(ie,j,!1,_)&&X}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var m=this.i;for(const _ in m.g){const S=m.g[_];for(let j=0;j<S.length;j++)B(S[j]);delete m.g[_],m.h--}}this.G=null},jt.prototype.J=function(m,_,S,j){return this.i.add(String(m),_,!1,S,j)},jt.prototype.K=function(m,_,S,j){return this.i.add(String(m),_,!0,S,j)};function Sn(m,_,S,j){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();let X=!0;for(let ie=0;ie<_.length;++ie){const _e=_[ie];if(_e&&!_e.da&&_e.capture==S){const nt=_e.listener,on=_e.ha||_e.src;_e.fa&&Z(m.i,_e),X=nt.call(on,j)!==!1&&X}}return X&&!j.defaultPrevented}function Hn(m,_){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(m,_||0)}function $n(m){m.g=Hn(()=>{m.g=null,m.i&&(m.i=!1,$n(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class Vs extends O{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:$n(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(m){O.call(this),this.h=m,this.g={}}y(ar,O);var An=[];function sn(m){ue(m.g,function(_,S){this.g.hasOwnProperty(S)&&dn(_)},m),m.g={}}ar.prototype.N=function(){ar.Z.N.call(this),sn(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=l.JSON.stringify,Ar=l.JSON.parse,Kr=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Zt(){}function Fs(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yr(){V.call(this,"d")}y(Yr,V);function Qr(){V.call(this,"c")}y(Qr,V);var Rn={},Gn=null;function vr(){return Gn=Gn||new jt}Rn.Ia="serverreachability";function lr(m){V.call(this,Rn.Ia,m)}y(lr,V);function wr(m){const _=vr();Vt(_,new lr(_))}Rn.STAT_EVENT="statevent";function cr(m,_){V.call(this,Rn.STAT_EVENT,m),this.stat=_}y(cr,V);function Dt(m){const _=vr();Vt(_,new cr(_,m))}Rn.Ja="timingevent";function Rr(m,_){V.call(this,Rn.Ja,m),this.size=_}y(Rr,V);function qn(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},_)}function Tn(){this.g=!0}Tn.prototype.ua=function(){this.g=!1};function _i(m,_,S,j,X,ie){m.info(function(){if(m.g)if(ie){var _e="",nt=ie.split("&");for(let Lt=0;Lt<nt.length;Lt++){var on=nt[Lt].split("=");if(on.length>1){const mn=on[0];on=on[1];const Ur=mn.split("_");_e=Ur.length>=2&&Ur[1]=="type"?_e+(mn+"="+on+"&"):_e+(mn+"=redacted&")}}}else _e=null;else _e=ie;return"XMLHTTP REQ ("+j+") [attempt "+X+"]: "+_+`
`+S+`
`+_e})}function gs(m,_,S,j,X,ie,_e){m.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+X+"]: "+_+`
`+S+`
`+ie+" "+_e})}function W(m,_,S,j){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+te(m,S)+(j?" "+j:"")})}function Y(m,_){m.info(function(){return"TIMEOUT: "+_})}Tn.prototype.info=function(){};function te(m,_){if(!m.g)return _;if(!_)return null;try{const ie=JSON.parse(_);if(ie){for(m=0;m<ie.length;m++)if(Array.isArray(ie[m])){var S=ie[m];if(!(S.length<2)){var j=S[1];if(Array.isArray(j)&&!(j.length<1)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(let _e=1;_e<j.length;_e++)j[_e]=""}}}}return yr(ie)}catch{return _}}var se={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},be={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oe;function Le(){}y(Le,Zt),Le.prototype.g=function(){return new XMLHttpRequest},Oe=new Le;function Te(m){return encodeURIComponent(String(m))}function Ve(m){var _=1;m=m.split(":");const S=[];for(;_>0&&m.length;)S.push(m.shift()),_--;return m.length&&S.push(m.join(":")),S}function Fe(m,_,S,j){this.j=m,this.i=_,this.l=S,this.S=j||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}var Ue={},ot={};function ft(m,_,S){m.M=1,m.A=ki(Jr(_)),m.u=S,m.R=!0,Wt(m,null)}function Wt(m,_){m.F=Date.now(),ur(m),m.B=Jr(m.A);var S=m.B,j=m.S;Array.isArray(j)||(j=[String(j)]),Lc(S.i,"t",j),m.C=0,S=m.j.L,m.h=new Be,m.g=jd(m.j,S?_:null,!m.u),m.P>0&&(m.O=new Vs(f(m.Y,m,m.g),m.P)),_=m.V,S=m.g,j=m.ba;var X="readystatechange";Array.isArray(X)||(X&&(An[0]=X.toString()),X=An);for(let ie=0;ie<X.length;ie++){const _e=We(S,X[ie],j||_.handleEvent,!1,_.h||_);if(!_e)break;_.g[_e.key]=_e}_=m.J?G(m.J):{},m.u?(m.v||(m.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,_)):(m.v="GET",m.g.ea(m.B,m.v,null,_)),wr(),_i(m.i,m.v,m.B,m.l,m.S,m.u)}Fe.prototype.ba=function(m){m=m.target;const _=this.O;_&&Gs(m)==3?_.j():this.Y(m)},Fe.prototype.Y=function(m){try{if(m==this.g)e:{const nt=Gs(this.g),on=this.g.ya(),Lt=this.g.ca();if(!(nt<3)&&(nt!=3||this.g&&(this.h.h||this.g.la()||Ad(this.g)))){this.K||nt!=4||on==7||(on==8||Lt<=0?wr(3):wr(2)),dr(this);var _=this.g.ca();this.X=_;var S=fn(this);if(this.o=_==200,gs(this.i,this.v,this.B,this.l,this.S,nt,_),this.o){if(this.U&&!this.L){t:{if(this.g){var j,X=this.g;if((j=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(j)){var ie=j;break t}}ie=null}if(m=ie)W(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Tt(this,m);else{this.o=!1,this.m=3,Dt(12),jr(this),Cn(this);break e}}if(this.R){m=!0;let mn;for(;!this.K&&this.C<S.length;)if(mn=It(this,S),mn==ot){nt==4&&(this.m=4,Dt(14),m=!1),W(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Ue){this.m=4,Dt(15),W(this.i,this.l,S,"[Invalid Chunk]"),m=!1;break}else W(this.i,this.l,mn,null),Tt(this,mn);if(Rt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||S.length!=0||this.h.h||(this.m=1,Dt(16),m=!1),this.o=this.o&&m,!m)W(this.i,this.l,S,"[Invalid Chunked Response]"),jr(this),Cn(this);else if(S.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),la(_e),_e.P=!0,Dt(11))}}else W(this.i,this.l,S,null),Tt(this,S);nt==4&&jr(this),this.o&&!this.K&&(nt==4?cl(this.j,this):(this.o=!1,ur(this)))}else Rc(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),jr(this),Cn(this)}}}catch{}finally{}};function fn(m){if(!Rt(m))return m.g.la();const _=Ad(m.g);if(_==="")return"";let S="";const j=_.length,X=Gs(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return jr(m),Cn(m),"";m.h.i=new l.TextDecoder}for(let ie=0;ie<j;ie++)m.h.h=!0,S+=m.h.i.decode(_[ie],{stream:!(X&&ie==j-1)});return _.length=0,m.h.g+=S,m.C=0,m.h.g}function Rt(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function It(m,_){var S=m.C,j=_.indexOf(`
`,S);return j==-1?ot:(S=Number(_.substring(S,j)),isNaN(S)?Ue:(j+=1,j+S>_.length?ot:(_=_.slice(j,j+S),m.C=j+S,_)))}Fe.prototype.cancel=function(){this.K=!0,jr(this)};function ur(m){m.T=Date.now()+m.H,ys(m,m.H)}function ys(m,_){if(m.D!=null)throw Error("WatchDog timer not null");m.D=qn(f(m.aa,m),_)}function dr(m){m.D&&(l.clearTimeout(m.D),m.D=null)}Fe.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Y(this.i,this.B),this.M!=2&&(wr(),Dt(17)),jr(this),this.m=2,Cn(this)):ys(this,this.T-m)};function Cn(m){m.j.I==0||m.K||cl(m.j,m)}function jr(m){dr(m);var _=m.O;_&&typeof _.dispose=="function"&&_.dispose(),m.O=null,sn(m.V),m.g&&(_=m.g,m.g=null,_.abort(),_.dispose())}function Tt(m,_){try{var S=m.j;if(S.I!=0&&(S.g==m||en(S.h,m))){if(!m.L&&en(S.h,m)&&S.I==3){try{var j=S.Ba.g.parse(_)}catch{j=null}if(Array.isArray(j)&&j.length==3){var X=j;if(X[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<m.F)ll(S),Vr(S);else break e;Ys(S),Dt(18)}}else S.xa=X[1],0<S.xa-S.K&&X[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=qn(f(S.Va,S),6e3));it(S.h)<=1&&S.ta&&(S.ta=void 0)}else Fr(S,11)}else if((m.L||S.g==m)&&ll(S),!L(_))for(X=S.Ba.g.parse(_),_=0;_<X.length;_++){let Lt=X[_];const mn=Lt[0];if(!(mn<=S.K))if(S.K=mn,Lt=Lt[1],S.I==2)if(Lt[0]=="c"){S.M=Lt[1],S.ba=Lt[2];const Ur=Lt[3];Ur!=null&&(S.ka=Ur,S.j.info("VER="+S.ka));const Ii=Lt[4];Ii!=null&&(S.za=Ii,S.j.info("SVER="+S.za));const Qs=Lt[5];Qs!=null&&typeof Qs=="number"&&Qs>0&&(j=1.5*Qs,S.O=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const Xs=m.g;if(Xs){const hl=Xs.g?Xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hl){var ie=j.h;ie.g||hl.indexOf("spdy")==-1&&hl.indexOf("quic")==-1&&hl.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Dr(ie,ie.h),ie.h=null))}if(j.G){const Oc=Xs.g?Xs.g.getResponseHeader("X-HTTP-Session-Id"):null;Oc&&(j.wa=Oc,Ct(j.J,j.G,Oc))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-m.F,S.j.info("Handshake RTT: "+S.T+"ms")),j=S;var _e=m;if(j.na=Dc(j,j.L?j.ba:null,j.W),_e.L){hr(j.h,_e);var nt=_e,on=j.O;on&&(nt.H=on),nt.D&&(dr(nt),ur(nt)),j.g=_e}else Yn(j);S.i.length>0&&Pi(S)}else Lt[0]!="stop"&&Lt[0]!="close"||Fr(S,7);else S.I==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Fr(S,7):ol(S):Lt[0]!="noop"&&S.l&&S.l.qa(Lt),S.A=0)}}wr(4)}catch{}}var vs=class{constructor(m,_){this.g=m,this.map=_}};function ws(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Us(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function it(m){return m.h?1:m.g?m.g.size:0}function en(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Dr(m,_){m.g?m.g.add(_):m.h=_}function hr(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}ws.prototype.cancel=function(){if(this.i=xt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function xt(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const S of m.g.values())_=_.concat(S.G);return _}return E(m.i)}var Ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kn(m,_){if(m){m=m.split("&");for(let S=0;S<m.length;S++){const j=m[S].indexOf("=");let X,ie=null;j>=0?(X=m[S].substring(0,j),ie=m[S].substring(j+1)):X=m[S],_(X,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Xr(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;m instanceof Xr?(this.l=m.l,na(this,m.j),this.o=m.o,this.g=m.g,zs(this,m.u),this.h=m.h,to(this,Ac(m.i)),this.m=m.m):m&&(_=String(m).match(Ei))?(this.l=!1,na(this,_[1]||"",!0),this.o=ra(_[2]||""),this.g=ra(_[3]||"",!0),zs(this,_[4]),this.h=ra(_[5]||"",!0),to(this,_[6]||"",!0),this.m=ra(_[7]||"")):(this.l=!1,this.i=new vt(null,this.l))}Xr.prototype.toString=function(){const m=[];var _=this.j;_&&m.push(sa(_,Cc,!0),":");var S=this.g;return(S||_=="file")&&(m.push("//"),(_=this.o)&&m.push(sa(_,Cc,!0),"@"),m.push(Te(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&m.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(sa(S,S.charAt(0)=="/"?ia:Pc,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",sa(S,Ic)),m.join("")},Xr.prototype.resolve=function(m){const _=Jr(this);let S=!!m.j;S?na(_,m.j):S=!!m.o,S?_.o=m.o:S=!!m.g,S?_.g=m.g:S=m.u!=null;var j=m.h;if(S)zs(_,m.u);else if(S=!!m.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var X=_.h.lastIndexOf("/");X!=-1&&(j=_.h.slice(0,X+1)+j)}if(X=j,X==".."||X==".")j="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){j=X.lastIndexOf("/",0)==0,X=X.split("/");const ie=[];for(let _e=0;_e<X.length;){const nt=X[_e++];nt=="."?j&&_e==X.length&&ie.push(""):nt==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),j&&_e==X.length&&ie.push("")):(ie.push(nt),j=!0)}j=ie.join("/")}else j=X}return S?_.h=j:S=m.i.toString()!=="",S?to(_,Ac(m.i)):S=!!m.m,S&&(_.m=m.m),_};function Jr(m){return new Xr(m)}function na(m,_,S){m.j=S?ra(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function zs(m,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);m.u=_}else m.u=null}function to(m,_,S){_ instanceof vt?(m.i=_,rl(m.i,m.l)):(S||(_=sa(_,zm)),m.i=new vt(_,m.l))}function Ct(m,_,S){m.i.set(_,S)}function ki(m){return Ct(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function ra(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function sa(m,_,S){return typeof m=="string"?(m=encodeURI(m).replace(_,Tc),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Tc(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Cc=/[#\/\?@]/g,Pc=/[#\?:]/g,ia=/[#\?]/g,zm=/[#\?@]/g,Ic=/#/g;function vt(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function Bs(m){m.g||(m.g=new Map,m.h=0,m.i&&Kn(m.i,function(_,S){m.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}t=vt.prototype,t.add=function(m,_){Bs(this),this.i=null,m=Hs(this,m);let S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(_),this.h+=1,this};function Nc(m,_){Bs(m),_=Hs(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function nl(m,_){return Bs(m),_=Hs(m,_),m.g.has(_)}t.forEach=function(m,_){Bs(this),this.g.forEach(function(S,j){S.forEach(function(X){m.call(_,X,j,this)},this)},this)};function Mc(m,_){Bs(m);let S=[];if(typeof _=="string")nl(m,_)&&(S=S.concat(m.g.get(Hs(m,_))));else for(m=Array.from(m.g.values()),_=0;_<m.length;_++)S=S.concat(m[_]);return S}t.set=function(m,_){return Bs(this),this.i=null,m=Hs(this,m),nl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},t.get=function(m,_){return m?(m=Mc(this,m),m.length>0?String(m[0]):_):_};function Lc(m,_,S){Nc(m,_),S.length>0&&(m.i=null,m.g.set(Hs(m,_),E(S)),m.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(let j=0;j<_.length;j++){var S=_[j];const X=Te(S);S=Mc(this,S);for(let ie=0;ie<S.length;ie++){let _e=X;S[ie]!==""&&(_e+="="+Te(S[ie])),m.push(_e)}}return this.i=m.join("&")};function Ac(m){const _=new vt;return _.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),_}function Hs(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function rl(m,_){_&&!m.j&&(Bs(m),m.i=null,m.g.forEach(function(S,j){const X=j.toLowerCase();j!=X&&(Nc(this,j),Lc(this,X,S))},m)),m.j=_}function $s(m,_){const S=new Tn;if(l.Image){const j=new Image;j.onload=p(jn,S,"TestLoadImage: loaded",!0,_,j),j.onerror=p(jn,S,"TestLoadImage: error",!1,_,j),j.onabort=p(jn,S,"TestLoadImage: abort",!1,_,j),j.ontimeout=p(jn,S,"TestLoadImage: timeout",!1,_,j),l.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=m}else _(!1)}function Ws(m,_){const S=new Tn,j=new AbortController,X=setTimeout(()=>{j.abort(),jn(S,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:j.signal}).then(ie=>{clearTimeout(X),ie.ok?jn(S,"TestPingServer: ok",!0,_):jn(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),jn(S,"TestPingServer: error",!1,_)})}function jn(m,_,S,j,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),j(S)}catch{}}function oa(){this.g=new Kr}function Si(m){this.i=m.Sb||null,this.h=m.ab||!1}y(Si,Zt),Si.prototype.g=function(){return new Or(this.i,this.h)};function Or(m,_){jt.call(this),this.H=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Or,jt),t=Or.prototype,t.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=_,this.readyState=1,xs(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(_.body=m),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,no(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,xs(this)),this.g&&(this.readyState=3,xs(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nd(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nd(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?no(this):xs(this),this.readyState==3&&Nd(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,no(this))},t.Na=function(m){this.g&&(this.response=m,no(this))},t.ga=function(){this.g&&no(this)};function no(m){m.readyState=4,m.l=null,m.j=null,m.B=null,xs(m)}t.setRequestHeader=function(m,_){this.A.append(m,_)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=_.next();return m.join(`\r
`)};function xs(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Md(m){let _="";return ue(m,function(S,j){_+=j,_+=":",_+=S,_+=`\r
`}),_}function sl(m,_,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=Md(S),typeof m=="string"?S!=null&&Te(S):Ct(m,_,S))}function Ot(m){jt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Ot,jt);var Ld=/^https?$/i,Bm=["POST","PUT"];t=Ot.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,_,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oe.g(),this.g.onreadystatechange=x(f(this.Ca,this));try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(ie){ro(this,ie);return}if(m=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var X in j)S.set(X,j[X]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ie of j.keys())S.set(ie,j.get(ie));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(ie=>ie.toLowerCase()=="content-type"),X=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(Bm,_,void 0)>=0)||j||X||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,_e]of S)this.g.setRequestHeader(ie,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ie){ro(this,ie)}};function ro(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.o=5,so(m),Ci(m)}function so(m){m.A||(m.A=!0,Vt(m,"complete"),Vt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Vt(this,"complete"),Vt(this,"abort"),Ci(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ti(this):this.Xa())},t.Xa=function(){Ti(this)};function Ti(m){if(m.h&&typeof o<"u"){if(m.v&&Gs(m)==4)setTimeout(m.Ca.bind(m),0);else if(Vt(m,"readystatechange"),Gs(m)==4){m.h=!1;try{const ie=m.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var j;if(j=ie===0){let _e=String(m.D).match(Ei)[1]||null;!_e&&l.self&&l.self.location&&(_e=l.self.location.protocol.slice(0,-1)),j=!Ld.test(_e?_e.toLowerCase():"")}S=j}if(S)Vt(m,"complete"),Vt(m,"success");else{m.o=6;try{var X=Gs(m)>2?m.g.statusText:""}catch{X=""}m.l=X+" ["+m.ca()+"]",so(m)}}finally{Ci(m)}}}}function Ci(m,_){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const S=m.g;m.g=null,_||Vt(m,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gs(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Gs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),Ar(_)}};function Ad(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Rc(m){const _={};m=(m.g&&Gs(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<m.length;j++){if(L(m[j]))continue;var S=Ve(m[j]);const X=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ie=_[X]||[];_[X]=ie,ie.push(S)}oe(_,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(m,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||_}function il(m){this.za=0,this.i=[],this.j=new Tn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qs("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qs("baseRetryDelayMs",5e3,m),this.Za=qs("retryDelaySeedMs",1e4,m),this.Ta=qs("forwardChannelMaxRetries",2,m),this.va=qs("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new ws(m&&m.concurrentRequestLimit),this.Ba=new oa,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=il.prototype,t.ka=8,t.I=1,t.connect=function(m,_,S,j){Dt(0),this.W=m,this.H=_||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.J=Dc(this,null,this.W),Pi(this)};function ol(m){if(al(m),m.I==3){var _=m.V++,S=Jr(m.J);if(Ct(S,"SID",m.M),Ct(S,"RID",_),Ct(S,"TYPE","terminate"),Ks(m,S),_=new Fe(m,m.j,_),_.M=2,_.A=ki(Jr(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&l.Image&&(new Image().src=_.A,S=!0),S||(_.g=jd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ur(_)}ca(m)}function Vr(m){m.g&&(la(m),m.g.cancel(),m.g=null)}function al(m){Vr(m),m.v&&(l.clearTimeout(m.v),m.v=null),ll(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function Pi(m){if(!Us(m.h)&&!m.m){m.m=!0;var _=m.Ea;F||T(),R||(F(),R=!0),M.add(_,m),m.D=0}}function Rd(m,_){return it(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=_.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=qn(f(m.Ea,m,_),ul(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const X=new Fe(this,this.j,m);let ie=this.o;if(this.U&&(ie?(ie=G(ie),ce(ie,this.U)):ie=this.U),this.u!==null||this.R||(X.J=ie,ie=null),this.S)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(_+=j,_>4096){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=jc(this,X,_),S=Jr(this.J),Ct(S,"RID",m),Ct(S,"CVER",22),this.G&&Ct(S,"X-HTTP-Session-Id",this.G),Ks(this,S),ie&&(this.R?_="headers="+Te(Md(ie))+"&"+_:this.u&&sl(S,this.u,ie)),Dr(this.h,X),this.Ra&&Ct(S,"TYPE","init"),this.S?(Ct(S,"$req",_),Ct(S,"SID","null"),X.U=!0,ft(X,S,null)):ft(X,S,_),this.I=2}}else this.I==3&&(m?aa(this,m):this.i.length==0||Us(this.h)||aa(this))};function aa(m,_){var S;_?S=_.l:S=m.V++;const j=Jr(m.J);Ct(j,"SID",m.M),Ct(j,"RID",S),Ct(j,"AID",m.K),Ks(m,j),m.u&&m.o&&sl(j,m.u,m.o),S=new Fe(m,m.j,S,m.D+1),m.u===null&&(S.J=m.o),_&&(m.i=_.G.concat(m.i)),_=jc(m,S,1e3),S.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Dr(m.h,S),ft(S,j,_)}function Ks(m,_){m.H&&ue(m.H,function(S,j){Ct(_,j,S)}),m.l&&ue({},function(S,j){Ct(_,j,S)})}function jc(m,_,S){S=Math.min(m.i.length,S);const j=m.l?f(m.l.Ka,m.l,m):null;e:{var X=m.i;let nt=-1;for(;;){const on=["count="+S];nt==-1?S>0?(nt=X[0].g,on.push("ofs="+nt)):nt=0:on.push("ofs="+nt);let Lt=!0;for(let mn=0;mn<S;mn++){var ie=X[mn].g;const Ur=X[mn].map;if(ie-=nt,ie<0)nt=Math.max(0,X[mn].g-100),Lt=!1;else try{ie="req"+ie+"_"||"";try{var _e=Ur instanceof Map?Ur:Object.entries(Ur);for(const[Ii,Qs]of _e){let Xs=Qs;c(Qs)&&(Xs=yr(Qs)),on.push(ie+Ii+"="+encodeURIComponent(Xs))}}catch(Ii){throw on.push(ie+"type="+encodeURIComponent("_badmap")),Ii}}catch{j&&j(Ur)}}if(Lt){_e=on.join("&");break e}}_e=void 0}return m=m.i.splice(0,S),_.G=m,_e}function Yn(m){if(!m.g&&!m.v){m.Y=1;var _=m.Da;F||T(),R||(F(),R=!0),M.add(_,m),m.A=0}}function Ys(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=qn(f(m.Da,m),ul(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=qn(f(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Vr(this),io(this))};function la(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function io(m){m.g=new Fe(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var _=Jr(m.na);Ct(_,"RID","rpc"),Ct(_,"SID",m.M),Ct(_,"AID",m.K),Ct(_,"CI",m.F?"0":"1"),!m.F&&m.ia&&Ct(_,"TO",m.ia),Ct(_,"TYPE","xmlhttp"),Ks(m,_),m.u&&m.o&&sl(_,m.u,m.o),m.O&&(m.g.H=m.O);var S=m.g;m=m.ba,S.M=1,S.A=ki(Jr(_)),S.u=null,S.R=!0,Wt(S,m)}t.Va=function(){this.C!=null&&(this.C=null,Vr(this),Ys(this),Dt(19))};function ll(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function cl(m,_){var S=null;if(m.g==_){ll(m),la(m),m.g=null;var j=2}else if(en(m.h,_))S=_.G,hr(m.h,_),j=1;else return;if(m.I!=0){if(_.o)if(j==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var X=m.D;j=vr(),Vt(j,new Rr(j,S)),Pi(m)}else Yn(m);else if(X=_.m,X==3||X==0&&_.X>0||!(j==1&&Rd(m,_)||j==2&&Ys(m)))switch(S&&S.length>0&&(_=m.h,_.i=_.i.concat(S)),X){case 1:Fr(m,5);break;case 4:Fr(m,10);break;case 3:Fr(m,6);break;default:Fr(m,2)}}}function ul(m,_){let S=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(S*=2),S*_}function Fr(m,_){if(m.j.info("Error code "+_),_==2){var S=f(m.bb,m),j=m.Ua;const X=!j;j=new Xr(j||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||na(j,"https"),ki(j),X?$s(j.toString(),S):Ws(j.toString(),S)}else Dt(2);m.I=0,m.l&&m.l.pa(_),ca(m),al(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function ca(m){if(m.I=0,m.ja=[],m.l){const _=xt(m.h);(_.length!=0||m.i.length!=0)&&(k(m.ja,_),k(m.ja,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.oa()}}function Dc(m,_,S){var j=S instanceof Xr?Jr(S):new Xr(S);if(j.g!="")_&&(j.g=_+"."+j.g),zs(j,j.u);else{var X=l.location;j=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;const ie=new Xr(null);j&&na(ie,j),_&&(ie.g=_),X&&zs(ie,X),S&&(ie.h=S),j=ie}return S=m.G,_=m.wa,S&&_&&Ct(j,S,_),Ct(j,"VER",m.ka),Ks(m,j),j}function jd(m,_,S){if(_&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Aa&&!m.ma?new Ot(new Si({ab:S})):new Ot(m.ma),_.Fa(m.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dd(){}t=Dd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function dl(){}dl.prototype.g=function(m,_){return new Dn(m,_)};function Dn(m,_){jt.call(this),this.g=new il(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(m?m["X-WebChannel-Client-Profile"]=_.sa:m={"X-WebChannel-Client-Profile":_.sa}),this.g.U=m,(m=_&&_.Qb)&&!L(m)&&(this.g.u=m),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!L(_)&&(this.g.G=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new oo(this)}y(Dn,jt),Dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){ol(this.g)},Dn.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.v&&(S={},S.__data__=yr(m),m=S);_.i.push(new vs(_.Ya++,m)),_.I==3&&Pi(_)},Dn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Dn.Z.N.call(this)};function Od(m){Yr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const S in _){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}y(Od,Yr);function Vd(){Qr.call(this),this.status=1}y(Vd,Qr);function oo(m){this.g=m}y(oo,Dd),oo.prototype.ra=function(){Vt(this.g,"a")},oo.prototype.qa=function(m){Vt(this.g,new Od(m))},oo.prototype.pa=function(m){Vt(this.g,new Vd)},oo.prototype.oa=function(){Vt(this.g,"b")},dl.prototype.createWebChannel=dl.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,tP=function(){return new dl},eP=function(){return vr()},ZC=Rn,Dy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},se.NO_ERROR=0,se.TIMEOUT=8,se.HTTP_ERROR=6,af=se,be.COMPLETE="complete",JC=be,Fs.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",jt.prototype.listen=jt.prototype.J,_u=Fs,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,XC=Ot}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});const c_="@firebase/firestore",u_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new vm("@firebase/firestore");function Dl(){return Ba.logLevel}function Ne(t,...e){if(Ba.logLevel<=mt.DEBUG){const n=e.map(Qv);Ba.debug(`Firestore (${vc}): ${t}`,...n)}}function Yi(t,...e){if(Ba.logLevel<=mt.ERROR){const n=e.map(Qv);Ba.error(`Firestore (${vc}): ${t}`,...n)}}function nc(t,...e){if(Ba.logLevel<=mt.WARN){const n=e.map(Qv);Ba.warn(`Firestore (${vc}): ${t}`,...n)}}function Qv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nP(t,r,n)}function nP(t,e,n){let r=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yi(r),new Error(r)}function Mt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||nP(e,s,r)}function rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tr.UNAUTHENTICATED)))}shutdown(){}}class o6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class a6{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Mt(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Uo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Uo,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await s(this.currentUser)}))},c=u=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Uo)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt(typeof r.accessToken=="string",31837,{l:r}),new rP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new tr(e)}}class l6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class c6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new l6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class d_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Mt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new d_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new d_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=d6(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function pt(t,e){return t<e?-1:t>e?1:0}function Oy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Pg(s)===Pg(o)?pt(s,o):Pg(s)?1:-1}return pt(t.length,e.length)}const h6=55296,f6=57343;function Pg(t){const e=t.charCodeAt(0);return e>=h6&&e<=f6}function rc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="__name__";class ni{constructor(e,n,r){n===void 0?n=0:n>e.length&&Xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=ni.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return pt(e.length,n.length)}static compareSegments(e,n){const r=ni.isNumericId(e),s=ni.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ni.extractNumericId(e).compare(ni.extractNumericId(n)):Oy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fo.fromString(e.substring(4,e.length-2))}}class Qt extends ni{construct(e,n,r){return new Qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Qt(n)}static emptyPath(){return new Qt([])}}const m6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends ni{construct(e,n,r){return new zn(e,n,r)}static isValidIdentifier(e){return m6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h_}static keyField(){return new zn([h_])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new $e(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new $e(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $e(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(o(),s++)}if(o(),l)throw new $e(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(n)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Qt.fromString(e))}static fromName(e){return new Ke(Qt.fromString(e).popFirst(5))}static empty(){return new Ke(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Qt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t,e,n){if(!n)throw new $e(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g6(t,e,n,r){if(e===!0&&r===!0)throw new $e(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function f_(t){if(!Ke.isDocumentKey(t))throw new $e(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe(12329,{type:typeof t})}function Ku(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jv(t);throw new $e(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,e){const n={typeString:t};return e&&(n.value=e),n}function yd(t,e){if(!sP(t))throw new $e(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new $e(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,p_=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*p_);return new $t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<m_)throw new $e(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yd(e,$t._jsonSchema))return new $t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:vn("string",$t._jsonSchemaVersion),seconds:vn("number"),nanoseconds:vn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new $t(0,0))}static max(){return new tt(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=-1;function y6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=tt.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new $o(s,Ke.empty(),e)}function v6(t){return new $o(t.readTime,t.key,Yu)}class $o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $o(tt.min(),Ke.empty(),Yu)}static max(){return new $o(tt.max(),Ke.empty(),Yu)}}function w6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ke.comparator(t.documentKey,e.documentKey),n!==0?n:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==x6)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,r)=>{n(e)}))}static reject(e){return new de(((n,r)=>{r(e)}))}static waitFor(e){return new de(((n,r)=>{let s=0,o=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++o,l&&o===s&&n()}),(u=>r(u)))})),l=!0,o===s&&n()}))}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next((s=>s?de.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new de(((r,s)=>{const o=e.length,l=new Array(o);let c=0;for(let u=0;u<o;u++){const f=u;n(e[f]).next((p=>{l[f]=p,++c,c===o&&r(l)}),(p=>s(p)))}}))}static doWhile(e,n){return new de(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function _6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_m.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=-1;function Em(t){return t==null}function Af(t){return t===0&&1/t==-1/0}function E6(t){return typeof t=="number"&&Number.isInteger(t)&&!Af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="";function k6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=g_(e)),e=S6(t.get(n),e);return g_(e)}function S6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case iP:n+="";break;default:n+=o}}return n}function g_(t){return t+iP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new Jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fh(this.root,e,this.comparator,!0)}}class Fh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Un.RED,this.left=s??Un.EMPTY,this.right=o??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Un(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xe(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe(57766)}get value(){throw Xe(16141)}get color(){throw Xe(16727)}get left(){throw Xe(29726)}get right(){throw Xe(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Is([])}unionWith(e){let n=new En(zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Is(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new aP("Invalid base64 string: "+o):o}})(e);return new Bn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new Bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const T6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(t){if(Mt(!!t,39018),typeof t=="string"){let e=0;const n=T6.exec(t);if(Mt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cn(t.seconds),nanos:cn(t.nanos)}}function cn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Go(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="server_timestamp",cP="__type__",uP="__previous_value__",dP="__local_write_time__";function e0(t){return(t?.mapValue?.fields||{})[cP]?.stringValue===lP}function km(t){const e=t.mapValue.fields[uP];return e0(e)?km(e):e}function Qu(t){const e=Wo(t.mapValue.fields[dP].timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r,s,o,l,c,u,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=p}}const Rf="(default)";class Xu{constructor(e,n){this.projectId=e,this.database=n||Rf}static empty(){return new Xu("","")}get isDefaultDatabase(){return this.database===Rf}isEqual(e){return e instanceof Xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="__type__",P6="__max__",Uh={mapValue:{}},fP="__vector__",jf="value";function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e0(t)?4:N6(t)?9007199254740991:I6(t)?10:11:Xe(28295,{value:t})}function vi(t,e){if(t===e)return!0;const n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qu(t).isEqual(Qu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Wo(s.timestampValue),c=Wo(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Go(s.bytesValue).isEqual(Go(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return cn(s.geoPointValue.latitude)===cn(o.geoPointValue.latitude)&&cn(s.geoPointValue.longitude)===cn(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return cn(s.integerValue)===cn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=cn(s.doubleValue),c=cn(o.doubleValue);return l===c?Af(l)===Af(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return rc(t.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(y_(l)!==y_(c))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(c[u]===void 0||!vi(l[u],c[u])))return!1;return!0})(t,e);default:return Xe(52216,{left:t})}}function Ju(t,e){return(t.values||[]).find((n=>vi(n,e)))!==void 0}function sc(t,e){if(t===e)return 0;const n=qo(t),r=qo(e);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=cn(o.integerValue||o.doubleValue),u=cn(l.integerValue||l.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return w_(t.timestampValue,e.timestampValue);case 4:return w_(Qu(t),Qu(e));case 5:return Oy(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=Go(o),u=Go(l);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),u=l.split("/");for(let f=0;f<c.length&&f<u.length;f++){const p=pt(c[f],u[f]);if(p!==0)return p}return pt(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=pt(cn(o.latitude),cn(l.latitude));return c!==0?c:pt(cn(o.longitude),cn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return x_(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},u=l.fields||{},f=c[jf]?.arrayValue,p=u[jf]?.arrayValue,y=pt(f?.values?.length||0,p?.values?.length||0);return y!==0?y:x_(f,p)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Uh.mapValue&&l===Uh.mapValue)return 0;if(o===Uh.mapValue)return 1;if(l===Uh.mapValue)return-1;const c=o.fields||{},u=Object.keys(c),f=l.fields||{},p=Object.keys(f);u.sort(),p.sort();for(let y=0;y<u.length&&y<p.length;++y){const x=Oy(u[y],p[y]);if(x!==0)return x;const E=sc(c[u[y]],f[p[y]]);if(E!==0)return E}return pt(u.length,p.length)})(t.mapValue,e.mapValue);default:throw Xe(23264,{he:n})}}function w_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const n=Wo(t),r=Wo(e),s=pt(n.seconds,r.seconds);return s!==0?s:pt(n.nanos,r.nanos)}function x_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=sc(n[s],r[s]);if(o)return o}return pt(n.length,r.length)}function ic(t){return Vy(t)}function Vy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Wo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Go(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Vy(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${Vy(n.fields[l])}`;return s+"}"})(t.mapValue):Xe(61005,{value:t})}function lf(t){switch(qo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=km(t);return e?16+lf(e):16;case 5:return 2*t.stringValue.length;case 6:return Go(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+lf(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Xa(r.fields,((o,l)=>{s+=o.length+lf(l)})),s})(t.mapValue);default:throw Xe(13486,{value:t})}}function Fy(t){return!!t&&"integerValue"in t}function t0(t){return!!t&&"arrayValue"in t}function b_(t){return!!t&&"nullValue"in t}function __(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cf(t){return!!t&&"mapValue"in t}function I6(t){return(t?.mapValue?.fields||{})[hP]?.stringValue===fP}function Nu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xa(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Nu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nu(t.arrayValue.values[n]);return e}return{...t}}function N6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===P6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nu(n)}setAll(e){let n=zn.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=Nu(l):s.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];cf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xa(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new us(Nu(this.value))}}function mP(t){const e=[];return Xa(t.fields,((n,r)=>{const s=new zn([n]);if(cf(r)){const o=mP(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new Is(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r,s,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new nr(e,0,tt.min(),tt.min(),tt.min(),us.empty(),0)}static newFoundDocument(e,n,r,s){return new nr(e,1,n,tt.min(),r,s,0)}static newNoDocument(e,n){return new nr(e,2,n,tt.min(),tt.min(),us.empty(),0)}static newUnknownDocument(e,n){return new nr(e,3,n,tt.min(),tt.min(),us.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.position=e,this.inclusive=n}}function E_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=Ke.comparator(Ke.fromName(l.referenceValue),n.key):r=sc(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function k_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n="asc"){this.field=e,this.dir=n}}function M6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{}class _n extends pP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A6(e,n,r):n==="array-contains"?new D6(e,r):n==="in"?new O6(e,r):n==="not-in"?new V6(e,r):n==="array-contains-any"?new F6(e,r):new _n(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new R6(e,r):new j6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sc(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(sc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends pP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wi(e,n)}matches(e){return gP(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gP(t){return t.op==="and"}function yP(t){return L6(t)&&gP(t)}function L6(t){for(const e of t.filters)if(e instanceof wi)return!1;return!0}function Uy(t){if(t instanceof _n)return t.field.canonicalString()+t.op.toString()+ic(t.value);if(yP(t))return t.filters.map((e=>Uy(e))).join(",");{const e=t.filters.map((n=>Uy(n))).join(",");return`${t.op}(${e})`}}function vP(t,e){return t instanceof _n?(function(r,s){return s instanceof _n&&r.op===s.op&&r.field.isEqual(s.field)&&vi(r.value,s.value)})(t,e):t instanceof wi?(function(r,s){return s instanceof wi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,l,c)=>o&&vP(l,s.filters[c])),!0):!1})(t,e):void Xe(19439)}function wP(t){return t instanceof _n?(function(n){return`${n.field.canonicalString()} ${n.op} ${ic(n.value)}`})(t):t instanceof wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(wP).join(" ,")+"}"})(t):"Filter"}class A6 extends _n{constructor(e,n,r){super(e,n,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class R6 extends _n{constructor(e,n){super(e,"in",n),this.keys=xP("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class j6 extends _n{constructor(e,n){super(e,"not-in",n),this.keys=xP("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xP(t,e){return(e.arrayValue?.values||[]).map((n=>Ke.fromName(n.referenceValue)))}class D6 extends _n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return t0(n)&&Ju(n.arrayValue,this.value)}}class O6 extends _n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ju(this.value.arrayValue,n)}}class V6 extends _n{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ju(this.value.arrayValue,n)}}class F6 extends _n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!t0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ju(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n=null,r=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function S_(t,e=null,n=[],r=[],s=null,o=null,l=null){return new U6(t,e,n,r,s,o,l)}function n0(t){const e=rt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Uy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ic(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ic(r))).join(",")),e.Te=n}return e.Te}function r0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!M6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k_(t.startAt,e.startAt)&&k_(t.endAt,e.endAt)}function zy(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n=null,r=[],s=[],o=null,l="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function z6(t,e,n,r,s,o,l,c){return new Sm(t,e,n,r,s,o,l,c)}function s0(t){return new Sm(t)}function T_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function B6(t){return t.collectionGroup!==null}function Mu(t){const e=rt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new En(zn.comparator);return l.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Of(o,r))})),n.has(zn.keyField().canonicalString())||e.Ie.push(new Of(zn.keyField(),r))}return e.Ie}function li(t){const e=rt(t);return e.Ee||(e.Ee=H6(e,Mu(t))),e.Ee}function H6(t,e){if(t.limitType==="F")return S_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Of(s.field,o)}));const n=t.endAt?new Df(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Df(t.startAt.position,t.startAt.inclusive):null;return S_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function By(t,e,n){return new Sm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tm(t,e){return r0(li(t),li(e))&&t.limitType===e.limitType}function bP(t){return`${n0(li(t))}|lt:${t.limitType}`}function Ol(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>wP(s))).join(", ")}]`),Em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>ic(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>ic(s))).join(",")),`Target(${r})`})(li(t))}; limitType=${t.limitType})`}function Cm(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ke.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of Mu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,u){const f=E_(l,c,u);return l.inclusive?f<=0:f<0})(r.startAt,Mu(r),s)||r.endAt&&!(function(l,c,u){const f=E_(l,c,u);return l.inclusive?f>=0:f>0})(r.endAt,Mu(r),s))})(t,e)}function $6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _P(t){return(e,n)=>{let r=!1;for(const s of Mu(t)){const o=W6(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function W6(t,e,n){const r=t.field.isKeyField()?Ke.comparator(e.key,n.key):(function(o,l,c){const u=l.data.field(o),f=c.data.field(o);return u!==null&&f!==null?sc(u,f):Xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return oP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new Jt(Ke.comparator);function Qi(){return G6}const EP=new Jt(Ke.comparator);function Eu(...t){let e=EP;for(const n of t)e=e.insert(n.key,n);return e}function kP(t){let e=EP;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Na(){return Lu()}function SP(){return Lu()}function Lu(){return new Ja((t=>t.toString()),((t,e)=>t.isEqual(e)))}const q6=new Jt(Ke.comparator),K6=new En(Ke.comparator);function gt(...t){let e=K6;for(const n of t)e=e.add(n);return e}const Y6=new En(pt);function Q6(){return Y6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function TP(t){return{integerValue:""+t}}function X6(t,e){return E6(e)?TP(e):i0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this._=void 0}}function J6(t,e,n){return t instanceof Vf?(function(s,o){const l={fields:{[cP]:{stringValue:lP},[dP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&e0(o)&&(o=km(o)),o&&(l.fields[uP]=o),{mapValue:l}})(n,e):t instanceof Zu?PP(t,e):t instanceof ed?IP(t,e):(function(s,o){const l=CP(s,o),c=C_(l)+C_(s.Ae);return Fy(l)&&Fy(s.Ae)?TP(c):i0(s.serializer,c)})(t,e)}function Z6(t,e,n){return t instanceof Zu?PP(t,e):t instanceof ed?IP(t,e):n}function CP(t,e){return t instanceof Ff?(function(r){return Fy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Vf extends Pm{}class Zu extends Pm{constructor(e){super(),this.elements=e}}function PP(t,e){const n=NP(e);for(const r of t.elements)n.some((s=>vi(s,r)))||n.push(r);return{arrayValue:{values:n}}}class ed extends Pm{constructor(e){super(),this.elements=e}}function IP(t,e){let n=NP(e);for(const r of t.elements)n=n.filter((s=>!vi(s,r)));return{arrayValue:{values:n}}}class Ff extends Pm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function C_(t){return cn(t.integerValue||t.doubleValue)}function NP(t){return t0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eF(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Zu&&s instanceof Zu||r instanceof ed&&s instanceof ed?rc(r.elements,s.elements,vi):r instanceof Ff&&s instanceof Ff?vi(r.Ae,s.Ae):r instanceof Vf&&s instanceof Vf})(t.transform,e.transform)}class tF{constructor(e,n){this.version=e,this.transformResults=n}}class Wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Im{}function MP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new AP(t.key,Wi.none()):new vd(t.key,t.data,Wi.none());{const n=t.data,r=us.empty();let s=new En(zn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new Za(t.key,r,new Is(s.toArray()),Wi.none())}}function nF(t,e,n){t instanceof vd?(function(s,o,l){const c=s.value.clone(),u=I_(s.fieldTransforms,o,l.transformResults);c.setAll(u),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Za?(function(s,o,l){if(!uf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=I_(s.fieldTransforms,o,l.transformResults),u=o.data;u.setAll(LP(s)),u.setAll(c),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Au(t,e,n,r){return t instanceof vd?(function(o,l,c,u){if(!uf(o.precondition,l))return c;const f=o.value.clone(),p=N_(o.fieldTransforms,u,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Za?(function(o,l,c,u){if(!uf(o.precondition,l))return c;const f=N_(o.fieldTransforms,u,l),p=l.data;return p.setAll(LP(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,l,c){return uf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function rF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=CP(r.transform,s||null);o!=null&&(n===null&&(n=us.empty()),n.set(r.field,o))}return n||null}function P_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&rc(r,s,((o,l)=>eF(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vd extends Im{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Za extends Im{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LP(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function I_(t,e,n){const r=new Map;Mt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);r.set(o.field,Z6(l,c,n[s]))}return r}function N_(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,J6(o,l,e))}return r}class AP extends Im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sF extends Im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&nF(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Au(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Au(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SP();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const u=MP(l,c);u!==null&&r.set(s.key,u),l.isValidDocument()||l.convertToNoDocument(tt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),gt())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,((n,r)=>P_(n,r)))&&rc(this.baseMutations,e.baseMutations,((n,r)=>P_(n,r)))}}class o0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Mt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return q6})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new o0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,wt;function lF(t){switch(t){case me.OK:return Xe(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Xe(15467,{code:t})}}function RP(t){if(t===void 0)return Yi("GRPC error has no .code"),me.UNKNOWN;switch(t){case gn.OK:return me.OK;case gn.CANCELLED:return me.CANCELLED;case gn.UNKNOWN:return me.UNKNOWN;case gn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case gn.INTERNAL:return me.INTERNAL;case gn.UNAVAILABLE:return me.UNAVAILABLE;case gn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case gn.NOT_FOUND:return me.NOT_FOUND;case gn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case gn.ABORTED:return me.ABORTED;case gn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case gn.DATA_LOSS:return me.DATA_LOSS;default:return Xe(39323,{code:t})}}(wt=gn||(gn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=new Fo([4294967295,4294967295],0);function M_(t){const e=cF().encode(t),n=new QC;return n.update(e),new Uint8Array(n.digest())}function L_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fo([n,r],0),new Fo([s,o],0)]}class a0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ku(`Invalid padding: ${n}`);if(r<0)throw new ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ku(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Fo.fromNumber(r)));return s.compare(uF)===1&&(s=new Fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=M_(e),[r,s]=L_(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new a0(o,s,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=M_(e),[r,s]=L_(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,wd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nm(tt.min(),s,new Jt(pt),Qi(),gt())}}class wd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wd(r,n,gt(),gt(),gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class jP{constructor(e,n){this.targetId=e,this.Ce=n}}class DP{constructor(e,n,r=Bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class A_{constructor(){this.ve=0,this.Fe=R_(),this.Me=Bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=gt(),n=gt(),r=gt();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Xe(38017,{changeType:o})}})),new wd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=R_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.Je=zh(),this.He=zh(),this.Ye=new Jt(pt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(zy(o))if(r===0){const l=new Ke(o.path);this.et(n,l,nr.newNoDocument(l,tt.min()))}else Mt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),u=c?this.ct(c,e,l):1;if(u!==0){this.it(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=Go(r).toUint8Array()}catch(u){if(u instanceof aP)return nc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new a0(l,s,o)}catch(u){return nc(u instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&zy(c.target)){const u=new Ke(c.target.path);this.It(u).has(l)||this.Et(l,u)||this.et(l,u,nr.newNoDocument(u,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=gt();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new Nm(e,n,this.Ye,this.je,r);return this.je=Qi(),this.Je=zh(),this.He=zh(),this.Ye=new Jt(pt),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new A_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new En(pt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new En(pt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zh(){return new Jt(Ke.comparator)}function R_(){return new Jt(Ke.comparator)}const hF={asc:"ASCENDING",desc:"DESCENDING"},fF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mF={and:"AND",or:"OR"};class pF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hy(t,e){return t.useProto3Json||Em(e)?e:{value:e}}function Uf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gF(t,e){return Uf(t,e.toTimestamp())}function ci(t){return Mt(!!t,49232),tt.fromTimestamp((function(n){const r=Wo(n);return new $t(r.seconds,r.nanos)})(t))}function l0(t,e){return $y(t,e).canonicalString()}function $y(t,e){const n=(function(s){return new Qt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function VP(t){const e=Qt.fromString(t);return Mt(HP(e),10190,{key:e.toString()}),e}function Wy(t,e){return l0(t.databaseId,e.path)}function Ig(t,e){const n=VP(e);if(n.get(1)!==t.databaseId.projectId)throw new $e(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $e(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(UP(n))}function FP(t,e){return l0(t.databaseId,e)}function yF(t){const e=VP(t);return e.length===4?Qt.emptyPath():UP(e)}function Gy(t){return new Qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UP(t){return Mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function j_(t,e,n){return{name:Wy(t,e),fields:n.value.mapValue.fields}}function vF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Xe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(f,p){return f.useProto3Json?(Mt(p===void 0||typeof p=="string",58123),Bn.fromBase64String(p||"")):(Mt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Bn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const p=f.code===void 0?me.UNKNOWN:RP(f.code);return new $e(p,f.message||"")})(l);n=new DP(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ig(t,r.document.name),o=ci(r.document.updateTime),l=r.document.createTime?ci(r.document.createTime):tt.min(),c=new us({mapValue:{fields:r.document.fields}}),u=nr.newFoundDocument(s,o,l,c),f=r.targetIds||[],p=r.removedTargetIds||[];n=new df(f,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ig(t,r.document),o=r.readTime?ci(r.readTime):tt.min(),l=nr.newNoDocument(s,o),c=r.removedTargetIds||[];n=new df([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ig(t,r.document),o=r.removedTargetIds||[];n=new df([],o,s,null)}else{if(!("filter"in e))return Xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new aF(s,o),c=r.targetId;n=new jP(c,l)}}return n}function wF(t,e){let n;if(e instanceof vd)n={update:j_(t,e.key,e.value)};else if(e instanceof AP)n={delete:Wy(t,e.key)};else if(e instanceof Za)n={update:j_(t,e.key,e.data),updateMask:PF(e.fieldMask)};else{if(!(e instanceof sF))return Xe(16599,{Vt:e.type});n={verify:Wy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof Vf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Zu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ed)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ff)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Xe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:gF(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Xe(27497)})(t,e.precondition)),n}function xF(t,e){return t&&t.length>0?(Mt(e!==void 0,14353),t.map((n=>(function(s,o){let l=s.updateTime?ci(s.updateTime):ci(o);return l.isEqual(tt.min())&&(l=ci(o)),new tF(l,s.transformResults||[])})(n,e)))):[]}function bF(t,e){return{documents:[FP(t,e.path)]}}function _F(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FP(t,s);const o=(function(f){if(f.length!==0)return BP(wi.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((p=>(function(x){return{field:Vl(x.field),direction:SF(x.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Hy(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:s}}function EF(t){let e=yF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Mt(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(y){const x=zP(y);return x instanceof wi&&yP(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((x=>(function(k){return new Of(Fl(k.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(x)))})(n.orderBy));let c=null;n.limit&&(c=(function(y){let x;return x=typeof y=="object"?y.value:y,Em(x)?null:x})(n.limit));let u=null;n.startAt&&(u=(function(y){const x=!!y.before,E=y.values||[];return new Df(E,x)})(n.startAt));let f=null;return n.endAt&&(f=(function(y){const x=!y.before,E=y.values||[];return new Df(E,x)})(n.endAt)),z6(e,s,l,o,c,"F",u,f)}function kF(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zP(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fl(n.unaryFilter.field);return _n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fl(n.unaryFilter.field);return _n.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fl(n.unaryFilter.field);return _n.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Fl(n.unaryFilter.field);return _n.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xe(61313);default:return Xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return _n.create(Fl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xe(58110);default:return Xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return wi.create(n.compositeFilter.filters.map((r=>zP(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Xe(1026)}})(n.compositeFilter.op))})(t):Xe(30097,{filter:t})}function SF(t){return hF[t]}function TF(t){return fF[t]}function CF(t){return mF[t]}function Vl(t){return{fieldPath:t.canonicalString()}}function Fl(t){return zn.fromServerFormat(t.fieldPath)}function BP(t){return t instanceof _n?(function(n){if(n.op==="=="){if(__(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NAN"}};if(b_(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(__(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NAN"}};if(b_(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(n.field),op:TF(n.op),value:n.value}}})(t):t instanceof wi?(function(n){const r=n.getFilters().map((s=>BP(s)));return r.length===1?r[0]:{compositeFilter:{op:CF(n.op),filters:r}}})(t):Xe(54877,{filter:t})}function PF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,r,s,o=tt.min(),l=tt.min(),c=Bn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Do(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.yt=e}}function NF(t){const e=EF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?By(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this.Cn=new LF}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve($o.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve($o.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class LF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new En(Qt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new En(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$P=41943040;class Tr{static withCacheSize(e){return new Tr(e,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr.DEFAULT_COLLECTION_PERCENTILE=10,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tr.DEFAULT=new Tr($P,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tr.DISABLED=new Tr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oc(0)}static cr(){return new oc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="LruGarbageCollector",AF=1048576;function V_([t,e],[n,r]){const s=pt(t,n);return s===0?pt(e,r):s}class RF{constructor(e){this.Ir=e,this.buffer=new En(V_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();V_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ne(O_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xc(n)?Ne(O_,"Ignoring IndexedDB error during garbage collection: ",n):await wc(n)}await this.Vr(3e5)}))}}class DF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(_m.ce);const r=new RF(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(D_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,l,c,u,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(f=Date.now(),Dl()<=mt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${y} documents in `+(f-u)+`ms
Total Duration: ${f-p}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:y}))))}}function OF(t,e){return new DF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.changes=new Ja((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Au(r.mutation,s,Is.empty(),$t.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,gt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=gt()){const s=Na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let l=Eu();return o.forEach(((c,u)=>{l=l.insert(c,u.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Na();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,gt())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,s){let o=Qi();const l=Lu(),c=(function(){return Lu()})();return n.forEach(((u,f)=>{const p=r.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof Za)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Au(p.mutation,f,p.mutation.getFieldMask(),$t.now())):l.set(f.key,Is.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((f,p)=>l.set(f,p))),n.forEach(((f,p)=>c.set(f,new FF(p,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Lu();let s=new Jt(((l,c)=>l-c)),o=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((u=>{const f=n.get(u);if(f===null)return;let p=r.get(u)||Is.empty();p=c.applyToLocalView(f,p),r.set(u,p);const y=(s.get(c.batchId)||gt()).add(u);s=s.insert(c.batchId,y)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,p=u.value,y=SP();p.forEach((x=>{if(!o.has(x)){const E=MP(n.get(x),r.get(x));E!==null&&y.set(x,E),o=o.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return de.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return Ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):B6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):de.resolve(Na());let c=Yu,u=o;return l.next((f=>de.forEach(f,((p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(p)?de.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{u=u.insert(p,x)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,u,f,gt()))).next((p=>({batchId:c,changes:kP(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next((r=>{let s=Eu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=Eu();return this.indexManager.getCollectionParents(e,o).next((c=>de.forEach(c,(u=>{const f=(function(y,x){return new Sm(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((p=>{p.forEach(((y,x)=>{l=l.insert(y,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((l=>{o.forEach(((u,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,nr.newInvalidDocument(p)))}));let c=Eu();return l.forEach(((u,f)=>{const p=o.get(u);p!==void 0&&Au(p.mutation,f,Is.empty(),$t.now()),Cm(n,f)&&(c=c.insert(u,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return de.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:ci(s.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:NF(s.bundledQuery),readTime:ci(s.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.overlays=new Jt(Ke.comparator),this.qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Na();return de.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.St(e,n,o)})),de.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const s=Na(),o=n.length+1,l=new Ke(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&u.largestBatchId>r&&s.set(u.getKey(),u)}return de.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Jt(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=o.get(f.largestBatchId);p===null&&(p=Na(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Na(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,p)=>c.set(f,p))),!(c.size()>=s)););return de.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new oF(n,r));let o=this.qr.get(n);o===void 0&&(o=gt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.Qr=new En(Mn.$r),this.Ur=new En(Mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Mn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Mn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ke(new Qt([])),r=new Mn(n,e),s=new Mn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ke(new Qt([])),r=new Mn(n,e),s=new Mn(n,e+1);let o=gt();return this.Ur.forEachInRange([r,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Mn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ke.comparator(e.key,n.key)||pt(e.Yr,n.Yr)}static Kr(e,n){return pt(e.Yr,n.Yr)||Ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new En(Mn.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new iF(o,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new Mn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return de.resolve(l)}lookupMutationBatch(e,n){return de.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Zv:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mn(n,0),s=new Mn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(l=>{const c=this.Xr(l.Yr);o.push(c)})),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new En(pt);return n.forEach((s=>{const o=new Mn(s,0),l=new Mn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),de.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Ke.isDocumentKey(o)||(o=o.child(""));const l=new Mn(new Ke(o),0);let c=new En(pt);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(c=c.add(u.Yr)),!0)}),l),de.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return de.forEach(n.mutations,(s=>{const o=new Mn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Mn(n,0),s=this.Zr.firstAfterOrEqual(r);return de.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.ri=e,this.docs=(function(){return new Jt(Ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(n))}getEntries(e,n){let r=Qi();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():nr.newInvalidDocument(s))})),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Qi();const l=n.path,c=new Ke(l.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:p}}=u.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||w6(v6(p),r)<=0||(s.has(p.key)||Cm(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Xe(9500)}ii(e,n){return de.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new GF(this)}getSize(e){return de.resolve(this.size)}}class GF extends VF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),de.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.persistence=e,this.si=new Ja((n=>n0(n)),r0),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new c0,this.targetCount=0,this.ai=oc.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),de.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new oc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Pr(n),de.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),de.waitFor(o).next((()=>s))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),de.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n){this.ui={},this.overlays={},this.ci=new _m(0),this.li=!1,this.li=!0,this.hi=new HF,this.referenceDelegate=e(this),this.Pi=new qF(this),this.indexManager=new MF,this.remoteDocumentCache=(function(s){return new WF(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new IF(n),this.Ii=new zF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new $F(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new KF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,n){return de.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class KF extends b6{constructor(e){super(),this.currentSequenceNumber=e}}class u0{constructor(e){this.persistence=e,this.Ri=new c0,this.Vi=null}static mi(e){return new u0(e)}get fi(){if(this.Vi)return this.Vi;throw Xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(r=>{const s=Ke.fromPath(r);return this.gi(e,s).next((o=>{o||n.removeEntry(s,tt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zf{constructor(e,n){this.persistence=e,this.pi=new Ja((r=>k6(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=OF(this,n)}static mi(e,n){return new zf(e,n)}Ei(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return de.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?de.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,tt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lf(e.data.value)),n}br(e,n,r){return de.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return de.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=gt(),s=gt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new d0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xO()?8:_6(sr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,s,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new YF;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Dl()<=mt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(Dl()<=mt.DEBUG&&Ne("QueryEngine","Query:",Ol(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Dl()<=mt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):de.resolve())}ys(e,n){if(T_(n))return de.resolve(null);let r=li(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=By(n,null,"F"),r=li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=gt(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((u=>{const f=this.Ds(n,c);return this.Cs(n,f,l,u.readTime)?this.ys(e,By(n,null,"F")):this.vs(e,f,n,u)}))))})))))}ws(e,n,r,s){return T_(n)||s.isEqual(tt.min())?de.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,s)?de.resolve(null):(Dl()<=mt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ol(n)),this.vs(e,l,n,y6(s,Yu)).next((c=>c)))}))}Ds(e,n){let r=new En(_P(e));return n.forEach(((s,o)=>{Cm(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return Dl()<=mt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Ol(n)),this.ps.getDocumentsMatchingQuery(e,n,$o.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="LocalStore",XF=3e8;class JF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Jt(pt),this.xs=new Ja((o=>n0(o)),r0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ZF(t,e,n,r){return new JF(t,e,n,r)}async function GP(t,e){const n=rt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let u=gt();for(const f of s){l.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}for(const f of o){c.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function e8(t,e){const n=rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,f,p){const y=f.batch,x=y.keys();let E=de.resolve();return x.forEach((k=>{E=E.next((()=>p.getEntry(u,k))).next((I=>{const P=f.docVersions.get(k);Mt(P!==null,48541),I.version.compareTo(P)<0&&(y.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),p.addEntry(I)))}))})),E.next((()=>c.mutationQueue.removeMutationBatch(u,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=gt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function qP(t){const e=rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function t8(t,e){const n=rt(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((p,y)=>{const x=s.get(y);if(!x)return;c.push(n.Pi.removeMatchingKeys(o,p.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,p.addedDocuments,y))));let E=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(Bn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),s=s.insert(y,E),(function(I,P,D){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=XF?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(x,E,p)&&c.push(n.Pi.updateTargetData(o,E))}));let u=Qi(),f=gt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),c.push(n8(o,l,e.documentUpdates).next((p=>{u=p.ks,f=p.qs}))),!r.isEqual(tt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(p)}return de.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,u,f))).next((()=>u))})).then((o=>(n.Ms=s,o)))}function n8(t,e,n){let r=gt(),s=gt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Qi();return n.forEach(((c,u)=>{const f=o.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(tt.min())?(e.removeEntry(c,u.readTime),l=l.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),l=l.insert(c,u)):Ne(h0,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)})),{ks:l,qs:s}}))}function r8(t,e){const n=rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function s8(t,e){const n=rt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((o=>o?(s=o,de.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new Do(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function qy(t,e,n){const r=rt(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!xc(l))throw l;Ne(h0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function F_(t,e,n){const r=rt(t);let s=tt.min(),o=gt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(u,f,p){const y=rt(u),x=y.xs.get(p);return x!==void 0?de.resolve(y.Ms.get(x)):y.Pi.getTargetData(f,p)})(r,l,li(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((u=>{o=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:tt.min(),n?o:gt()))).next((c=>(i8(r,$6(e),c),{documents:c,Qs:o})))))}function i8(t,e,n){let r=t.Os.get(e)||tt.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class U_{constructor(){this.activeTargetIds=Q6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o8{constructor(){this.Mo=new U_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new U_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="ConnectivityMonitor";class B_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ne(z_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ne(z_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh=null;function Ky(){return Bh===null?Bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bh++,"0x"+Bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="RestConnection",l8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Rf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const l=Ky(),c=this.zo(e,n.toUriEncodedString());Ne(Ng,`Sending RPC '${e}' ${l}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,o);const{host:f}=new URL(c),p=pc(f);return this.Jo(e,c,u,r,p).then((y=>(Ne(Ng,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw nc(Ng,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y}))}Ho(e,n,r,s,o,l){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,n){const r=l8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class d8 extends c8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const l=Ky();return new Promise(((c,u)=>{const f=new XC;f.setWithCredentials(!0),f.listenOnce(JC.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case af.NO_ERROR:const y=f.getResponseJson();Ne(er,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case af.TIMEOUT:Ne(er,`RPC '${e}' ${l} timed out`),u(new $e(me.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const x=f.getStatus();if(Ne(er,`RPC '${e}' ${l} failed with status:`,x,"response text:",f.getResponseText()),x>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const k=E?.error;if(k&&k.status&&k.message){const I=(function(D){const A=D.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(A)>=0?A:me.UNKNOWN})(k.status);u(new $e(I,k.message))}else u(new $e(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new $e(me.UNAVAILABLE,"Connection failed."));break;default:Xe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ne(er,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(s);Ne(er,`RPC '${e}' ${l} sending request:`,s),f.send(n,"POST",p,r,15)}))}T_(e,n,r){const s=Ky(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=tP(),c=eP(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=o.join("");Ne(er,`Creating RPC '${e}' stream ${s}: ${p}`,u);const y=l.createWebChannel(p,u);this.I_(y);let x=!1,E=!1;const k=new u8({Yo:P=>{E?Ne(er,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(x||(Ne(er,`Opening RPC '${e}' stream ${s} transport.`),y.open(),x=!0),Ne(er,`RPC '${e}' stream ${s} sending:`,P),y.send(P))},Zo:()=>y.close()}),I=(P,D,A)=>{P.listen(D,(z=>{try{A(z)}catch(H){setTimeout((()=>{throw H}),0)}}))};return I(y,_u.EventType.OPEN,(()=>{E||(Ne(er,`RPC '${e}' stream ${s} transport opened.`),k.o_())})),I(y,_u.EventType.CLOSE,(()=>{E||(E=!0,Ne(er,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(y))})),I(y,_u.EventType.ERROR,(P=>{E||(E=!0,nc(er,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),k.a_(new $e(me.UNAVAILABLE,"The operation could not be completed")))})),I(y,_u.EventType.MESSAGE,(P=>{if(!E){const D=P.data[0];Mt(!!D,16349);const A=D,z=A?.error||A[0]?.error;if(z){Ne(er,`RPC '${e}' stream ${s} received error:`,z);const H=z.status;let F=(function(T){const C=gn[T];if(C!==void 0)return RP(C)})(H),R=z.message;F===void 0&&(F=me.INTERNAL,R="Unknown error status: "+H+" with message "+z.message),E=!0,k.a_(new $e(F,R)),y.close()}else Ne(er,`RPC '${e}' stream ${s} received:`,D),k.u_(D)}})),I(c,ZC.STAT_EVENT,(P=>{P.stat===Dy.PROXY?Ne(er,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===Dy.NOPROXY&&Ne(er,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){return new pF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="PersistentStream";class YP{constructor(e,n,r,s,o,l,c,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new $e(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ne(H_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ne(H_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class h8 extends YP{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=vF(this.serializer,e),r=(function(o){if(!("targetChange"in o))return tt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?ci(l.readTime):tt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Gy(this.serializer),n.addTarget=(function(o,l){let c;const u=l.target;if(c=zy(u)?{documents:bF(o,u)}:{query:_F(o,u).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=OP(o,l.resumeToken);const f=Hy(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(tt.min())>0){c.readTime=Uf(o,l.snapshotVersion.toTimestamp());const f=Hy(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=kF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Gy(this.serializer),n.removeTarget=e,this.q_(n)}}class f8 extends YP{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xF(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Gy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>wF(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{}class p8 extends m8{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new $e(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,$y(n,r),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(me.UNKNOWN,o.toString())}))}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,$y(n,r),s,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new $e(me.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class g8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(n),this.aa=!1):Ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class y8{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{el(this)&&(Ne(Ha,"Restarting streams for network reachability change."),await(async function(u){const f=rt(u);f.Ea.add(4),await xd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Lm(f)})(this))}))})),this.Ra=new g8(r,s)}}async function Lm(t){if(el(t))for(const e of t.da)await e(!0)}async function xd(t){for(const e of t.da)await e(!1)}function QP(t,e){const n=rt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),g0(n)?p0(n):bc(n).O_()&&m0(n,e))}function f0(t,e){const n=rt(t),r=bc(n);n.Ia.delete(e),r.O_()&&XP(n,e),n.Ia.size===0&&(r.O_()?r.L_():el(n)&&n.Ra.set("Unknown"))}function m0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bc(t).Y_(e)}function XP(t,e){t.Va.Ue(e),bc(t).Z_(e)}function p0(t){t.Va=new dF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bc(t).start(),t.Ra.ua()}function g0(t){return el(t)&&!bc(t).x_()&&t.Ia.size>0}function el(t){return rt(t).Ea.size===0}function JP(t){t.Va=void 0}async function v8(t){t.Ra.set("Online")}async function w8(t){t.Ia.forEach(((e,n)=>{m0(t,e)}))}async function x8(t,e){JP(t),g0(t)?(t.Ra.ha(e),p0(t)):t.Ra.set("Unknown")}async function b8(t,e,n){if(t.Ra.set("Online"),e instanceof DP&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(r){Ne(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bf(t,r)}else if(e instanceof df?t.Va.Ze(e):e instanceof jP?t.Va.st(e):t.Va.tt(e),!n.isEqual(tt.min()))try{const r=await qP(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const p=o.Ia.get(f);p&&o.Ia.set(f,p.withResumeToken(u.resumeToken,l))}})),c.targetMismatches.forEach(((u,f)=>{const p=o.Ia.get(u);if(!p)return;o.Ia.set(u,p.withResumeToken(Bn.EMPTY_BYTE_STRING,p.snapshotVersion)),XP(o,u);const y=new Do(p.target,u,f,p.sequenceNumber);m0(o,y)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Ne(Ha,"Failed to raise snapshot:",r),await Bf(t,r)}}async function Bf(t,e,n){if(!xc(e))throw e;t.Ea.add(1),await xd(t),t.Ra.set("Offline"),n||(n=()=>qP(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ne(Ha,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Lm(t)}))}function ZP(t,e){return e().catch((n=>Bf(t,n,e)))}async function Am(t){const e=rt(t),n=Ko(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zv;for(;_8(e);)try{const s=await r8(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,E8(e,s)}catch(s){await Bf(e,s)}eI(e)&&tI(e)}function _8(t){return el(t)&&t.Ta.length<10}function E8(t,e){t.Ta.push(e);const n=Ko(t);n.O_()&&n.X_&&n.ea(e.mutations)}function eI(t){return el(t)&&!Ko(t).x_()&&t.Ta.length>0}function tI(t){Ko(t).start()}async function k8(t){Ko(t).ra()}async function S8(t){const e=Ko(t);for(const n of t.Ta)e.ea(n.mutations)}async function T8(t,e,n){const r=t.Ta.shift(),s=o0.from(r,e,n);await ZP(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Am(t)}async function C8(t,e){e&&Ko(t).X_&&await(async function(r,s){if((function(l){return lF(l)&&l!==me.ABORTED})(s.code)){const o=r.Ta.shift();Ko(r).B_(),await ZP(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Am(r)}})(t,e),eI(t)&&tI(t)}async function $_(t,e){const n=rt(t);n.asyncQueue.verifyOperationInProgress(),Ne(Ha,"RemoteStore received new credentials");const r=el(n);n.Ea.add(3),await xd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lm(n)}async function P8(t,e){const n=rt(t);e?(n.Ea.delete(2),await Lm(n)):e||(n.Ea.add(2),await xd(n),n.Ra.set("Unknown"))}function bc(t){return t.ma||(t.ma=(function(n,r,s){const o=rt(n);return o.sa(),new h8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:v8.bind(null,t),t_:w8.bind(null,t),r_:x8.bind(null,t),H_:b8.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),g0(t)?p0(t):t.Ra.set("Unknown")):(await t.ma.stop(),JP(t))}))),t.ma}function Ko(t){return t.fa||(t.fa=(function(n,r,s){const o=rt(n);return o.sa(),new f8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:k8.bind(null,t),r_:C8.bind(null,t),ta:S8.bind(null,t),na:T8.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Am(t)):(await t.fa.stop(),t.Ta.length>0&&(Ne(Ha,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,c=new y0(e,n,l,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v0(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),xc(t))return new $e(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{static emptySet(e){return new Jl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ke.comparator(n.key,r.key):(n,r)=>Ke.comparator(n.key,r.key),this.keyedMap=Eu(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.ga=new Jt(Ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ac{constructor(e,n,r,s,o,l,c,u,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new ac(e,n,Jl.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class N8{constructor(){this.queries=G_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=rt(n),o=s.queries;s.queries=G_(),o.forEach(((l,c)=>{for(const u of c.Sa)u.onError(r)}))})(this,new $e(me.ABORTED,"Firestore shutting down"))}}function G_(){return new Ja((t=>bP(t)),Tm)}async function M8(t,e){const n=rt(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new I8,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=v0(l,`Initialization of query '${Ol(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&w0(n)}async function L8(t,e){const n=rt(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function A8(t,e){const n=rt(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(s)&&(r=!0);l.wa=s}}r&&w0(n)}function R8(t,e,n){const r=rt(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function w0(t){t.Ca.forEach((e=>{e.next()}))}var Yy,q_;(q_=Yy||(Yy={})).Ma="default",q_.Cache="cache";class j8{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.key=e}}class rI{constructor(e){this.key=e}}class D8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=gt(),this.mutatedKeys=gt(),this.eu=_P(e),this.tu=new Jl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new W_,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,y)=>{const x=s.get(p),E=Cm(this.query,y)?y:null,k=!!x&&this.mutatedKeys.has(x.key),I=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let P=!1;x&&E?x.data.isEqual(E.data)?k!==I&&(r.track({type:3,doc:E}),P=!0):this.su(x,E)||(r.track({type:2,doc:E}),P=!0,(u&&this.eu(E,u)>0||f&&this.eu(E,f)<0)&&(c=!0)):!x&&E?(r.track({type:0,doc:E}),P=!0):x&&!E&&(r.track({type:1,doc:x}),P=!0,(u||f)&&(c=!0)),P&&(E?(l=l.add(E),o=I?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,y)=>(function(E,k){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe(20277,{Rt:P})}};return I(E)-I(k)})(p.type,y.type)||this.eu(p.doc,y.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,f=u!==this.Za;return this.Za=u,l.length!==0||f?{snapshot:new ac(this.query,e.tu,o,l,e.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=gt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new rI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new nI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=gt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ac.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const x0="SyncEngine";class O8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class V8{constructor(e){this.key=e,this.hu=!1}}class F8{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ja((c=>bP(c)),Tm),this.Iu=new Map,this.Eu=new Set,this.du=new Jt(Ke.comparator),this.Au=new Map,this.Ru=new c0,this.Vu={},this.mu=new Map,this.fu=oc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function U8(t,e,n=!0){const r=cI(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await sI(r,e,n,!0),s}async function z8(t,e){const n=cI(t);await sI(n,e,!0,!1)}async function sI(t,e,n,r){const s=await s8(t.localStore,li(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await B8(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&QP(t.remoteStore,s),c}async function B8(t,e,n,r,s){t.pu=(y,x,E)=>(async function(I,P,D,A){let z=P.view.ru(D);z.Cs&&(z=await F_(I.localStore,P.query,!1).then((({documents:M})=>P.view.ru(M,z))));const H=A&&A.targetChanges.get(P.targetId),F=A&&A.targetMismatches.get(P.targetId)!=null,R=P.view.applyChanges(z,I.isPrimaryClient,H,F);return Y_(I,P.targetId,R.au),R.snapshot})(t,y,x,E);const o=await F_(t.localStore,e,!0),l=new D8(e,o.Qs),c=l.ru(o.documents),u=wd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=l.applyChanges(c,t.isPrimaryClient,u);Y_(t,n,f.au);const p=new O8(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function H8(t,e,n){const r=rt(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((l=>!Tm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await qy(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&f0(r.remoteStore,s.targetId),Qy(r,s.targetId)})).catch(wc)):(Qy(r,s.targetId),await qy(r.localStore,s.targetId,!0))}async function $8(t,e){const n=rt(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),f0(n.remoteStore,r.targetId))}async function W8(t,e,n){const r=J8(t);try{const s=await(function(l,c){const u=rt(l),f=$t.now(),p=c.reduce(((E,k)=>E.add(k.key)),gt());let y,x;return u.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let k=Qi(),I=gt();return u.Ns.getEntries(E,p).next((P=>{k=P,k.forEach(((D,A)=>{A.isValidDocument()||(I=I.add(D))}))})).next((()=>u.localDocuments.getOverlayedDocuments(E,k))).next((P=>{y=P;const D=[];for(const A of c){const z=rF(A,y.get(A.key).overlayedDocument);z!=null&&D.push(new Za(A.key,z,mP(z.value.mapValue),Wi.exists(!0)))}return u.mutationQueue.addMutationBatch(E,f,D,c)})).next((P=>{x=P;const D=P.applyToLocalDocumentSet(y,I);return u.documentOverlayCache.saveOverlays(E,P.batchId,D)}))})).then((()=>({batchId:x.batchId,changes:kP(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,c,u){let f=l.Vu[l.currentUser.toKey()];f||(f=new Jt(pt)),f=f.insert(c,u),l.Vu[l.currentUser.toKey()]=f})(r,s.batchId,n),await bd(r,s.changes),await Am(r.remoteStore)}catch(s){const o=v0(s,"Failed to persist write");n.reject(o)}}async function iI(t,e){const n=rt(t);try{const r=await t8(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=n.Au.get(o);l&&(Mt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Mt(l.hu,14607):s.removedDocuments.size>0&&(Mt(l.hu,42227),l.hu=!1))})),await bd(n,r,e)}catch(r){await wc(r)}}function K_(t,e,n){const r=rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const u=rt(l);u.onlineState=c;let f=!1;u.queries.forEach(((p,y)=>{for(const x of y.Sa)x.va(c)&&(f=!0)})),f&&w0(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function G8(t,e,n){const r=rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let l=new Jt(Ke.comparator);l=l.insert(o,nr.newNoDocument(o,tt.min()));const c=gt().add(o),u=new Nm(tt.min(),new Map,new Jt(pt),l,c);await iI(r,u),r.du=r.du.remove(o),r.Au.delete(e),b0(r)}else await qy(r.localStore,e,!1).then((()=>Qy(r,e,n))).catch(wc)}async function q8(t,e){const n=rt(t),r=e.batch.batchId;try{const s=await e8(n.localStore,e);aI(n,r,null),oI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bd(n,s)}catch(s){await wc(s)}}async function K8(t,e,n){const r=rt(t);try{const s=await(function(l,c){const u=rt(l);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return u.mutationQueue.lookupMutationBatch(f,c).next((y=>(Mt(y!==null,37113),p=y.keys(),u.mutationQueue.removeMutationBatch(f,y)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,p,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>u.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);aI(r,e,n),oI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bd(r,s)}catch(s){await wc(s)}}function oI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function aI(t,e,n){const r=rt(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Qy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||lI(t,r)}))}function lI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(f0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),b0(t))}function Y_(t,e,n){for(const r of n)r instanceof nI?(t.Ru.addReference(r.key,e),Y8(t,r)):r instanceof rI?(Ne(x0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||lI(t,r.key)):Xe(19791,{wu:r})}function Y8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ne(x0,"New document in limbo: "+n),t.Eu.add(r),b0(t))}function b0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ke(Qt.fromString(e)),r=t.fu.next();t.Au.set(r,new V8(n)),t.du=t.du.insert(n,r),QP(t.remoteStore,new Do(li(s0(n.path)),r,"TargetPurposeLimboResolution",_m.ce))}}async function bd(t,e,n){const r=rt(t),s=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,u)=>{l.push(r.pu(u,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:n?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(f){s.push(f);const p=d0.As(u.targetId,f);o.push(p)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(u,f){const p=rt(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>de.forEach(f,(x=>de.forEach(x.Es,(E=>p.persistence.referenceDelegate.addReference(y,x.targetId,E))).next((()=>de.forEach(x.ds,(E=>p.persistence.referenceDelegate.removeReference(y,x.targetId,E)))))))))}catch(y){if(!xc(y))throw y;Ne(h0,"Failed to update sequence numbers: "+y)}for(const y of f){const x=y.targetId;if(!y.fromCache){const E=p.Ms.get(x),k=E.snapshotVersion,I=E.withLastLimboFreeSnapshotVersion(k);p.Ms=p.Ms.insert(x,I)}}})(r.localStore,o))}async function Q8(t,e){const n=rt(t);if(!n.currentUser.isEqual(e)){Ne(x0,"User change. New user:",e.toKey());const r=await GP(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((u=>{u.reject(new $e(me.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bd(n,r.Ls)}}function X8(t,e){const n=rt(t),r=n.Au.get(e);if(r&&r.hu)return gt().add(r.key);{let s=gt();const o=n.Iu.get(e);if(!o)return s;for(const l of o){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function cI(t){const e=rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G8.bind(null,e),e.Pu.H_=A8.bind(null,e.eventManager),e.Pu.yu=R8.bind(null,e.eventManager),e}function J8(t){const e=rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K8.bind(null,e),e}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZF(this.persistence,new QF,e.initialUser,this.serializer)}Cu(e){return new WP(u0.mi,this.serializer)}Du(e){return new o8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class Z8 extends Hf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Mt(this.persistence.referenceDelegate instanceof zf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new jF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tr.withCacheSize(this.cacheSizeBytes):Tr.DEFAULT;return new WP((r=>zf.mi(r,n)),this.serializer)}}class Xy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q8.bind(null,this.syncEngine),await P8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new N8})()}createDatastore(e){const n=Mm(e.databaseInfo.databaseId),r=(function(o){return new d8(o)})(e.databaseInfo);return(function(o,l,c,u){return new p8(o,l,c,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,l,c){return new y8(r,s,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>K_(this.syncEngine,n,0)),(function(){return B_.v()?new B_:new a8})())}createSyncEngine(e,n){return(function(s,o,l,c,u,f,p){const y=new F8(s,o,l,c,u,f);return p&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=rt(n);Ne(Ha,"RemoteStore shutting down."),r.Ea.add(5),await xd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xy.provider={build:()=>new Xy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="FirestoreClient";class t9{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=tr.UNAUTHENTICATED,this.clientId=Xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{Ne(Yo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ne(Yo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=v0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lg(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(Yo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await GP(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Q_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n9(t);Ne(Yo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>$_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>$_(e.remoteStore,s))),t._onlineComponents=e}async function n9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(Yo,"Using user provided OfflineComponentProvider");try{await Lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===me.FAILED_PRECONDITION||s.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;nc("Error using user provided cache. Falling back to memory cache: "+n),await Lg(t,new Hf)}}else Ne(Yo,"Using default OfflineComponentProvider"),await Lg(t,new Z8(void 0));return t._offlineComponents}async function uI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(Yo,"Using user provided OnlineComponentProvider"),await Q_(t,t._uninitializedComponentsProvider._online)):(Ne(Yo,"Using default OnlineComponentProvider"),await Q_(t,new Xy))),t._onlineComponents}function r9(t){return uI(t).then((e=>e.syncEngine))}async function s9(t){const e=await uI(t),n=e.eventManager;return n.onListen=U8.bind(null,e.syncEngine),n.onUnlisten=H8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$8.bind(null,e.syncEngine),n}function i9(t,e,n={}){const r=new Uo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,u,f){const p=new e9({next:x=>{p.Nu(),l.enqueueAndForget((()=>L8(o,y)));const E=x.docs.has(c);!E&&x.fromCache?f.reject(new $e(me.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&u&&u.source==="server"?f.reject(new $e(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),y=new j8(s0(c.path),p,{includeMetadataChanges:!0,qa:!0});return M8(o,y)})(await s9(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firestore.googleapis.com",J_=!0;class Z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $e(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hI,this.ssl=J_}else this.host=e.host,this.ssl=e.ssl??J_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$P;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AF)throw new $e(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $e(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $e(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $e(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _0{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new i6;switch(r.type){case"firstParty":return new c6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $e(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=X_.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),X_.delete(n),r.terminate())})(this),Promise.resolve()}}function o9(t,e,n,r={}){t=Ku(t,_0);const s=pc(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(aC(`https://${c}`),lC("Firestore",!0)),o.host!==hI&&o.host!==c&&nc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:c,ssl:s,emulatorOptions:r};if(!Ho(u,l)&&(t._setSettings(u),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=tr.MOCK_USER;else{f=hO(r.mockUserToken,t._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new $e(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new tr(y)}t._authCredentials=new o6(new rP(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new E0(this.firestore,e,this._query)}}class Ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new td(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}toJSON(){return{type:Ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yd(n,Ln._jsonSchema))return new Ln(e,r||null,new Ke(Qt.fromString(n.referencePath)))}}Ln._jsonSchemaVersion="firestore/documentReference/1.0",Ln._jsonSchema={type:vn("string",Ln._jsonSchemaVersion),referencePath:vn("string")};class td extends E0{constructor(e,n,r){super(e,n,s0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new Ke(e))}withConverter(e){return new td(this.firestore,e,this._path)}}function fI(t,e,...n){if(t=ir(t),arguments.length===1&&(e=Xv.newId()),p6("doc","path",e),t instanceof _0){const r=Qt.fromString(e,...n);return f_(r),new Ln(t,null,new Ke(r))}{if(!(t instanceof Ln||t instanceof td))throw new $e(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return f_(r),new Ln(t.firestore,t instanceof td?t.converter:null,new Ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KP(this,"async_queue_retry"),this._c=()=>{const r=Mg();r&&Ne(eE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Uo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xc(e))throw e;Ne(eE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",nE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=y0.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Xe(47125,{Pc:nE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class k0 extends _0{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new tE,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function a9(t,e){const n=typeof t=="object"?t:zv(),r=typeof t=="string"?t:Rf,s=Qa(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=uO("firestore");o&&o9(s,...o)}return s}function mI(t){if(t._terminated)throw new $e(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l9(t),t._firestoreClient}function l9(t){const e=t._freezeSettings(),n=(function(s,o,l,c){return new C6(s,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,dI(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new t9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ds(Bn.fromBase64String(e))}catch(n){throw new $e(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ds(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ds._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yd(e,ds._jsonSchema))return ds.fromBase64String(e.bytes)}}ds._jsonSchemaVersion="firestore/bytes/1.0",ds._jsonSchema={type:vn("string",ds._jsonSchemaVersion),bytes:vn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(e){if(yd(e,ui._jsonSchema))return new ui(e.latitude,e.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:vn("string",ui._jsonSchemaVersion),latitude:vn("number"),longitude:vn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yd(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new di(e.vectorValues);throw new $e(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:vn("string",di._jsonSchemaVersion),vectorValues:vn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=/^__.*__$/;class u9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new vd(e,this.data,n,this.fieldTransforms)}}function gI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe(40011,{Ac:t})}}class T0{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new T0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $f(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gI(this.Ac)&&c9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class d9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mm(e)}Cc(e,n,r,s=!1){return new T0({Ac:e,methodName:n,Dc:r,path:zn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h9(t){const e=t._freezeSettings(),n=Mm(t._databaseId);return new d9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f9(t,e,n,r,s,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);xI("Data must be an object, but it was:",l,r);const c=vI(r,l);let u,f;if(o.merge)u=new Is(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const x=m9(e,y,n);if(!l.contains(x))throw new $e(me.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);g9(p,x)||p.push(x)}u=new Is(p),f=l.fieldTransforms.filter((y=>u.covers(y.field)))}else u=null,f=l.fieldTransforms;return new u9(new us(c),u,f)}function yI(t,e){if(wI(t=ir(t)))return xI("Unsupported field value:",e,t),vI(t,e);if(t instanceof pI)return(function(r,s){if(!gI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let l=0;for(const c of r){let u=yI(c,s.wc(l));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=$t.fromDate(r);return{timestampValue:Uf(s.serializer,o)}}if(r instanceof $t){const o=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uf(s.serializer,o)}}if(r instanceof ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ds)return{bytesValue:OP(s.serializer,r._byteString)};if(r instanceof Ln){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:l0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof di)return(function(l,c){return{mapValue:{fields:{[hP]:{stringValue:fP},[jf]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return i0(c.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Jv(r)}`)})(t,e)}function vI(t,e){const n={};return oP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(t,((r,s)=>{const o=yI(s,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function wI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof ui||t instanceof ds||t instanceof Ln||t instanceof pI||t instanceof di)}function xI(t,e,n){if(!wI(n)||!sP(n)){const r=Jv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function m9(t,e,n){if((e=ir(e))instanceof S0)return e._internalPath;if(typeof e=="string")return bI(t,e);throw $f("Field path arguments must be of type string or ",t,!1,void 0,n)}const p9=new RegExp("[~\\*/\\[\\]]");function bI(t,e,n){if(e.search(p9)>=0)throw $f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new S0(...e.split("."))._internalPath}catch{throw $f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $f(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||l)&&(u+=" (found",o&&(u+=` in field ${r}`),l&&(u+=` in document ${s}`),u+=")"),new $e(me.INVALID_ARGUMENT,c+t+u)}function g9(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(EI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y9 extends _I{data(){return super.data()}}function EI(t,e){return typeof e=="string"?bI(t,e):e instanceof S0?e._internalPath:e._delegate._internalPath}class v9{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xa(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[jf].arrayValue?.values?.map((r=>cn(r.doubleValue)));return new di(n)}convertGeoPoint(e){return new ui(cn(e.latitude),cn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=km(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){const n=Wo(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qt.fromString(e);Mt(HP(r),9688,{name:e});const s=new Xu(r.get(1),r.get(3)),o=new Ke(r.popFirst(5));return s.isEqual(n)||Yi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends _I{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(EI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oa._jsonSchema={type:vn("string",Oa._jsonSchemaVersion),bundleSource:vn("string","DocumentSnapshot"),bundleName:vn("string"),bundle:vn("string")};class hf extends Oa{data(e={}){return super.data(e)}}class Ru{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Su(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new hf(this._firestore,this._userDataWriter,r.key,r,new Su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const u=new hf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Su(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const u=new hf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Su(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:x9(c.type),doc:u,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $e(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ru._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){t=Ku(t,Ln);const e=Ku(t.firestore,k0);return i9(mI(e),t._key).then((n=>k9(e,t,n)))}Ru._jsonSchemaVersion="firestore/querySnapshot/1.0",Ru._jsonSchema={type:vn("string",Ru._jsonSchemaVersion),bundleSource:vn("string","QuerySnapshot"),bundleName:vn("string"),bundle:vn("string")};class b9 extends v9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function _9(t,e,n){t=Ku(t,Ln);const r=Ku(t.firestore,k0),s=w9(t.converter,e);return E9(r,[f9(h9(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Wi.none())])}function E9(t,e){return(function(r,s){const o=new Uo;return r.asyncQueue.enqueueAndForget((async()=>W8(await r9(r),s,o))),o.promise})(mI(t),e)}function k9(t,e,n){const r=n.docs.get(e._key),s=new b9(t);return new Oa(t,s,e._key,r,new Su(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){vc=s})(gc),yi(new Ns("firestore",((r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new k0(new a6(r.getProvider("auth-internal")),new u6(l,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new $e(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(f.options.projectId,p)})(l,s),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),hs(c_,u_,e),hs(c_,u_,"esm2020")})();var S9="firebase",T9="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(S9,T9,"app");const SI="@firebase/installations",C0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=1e4,CI=`w:${C0}`,PI="FIS_v2",C9="https://firebaseinstallations.googleapis.com/v1",P9=3600*1e3,I9="installations",N9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$a=new Ya(I9,N9,M9);function II(t){return t instanceof Ds&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI({projectId:t}){return`${C9}/projects/${t}/installations`}function MI(t){return{token:t.token,requestStatus:2,expiresIn:A9(t.expiresIn),creationTime:Date.now()}}async function LI(t,e){const r=(await e.json()).error;return $a.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function AI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function L9(t,{refreshToken:e}){const n=AI(t);return n.append("Authorization",R9(e)),n}async function RI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function A9(t){return Number(t.replace("s","000"))}function R9(t){return`${PI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=NI(t),s=AI(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={fid:n,authVersion:PI,appId:t.appId,sdkVersion:CI},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await RI(()=>fetch(r,c));if(u.ok){const f=await u.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:MI(f.authToken)}}else throw await LI("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=/^[cdef][\w-]{21}$/,Jy="";function V9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=F9(t);return O9.test(n)?n:Jy}catch{return Jy}}function F9(t){return D9(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Map;function OI(t,e){const n=Rm(t);VI(n,e),U9(n,e)}function VI(t,e){const n=DI.get(t);if(n)for(const r of n)r(e)}function U9(t,e){const n=z9();n&&n.postMessage({key:t,fid:e}),B9()}let Ma=null;function z9(){return!Ma&&"BroadcastChannel"in self&&(Ma=new BroadcastChannel("[Firebase] FID Change"),Ma.onmessage=t=>{VI(t.data.key,t.data.fid)}),Ma}function B9(){DI.size===0&&Ma&&(Ma.close(),Ma=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="firebase-installations-database",$9=1,Wa="firebase-installations-store";let Ag=null;function P0(){return Ag||(Ag=hC(H9,$9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wa)}}})),Ag}async function Wf(t,e){const n=Rm(t),s=(await P0()).transaction(Wa,"readwrite"),o=s.objectStore(Wa),l=await o.get(n);return await o.put(e,n),await s.done,(!l||l.fid!==e.fid)&&OI(t,e.fid),e}async function FI(t){const e=Rm(t),r=(await P0()).transaction(Wa,"readwrite");await r.objectStore(Wa).delete(e),await r.done}async function jm(t,e){const n=Rm(t),s=(await P0()).transaction(Wa,"readwrite"),o=s.objectStore(Wa),l=await o.get(n),c=e(l);return c===void 0?await o.delete(n):await o.put(c,n),await s.done,c&&(!l||l.fid!==c.fid)&&OI(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I0(t){let e;const n=await jm(t.appConfig,r=>{const s=W9(r),o=G9(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===Jy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function W9(t){const e=t||{fid:V9(),registrationStatus:0};return UI(e)}function G9(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject($a.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=q9(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:K9(t)}:{installationEntry:e}}async function q9(t,e){try{const n=await j9(t,e);return Wf(t.appConfig,n)}catch(n){throw II(n)&&n.customData.serverCode===409?await FI(t.appConfig):await Wf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function K9(t){let e=await rE(t.appConfig);for(;e.registrationStatus===1;)await jI(100),e=await rE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await I0(t);return r||n}return e}function rE(t){return jm(t,e=>{if(!e)throw $a.create("installation-not-found");return UI(e)})}function UI(t){return Y9(t)?{fid:t.fid,registrationStatus:0}:t}function Y9(t){return t.registrationStatus===1&&t.registrationTime+TI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9({appConfig:t,heartbeatServiceProvider:e},n){const r=X9(t,n),s=L9(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}const l={installation:{sdkVersion:CI,appId:t.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await RI(()=>fetch(r,c));if(u.ok){const f=await u.json();return MI(f)}else throw await LI("Generate Auth Token",u)}function X9(t,{fid:e}){return`${NI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N0(t,e=!1){let n;const r=await jm(t.appConfig,o=>{if(!zI(o))throw $a.create("not-registered");const l=o.authToken;if(!e&&eU(l))return o;if(l.requestStatus===1)return n=J9(t,e),o;{if(!navigator.onLine)throw $a.create("app-offline");const c=nU(o);return n=Z9(t,c),c}});return n?await n:r.authToken}async function J9(t,e){let n=await sE(t.appConfig);for(;n.authToken.requestStatus===1;)await jI(100),n=await sE(t.appConfig);const r=n.authToken;return r.requestStatus===0?N0(t,e):r}function sE(t){return jm(t,e=>{if(!zI(e))throw $a.create("not-registered");const n=e.authToken;return rU(n)?{...e,authToken:{requestStatus:0}}:e})}async function Z9(t,e){try{const n=await Q9(t,e),r={...e,authToken:n};return await Wf(t.appConfig,r),n}catch(n){if(II(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await FI(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Wf(t.appConfig,r)}throw n}}function zI(t){return t!==void 0&&t.registrationStatus===2}function eU(t){return t.requestStatus===2&&!tU(t)}function tU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+P9}function nU(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function rU(t){return t.requestStatus===1&&t.requestTime+TI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(t){const e=t,{installationEntry:n,registrationPromise:r}=await I0(e);return r?r.catch(console.error):N0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(t,e=!1){const n=t;return await oU(n),(await N0(n,e)).token}async function oU(t){const{registrationPromise:e}=await I0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t){if(!t||!t.options)throw Rg("App Configuration");if(!t.name)throw Rg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Rg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Rg(t){return $a.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="installations",lU="installations-internal",cU=t=>{const e=t.getProvider("app").getImmediate(),n=aU(e),r=Qa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},uU=t=>{const e=t.getProvider("app").getImmediate(),n=Qa(e,BI).getImmediate();return{getId:()=>sU(n),getToken:s=>iU(n,s)}};function dU(){yi(new Ns(BI,cU,"PUBLIC")),yi(new Ns(lU,uU,"PRIVATE"))}dU();hs(SI,C0);hs(SI,C0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="analytics",hU="firebase_id",fU="origin",mU=60*1e3,pU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",M0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new vm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gr=new Ya("analytics","Analytics",gU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){if(!t.startsWith(M0)){const e=Gr.create("invalid-gtag-resource",{gtagURL:t});return Mr.warn(e.message),""}return t}function HI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function vU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function wU(t,e){const n=vU("firebase-js-sdk-policy",{createScriptURL:yU}),r=document.createElement("script"),s=`${M0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function xU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function bU(t,e,n,r,s,o){const l=r[s];try{if(l)await e[l];else{const u=(await HI(n)).find(f=>f.measurementId===s);u&&await e[u.appId]}}catch(c){Mr.error(c)}t("config",s,o)}async function _U(t,e,n,r,s){try{let o=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await HI(n);for(const u of l){const f=c.find(y=>y.measurementId===u),p=f&&e[f.appId];if(p)o.push(p);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,s||{})}catch(o){Mr.error(o)}}function EU(t,e,n,r){async function s(o,...l){try{if(o==="event"){const[c,u]=l;await _U(t,e,n,c,u)}else if(o==="config"){const[c,u]=l;await bU(t,e,n,r,c,u)}else if(o==="consent"){const[c,u]=l;t("consent",c,u)}else if(o==="get"){const[c,u,f]=l;t("get",c,u,f)}else if(o==="set"){const[c]=l;t("set",c)}else t(o,...l)}catch(c){Mr.error(c)}}return s}function kU(t,e,n,r,s){let o=function(...l){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=EU(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function SU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(M0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=30,CU=1e3;class PU{constructor(e={},n=CU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $I=new PU;function IU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function NU(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:IU(n)},s=pU.replace("{app-id}",e),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();c.error?.message&&(l=c.error.message)}catch{}throw Gr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function MU(t,e=$I,n){const{appId:r,apiKey:s,measurementId:o}=t.options;if(!r)throw Gr.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw Gr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new RU;return setTimeout(async()=>{c.abort()},mU),WI({appId:r,apiKey:s,measurementId:o},l,c,e)}async function WI(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=$I){const{appId:o,measurementId:l}=t;try{await LU(r,e)}catch(c){if(l)return Mr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:l};throw c}try{const c=await NU(t);return s.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!AU(u)){if(s.deleteThrottleMetadata(o),l)return Mr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:l};throw c}const f=Number(u?.customData?.httpStatus)===503?R1(n,s.intervalMillis,TU):R1(n,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(o,p),Mr.debug(`Calling attemptFetch again in ${f} millis`),WI(t,p,r,s)}}function LU(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),r(Gr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function AU(t){if(!(t instanceof Ds)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class RU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jU(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const o=await e,l={...r,send_to:o};t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(){if(Vv())try{await Fv()}catch(t){return Mr.warn(Gr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Mr.warn(Gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function OU(t,e,n,r,s,o,l){const c=MU(t);c.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Mr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Mr.error(x)),e.push(c);const u=DU().then(x=>{if(x)return r.getId()}),[f,p]=await Promise.all([c,u]);SU(o)||wU(o,f.measurementId),s("js",new Date);const y=l?.config??{};return y[fU]="firebase",y.update=!0,p!=null&&(y[hU]=p),s("config",f.measurementId,y),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.app=e}_delete(){return delete ju[this.app.options.appId],Promise.resolve()}}let ju={},iE=[];const oE={};let jg="dataLayer",FU="gtag",aE,GI,lE=!1;function UU(){const t=[];if(Ov()&&t.push("This is a browser extension environment."),cC()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Gr.create("invalid-analytics-context",{errorInfo:e});Mr.warn(n.message)}}function zU(t,e,n){UU();const r=t.options.appId;if(!r)throw Gr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Mr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gr.create("no-api-key");if(ju[r]!=null)throw Gr.create("already-exists",{id:r});if(!lE){xU(jg);const{wrappedGtag:o,gtagCore:l}=kU(ju,iE,oE,jg,FU);GI=o,aE=l,lE=!0}return ju[r]=OU(t,iE,oE,e,aE,jg,n),new VU(t)}function BU(t=zv()){t=ir(t);const e=Qa(t,Gf);return e.isInitialized()?e.getImmediate():HU(t)}function HU(t,e={}){const n=Qa(t,Gf);if(n.isInitialized()){const s=n.getImmediate();if(Ho(e,n.getOptions()))return s;throw Gr.create("already-initialized")}return n.initialize({options:e})}async function $U(){if(Ov()||!cC()||!Vv())return!1;try{return await Fv()}catch{return!1}}function WU(t,e,n,r){t=ir(t),jU(GI,ju[t.app.options.appId],e,n,r).catch(s=>Mr.error(s))}const cE="@firebase/analytics",uE="0.10.18";function GU(){yi(new Ns(Gf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return zU(r,s,n)},"PUBLIC")),yi(new Ns("analytics-internal",t,"PRIVATE")),hs(cE,uE),hs(cE,uE,"esm2020");function t(e){try{const n=e.getProvider(Gf).getImmediate();return{logEvent:(r,s,o)=>WU(n,r,s,o)}}catch(n){throw Gr.create("interop-component-reg-failed",{reason:n})}}}GU();const qU={apiKey:"AIzaSyDyDSNIvwTrpCuFVwnmTMRdN3EvD1eH3Qk",authDomain:"monastery360-f4196.firebaseapp.com",projectId:"monastery360-f4196",storageBucket:"monastery360-f4196.firebasestorage.app",messagingSenderId:"919269902610",appId:"1:919269902610:web:b7b5f9b88087d7236f8bcb"},L0=fC(qU),Ea=r6(L0),qI=a9(L0);typeof window<"u"&&$U().then(t=>{t&&BU(L0)});const KI=v.createContext(null);async function KU(t,e){if(!t)return;const n=fI(qI,"users",t.uid);if(!(await kI(n)).exists()){const{displayName:s,email:o}=t,l=new Date().toISOString();try{await _9(n,{displayName:s||e?.name||"",email:o,createdAt:l,...e})}catch(c){console.error("Error creating user profile:",c)}}return n}function YU({children:t}){const[e,n]=v.useState(null),[r,s]=v.useState(!0),[o,l]=v.useState(null),c=async x=>{if(!x)return null;try{const E=fI(qI,"users",x.uid),I=(await kI(E)).data();return{id:x.uid,name:I?.displayName||x.displayName||"Anonymous User",email:x.email||"",createdAt:I?.createdAt}}catch(E){return console.error("Error fetching user data:",E),{id:x.uid,name:x.displayName||"Anonymous User",email:x.email||""}}};v.useEffect(()=>WV(Ea,async E=>{if(E){const k=await c(E);n(k)}else n(null);s(!1)}),[]);const u=async(x,E)=>{try{if(!Ea)throw new Error("Firebase authentication not available. Please check your Firebase configuration.");s(!0);const k=await UV(Ea,x,E),I=await c(k.user);n(I)}catch(k){throw console.error("Login error:",k),k.code==="auth/configuration-not-found"?new Error("Firebase configuration is missing. Please check your .env file and ensure all Firebase environment variables are properly set."):new Error(k.message||"Failed to login")}finally{s(!1)}},f=async(x,E,k)=>{try{if(!Ea)throw new Error("Firebase authentication not available. Please check your Firebase configuration.");s(!0);const I=await FV(Ea,E,k);await BV(I.user,{displayName:x}),await KU(I.user,{name:x});const P=await c(I.user);n(P)}catch(I){throw console.error("Registration error:",I),I.code==="auth/configuration-not-found"?new Error("Firebase configuration is missing. Please check your .env file and ensure all Firebase environment variables are properly set."):new Error(I.message||"Failed to register")}finally{s(!1)}},p=async()=>{try{await GV(Ea),n(null)}catch(x){throw console.error("Logout error:",x),new Error(x.message||"Failed to logout")}},y=async x=>{try{await VV(Ea,x)}catch(E){throw console.error("Password reset error:",E),new Error(E.message||"Failed to send password reset email")}};return h.jsx(KI.Provider,{value:{user:e,loading:r,login:u,register:f,logout:p,resetPassword:y},children:t})}function A0(){const t=v.useContext(KI);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function QU({currentPage:t,isDark:e,onThemeToggle:n}){const{user:r,logout:s}=A0(),[o,l]=v.useState(!1),[c,u]=v.useState(!1);v.useEffect(()=>{const p=()=>{u(window.scrollY>10)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const f=[{id:"home",label:"Home",icon:null},{id:"virtual-tour",label:"Virtual Tour",icon:Gi},{id:"map",label:"Explore Map",icon:Nr},{id:"archive",label:"Digital Archive",icon:Kl},{id:"audio-guide",label:"Audio Guide",icon:by},{id:"calendar",label:"Cultural Calendar",icon:ja},{id:"community",label:"Community",icon:ri},{id:"future",label:"Future Features",icon:Gi}];return h.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${c?"bg-background/95 backdrop-blur-sm shadow-md border-b border-border":"bg-background/90"}`,children:[h.jsx("div",{className:"container mx-auto px-4 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center",children:h.jsx(Ui,{to:"/",onClick:()=>window.scrollTo(0,0),className:"flex items-center",children:h.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Monastery360"})})}),h.jsx("div",{className:"hidden md:flex items-center justify-center flex-1",children:h.jsx("div",{className:"flex items-center space-x-1",children:f.map(p=>{const y=p.icon,x=t===p.id;return h.jsx(Ui,{to:p.id==="home"?"/":`/${p.id}`,onClick:()=>window.scrollTo(0,0),className:"no-underline",children:h.jsxs("button",{style:{backgroundColor:x?"#FF8C00":"transparent",color:x?"white":void 0,display:"flex",alignItems:"center",gap:"0.5rem",whiteSpace:"nowrap"},className:`
                        px-3 py-2 rounded-md text-sm font-medium transition-all duration-200
                        ${x?"nav-button-active !bg-[#FF8C00] !text-white shadow-md hover:!bg-[#FF8C00]/90":"text-gray-700 dark:text-gray-300 hover:!bg-[#FF8C00] hover:!text-white"}
                      `,children:[y&&h.jsx(y,{className:"w-4 h-4 flex-shrink-0"}),h.jsx("span",{children:p.label})]})},p.id)})})}),h.jsxs("div",{className:"flex items-center space-x-3",children:[r?h.jsxs("div",{className:"relative",children:[h.jsx("button",{className:"w-9 h-9 rounded-full bg-[#FF8C00] flex items-center justify-center hover:bg-[#FFD700] transition-colors",onClick:()=>l(!o),children:h.jsx(ZT,{className:"w-5 h-5 text-white"})}),o&&h.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-background rounded-md shadow-lg border border-border",children:[h.jsx("div",{className:"p-3 border-b border-border",children:h.jsx("p",{className:"text-sm font-medium",children:r.name})}),h.jsx("div",{className:"p-2",children:h.jsx("button",{className:"w-full px-3 py-2 text-left text-sm rounded hover:bg-muted",onClick:s,children:"Logout"})})]})]}):h.jsx(Ui,{to:"/register",onClick:()=>window.scrollTo(0,0),children:h.jsxs(ze,{className:"hover:bg-[#FFD700] dark:hover:!bg-gray-200 px-4 py-2 text-sm font-medium rounded-md",style:{display:"flex",alignItems:"center",gap:"0.5rem",whiteSpace:"nowrap",backgroundColor:e?"white":"#FF8C00",color:"black"},children:[h.jsx(QT,{className:"w-4 h-4 flex-shrink-0"}),h.jsx("span",{children:"Sign In"})]})}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(A4,{className:"w-4 h-4 text-muted-foreground"}),h.jsx(rD,{checked:e,onCheckedChange:n}),h.jsx(c4,{className:"w-4 h-4 text-muted-foreground"})]})]})]})}),h.jsx("div",{className:"md:hidden px-2 pb-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:h.jsx("div",{className:"flex flex-wrap gap-1",children:f.map(p=>{const y=p.icon,x=t===p.id;return h.jsx(Ui,{to:p.id==="home"?"/":`/${p.id}`,onClick:()=>window.scrollTo(0,0),className:"no-underline",children:h.jsxs("button",{className:`
                    px-2.5 py-1.5 rounded-md font-medium text-xs
                    flex items-center gap-1 transition-all duration-200
                    ${x?"bg-gradient-to-r from-amber-500 to-orange-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}
                  `,children:[y&&h.jsx(y,{className:"w-3 h-3"}),h.jsx("span",{children:p.id==="virtual-tour"?"Tour":p.id==="audio-guide"?"Audio":p.id==="calendar"?"Events":p.id==="community"?"Comm":p.id==="digital-archive"?"Archive":p.id==="explore-map"?"Map":p.label})]})},p.id)})})})]})}function XU(){const t=[{label:"Virtual Tours",href:"/virtual-tour"},{label:"Interactive Map",href:"/map"},{label:"Digital Archive",href:"/archive"},{label:"Audio Guide",href:"/audio-guide"}],e=[{label:"Cultural Calendar",href:"/calendar"},{label:"Join Community",href:"/community"},{label:"Future Features",href:"/future"},{label:"Volunteer Program",href:"/volunteer"}],n=[{label:"About Us",href:"/about"},{label:"Contact",href:"/contact"},{label:"Privacy Policy",href:"/privacy"},{label:"Terms of Service",href:"/terms"}],r=[{icon:DD,href:"#",label:"Facebook"},{icon:F4,href:"#",label:"Twitter"},{icon:QD,href:"#",label:"Instagram"},{icon:Z4,href:"#",label:"Youtube"}];return h.jsx("footer",{className:"bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800",children:h.jsxs("div",{className:"container mx-auto px-6 py-12",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-[#8B0000] to-[#FF8C00] bg-clip-text text-transparent mb-4",children:"Monastery360"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:"Preserving and sharing Sikkim's sacred heritage through immersive digital experiences."})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-400",children:[h.jsx(Nr,{className:"w-4 h-4 text-[#FF8C00] flex-shrink-0"}),h.jsx("span",{className:"text-sm",children:"Sikkim, India"})]}),h.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-400",children:[h.jsx(Dv,{className:"w-4 h-4 text-[#FF8C00] flex-shrink-0"}),h.jsx("span",{className:"text-sm",children:"info@monastery360.com"})]}),h.jsxs("div",{className:"flex items-center space-x-3 text-gray-600 dark:text-gray-400",children:[h.jsx(Ty,{className:"w-4 h-4 text-[#FF8C00] flex-shrink-0"}),h.jsx("span",{className:"text-sm",children:"+91 XXX XXX XXXX"})]})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Explore"}),h.jsx("ul",{className:"space-y-3",children:t.map((s,o)=>h.jsx("li",{children:h.jsx(Ui,{to:s.href,onClick:()=>window.scrollTo(0,0),className:"text-gray-600 dark:text-gray-400 hover:text-[#FF8C00] transition-colors duration-200 text-sm",children:s.label})},o))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Community"}),h.jsx("ul",{className:"space-y-3",children:e.map((s,o)=>h.jsx("li",{children:h.jsx(Ui,{to:s.href,onClick:()=>window.scrollTo(0,0),className:"text-gray-600 dark:text-gray-400 hover:text-[#FF8C00] transition-colors duration-200 text-sm",children:s.label})},o))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Connect"}),h.jsx("ul",{className:"space-y-3 mb-6",children:n.map((s,o)=>h.jsx("li",{children:h.jsx(Ui,{to:s.href,onClick:()=>window.scrollTo(0,0),className:"text-gray-600 dark:text-gray-400 hover:text-[#FF8C00] transition-colors duration-200 text-sm",children:s.label})},o))}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Follow Us"}),h.jsx("div",{className:"flex space-x-3",children:r.map((s,o)=>{const l=s.icon;return h.jsx("a",{href:s.href,className:"w-8 h-8 bg-gray-100 dark:bg-white rounded-full flex items-center justify-center hover:bg-[#FF8C00] hover:text-white transition-all duration-300 transform hover:scale-110 text-gray-600 dark:text-black","aria-label":s.label,children:h.jsx(l,{className:"w-4 h-4"})},o)})})]})]})]}),h.jsx("div",{className:"border-t border-gray-200 dark:border-gray-800 mt-12 pt-8 flex justify-center items-center",children:h.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-sm",children:h.jsxs("span",{children:[" ",new Date().getFullYear()," Monastery360. All rights reserved."]})})})]})})}function St({className:t,...e}){return h.jsx("div",{"data-slot":"card",className:rn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border backdrop-blur-sm transition-all duration-300 hover:shadow-lg group",t),...e})}function hi({className:t,...e}){return h.jsx("div",{"data-slot":"card-header",className:rn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function fi({className:t,...e}){return h.jsx("h4",{"data-slot":"card-title",className:rn("leading-none",t),...e})}function YI({className:t,...e}){return h.jsx("p",{"data-slot":"card-description",className:rn("text-muted-foreground",t),...e})}function Pt({className:t,...e}){return h.jsx("div",{"data-slot":"card-content",className:rn("px-6 [&:last-child]:pb-6",t),...e})}function QI({className:t,...e}){return h.jsx("div",{"data-slot":"card-footer",className:rn("flex items-center px-6 pb-6 [.border-t]:pt-6",t),...e})}const JU=GT("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Nt({className:t,variant:e,asChild:n=!1,...r}){const s=n?PT:"span";return h.jsx(s,{"data-slot":"badge",className:rn(JU({variant:e}),t),...r})}const R0=v.createContext({});function j0(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const D0=typeof window<"u",XI=D0?v.useLayoutEffect:v.useEffect,Dm=v.createContext(null);function O0(t,e){t.indexOf(e)===-1&&t.push(e)}function V0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Xi=(t,e,n)=>n>e?e:n<t?t:n;let F0=()=>{};const Ji={},JI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ZI(t){return typeof t=="object"&&t!==null}const eN=t=>/^0[^.\s]+$/u.test(t);function U0(t){let e;return()=>(e===void 0&&(e=t()),e)}const fs=t=>t,ZU=(t,e)=>n=>e(t(n)),_d=(...t)=>t.reduce(ZU),nd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class z0{constructor(){this.subscriptions=[]}add(e){return O0(this.subscriptions,e),()=>V0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mi=t=>t*1e3,pi=t=>t/1e3;function tN(t,e){return e?t*(1e3/e):0}const nN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ez=1e-7,tz=12;function nz(t,e,n,r,s){let o,l,c=0;do l=e+(n-e)/2,o=nN(l,r,s)-t,o>0?n=l:e=l;while(Math.abs(o)>ez&&++c<tz);return l}function Ed(t,e,n,r){if(t===e&&n===r)return fs;const s=o=>nz(o,0,1,t,n);return o=>o===0||o===1?o:nN(s(o),e,r)}const rN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sN=t=>e=>1-t(1-e),iN=Ed(.33,1.53,.69,.99),B0=sN(iN),oN=rN(B0),aN=t=>(t*=2)<1?.5*B0(t):.5*(2-Math.pow(2,-10*(t-1))),H0=t=>1-Math.sin(Math.acos(t)),lN=sN(H0),cN=rN(H0),rz=Ed(.42,0,1,1),sz=Ed(0,0,.58,1),uN=Ed(.42,0,.58,1),iz=t=>Array.isArray(t)&&typeof t[0]!="number",dN=t=>Array.isArray(t)&&typeof t[0]=="number",oz={linear:fs,easeIn:rz,easeInOut:uN,easeOut:sz,circIn:H0,circInOut:cN,circOut:lN,backIn:B0,backInOut:oN,backOut:iN,anticipate:aN},az=t=>typeof t=="string",dE=t=>{if(dN(t)){F0(t.length===4);const[e,n,r,s]=t;return Ed(e,n,r,s)}else if(az(t))return oz[t];return t},Hh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lz(t,e){let n=new Set,r=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(p){l.has(p)&&(f.schedule(p),t()),p(c)}const f={schedule:(p,y=!1,x=!1)=>{const k=x&&s?n:r;return y&&l.add(p),k.has(p)||k.add(p),p},cancel:p=>{r.delete(p),l.delete(p)},process:p=>{if(c=p,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),n.clear(),s=!1,o&&(o=!1,f.process(p))}};return f}const cz=40;function hN(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Hh.reduce((z,H)=>(z[H]=lz(o),z),{}),{setup:c,read:u,resolveKeyframes:f,preUpdate:p,update:y,preRender:x,render:E,postRender:k}=l,I=()=>{const z=Ji.useManualTiming?s.timestamp:performance.now();n=!1,Ji.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(z-s.timestamp,cz),1)),s.timestamp=z,s.isProcessing=!0,c.process(s),u.process(s),f.process(s),p.process(s),y.process(s),x.process(s),E.process(s),k.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(I))},P=()=>{n=!0,r=!0,s.isProcessing||t(I)};return{schedule:Hh.reduce((z,H)=>{const F=l[H];return z[H]=(R,M=!1,T=!1)=>(n||P(),F.schedule(R,M,T)),z},{}),cancel:z=>{for(let H=0;H<Hh.length;H++)l[Hh[H]].cancel(z)},state:s,steps:l}}const{schedule:qt,cancel:Qo,state:Fn,steps:Dg}=hN(typeof requestAnimationFrame<"u"?requestAnimationFrame:fs,!0);let ff;function uz(){ff=void 0}const Pr={now:()=>(ff===void 0&&Pr.set(Fn.isProcessing||Ji.useManualTiming?Fn.timestamp:performance.now()),ff),set:t=>{ff=t,queueMicrotask(uz)}},fN=t=>e=>typeof e=="string"&&e.startsWith(t),$0=fN("--"),dz=fN("var(--"),W0=t=>dz(t)?hz.test(t.split("/*")[0].trim()):!1,hz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_c={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rd={..._c,transform:t=>Xi(0,1,t)},$h={..._c,default:1},Du=t=>Math.round(t*1e5)/1e5,G0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fz(t){return t==null}const mz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,q0=(t,e)=>n=>!!(typeof n=="string"&&mz.test(n)&&n.startsWith(t)||e&&!fz(n)&&Object.prototype.hasOwnProperty.call(n,e)),mN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,l,c]=r.match(G0);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},pz=t=>Xi(0,255,t),Og={..._c,transform:t=>Math.round(pz(t))},La={test:q0("rgb","red"),parse:mN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Og.transform(t)+", "+Og.transform(e)+", "+Og.transform(n)+", "+Du(rd.transform(r))+")"};function gz(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Zy={test:q0("#"),parse:gz,transform:La.transform},kd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),To=kd("deg"),gi=kd("%"),Je=kd("px"),yz=kd("vh"),vz=kd("vw"),hE={...gi,parse:t=>gi.parse(t)/100,transform:t=>gi.transform(t*100)},zl={test:q0("hsl","hue"),parse:mN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+gi.transform(Du(e))+", "+gi.transform(Du(n))+", "+Du(rd.transform(r))+")"},yn={test:t=>La.test(t)||Zy.test(t)||zl.test(t),parse:t=>La.test(t)?La.parse(t):zl.test(t)?zl.parse(t):Zy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?La.transform(t):zl.transform(t),getAnimatableNone:t=>{const e=yn.parse(t);return e.alpha=0,yn.transform(e)}},wz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xz(t){return isNaN(t)&&typeof t=="string"&&(t.match(G0)?.length||0)+(t.match(wz)?.length||0)>0}const pN="number",gN="color",bz="var",_z="var(",fE="${}",Ez=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(Ez,u=>(yn.test(u)?(r.color.push(o),s.push(gN),n.push(yn.parse(u))):u.startsWith(_z)?(r.var.push(o),s.push(bz),n.push(u)):(r.number.push(o),s.push(pN),n.push(parseFloat(u))),++o,fE)).split(fE);return{values:n,split:c,indexes:r,types:s}}function yN(t){return sd(t).values}function vN(t){const{split:e,types:n}=sd(t),r=e.length;return s=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],s[l]!==void 0){const c=n[l];c===pN?o+=Du(s[l]):c===gN?o+=yn.transform(s[l]):o+=s[l]}return o}}const kz=t=>typeof t=="number"?0:yn.test(t)?yn.getAnimatableNone(t):t;function Sz(t){const e=yN(t);return vN(t)(e.map(kz))}const Xo={test:xz,parse:yN,createTransformer:vN,getAnimatableNone:Sz};function Vg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Tz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;s=Vg(u,c,t+1/3),o=Vg(u,c,t),l=Vg(u,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function qf(t,e){return n=>n>0?e:t}const Xt=(t,e,n)=>t+(e-t)*n,Fg=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Cz=[Zy,La,zl],Pz=t=>Cz.find(e=>e.test(t));function mE(t){const e=Pz(t);if(!e)return!1;let n=e.parse(t);return e===zl&&(n=Tz(n)),n}const pE=(t,e)=>{const n=mE(t),r=mE(e);if(!n||!r)return qf(t,e);const s={...n};return o=>(s.red=Fg(n.red,r.red,o),s.green=Fg(n.green,r.green,o),s.blue=Fg(n.blue,r.blue,o),s.alpha=Xt(n.alpha,r.alpha,o),La.transform(s))},ev=new Set(["none","hidden"]);function Iz(t,e){return ev.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Nz(t,e){return n=>Xt(t,e,n)}function K0(t){return typeof t=="number"?Nz:typeof t=="string"?W0(t)?qf:yn.test(t)?pE:Az:Array.isArray(t)?wN:typeof t=="object"?yn.test(t)?pE:Mz:qf}function wN(t,e){const n=[...t],r=n.length,s=t.map((o,l)=>K0(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=s[l](o);return n}}function Mz(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=K0(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function Lz(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],c=t.values[l]??0;n[s]=c,r[o]++}return n}const Az=(t,e)=>{const n=Xo.createTransformer(e),r=sd(t),s=sd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ev.has(t)&&!s.values.length||ev.has(e)&&!r.values.length?Iz(t,e):_d(wN(Lz(r,s),s.values),n):qf(t,e)};function xN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Xt(t,e,n):K0(t)(t,e)}const Rz=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>qt.update(e,n),stop:()=>Qo(e),now:()=>Fn.isProcessing?Fn.timestamp:Pr.now()}},bN=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Kf=2e4;function Y0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Kf;)e+=n,r=t.next(e);return e>=Kf?1/0:e}function jz(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Y0(r),Kf);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:pi(s)}}const Dz=5;function _N(t,e,n){const r=Math.max(e-Dz,0);return tN(n-t(r),e-r)}const nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ug=.001;function Oz({duration:t=nn.duration,bounce:e=nn.bounce,velocity:n=nn.velocity,mass:r=nn.mass}){let s,o,l=1-e;l=Xi(nn.minDamping,nn.maxDamping,l),t=Xi(nn.minDuration,nn.maxDuration,pi(t)),l<1?(s=f=>{const p=f*l,y=p*t,x=p-n,E=tv(f,l),k=Math.exp(-y);return Ug-x/E*k},o=f=>{const y=f*l*t,x=y*n+n,E=Math.pow(l,2)*Math.pow(f,2)*t,k=Math.exp(-y),I=tv(Math.pow(f,2),l);return(-s(f)+Ug>0?-1:1)*((x-E)*k)/I}):(s=f=>{const p=Math.exp(-f*t),y=(f-n)*t+1;return-Ug+p*y},o=f=>{const p=Math.exp(-f*t),y=(n-f)*(t*t);return p*y});const c=5/t,u=Fz(s,o,c);if(t=mi(t),isNaN(u))return{stiffness:nn.stiffness,damping:nn.damping,duration:t};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const Vz=12;function Fz(t,e,n){let r=n;for(let s=1;s<Vz;s++)r=r-t(r)/e(r);return r}function tv(t,e){return t*Math.sqrt(1-e*e)}const Uz=["duration","bounce"],zz=["stiffness","damping","mass"];function gE(t,e){return e.some(n=>t[n]!==void 0)}function Bz(t){let e={velocity:nn.velocity,stiffness:nn.stiffness,damping:nn.damping,mass:nn.mass,isResolvedFromDuration:!1,...t};if(!gE(t,zz)&&gE(t,Uz))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Xi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:nn.mass,stiffness:s,damping:o}}else{const n=Oz(t);e={...e,...n,mass:nn.mass},e.isResolvedFromDuration=!0}return e}function Yf(t=nn.visualDuration,e=nn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:u,damping:f,mass:p,duration:y,velocity:x,isResolvedFromDuration:E}=Bz({...n,velocity:-pi(n.velocity||0)}),k=x||0,I=f/(2*Math.sqrt(u*p)),P=l-o,D=pi(Math.sqrt(u/p)),A=Math.abs(P)<5;r||(r=A?nn.restSpeed.granular:nn.restSpeed.default),s||(s=A?nn.restDelta.granular:nn.restDelta.default);let z;if(I<1){const F=tv(D,I);z=R=>{const M=Math.exp(-I*D*R);return l-M*((k+I*D*P)/F*Math.sin(F*R)+P*Math.cos(F*R))}}else if(I===1)z=F=>l-Math.exp(-D*F)*(P+(k+D*P)*F);else{const F=D*Math.sqrt(I*I-1);z=R=>{const M=Math.exp(-I*D*R),T=Math.min(F*R,300);return l-M*((k+I*D*P)*Math.sinh(T)+F*P*Math.cosh(T))/F}}const H={calculatedDuration:E&&y||null,next:F=>{const R=z(F);if(E)c.done=F>=y;else{let M=F===0?k:0;I<1&&(M=F===0?mi(k):_N(z,F,R));const T=Math.abs(M)<=r,C=Math.abs(l-R)<=s;c.done=T&&C}return c.value=c.done?l:R,c},toString:()=>{const F=Math.min(Y0(H),Kf),R=bN(M=>H.next(F*M).value,F,30);return F+"ms "+R},toTransition:()=>{}};return H}Yf.applyToOptions=t=>{const e=jz(t,100,Yf);return t.ease=e.ease,t.duration=mi(e.duration),t.type="keyframes",t};function nv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:u,restDelta:f=.5,restSpeed:p}){const y=t[0],x={done:!1,value:y},E=T=>c!==void 0&&T<c||u!==void 0&&T>u,k=T=>c===void 0?u:u===void 0||Math.abs(c-T)<Math.abs(u-T)?c:u;let I=n*e;const P=y+I,D=l===void 0?P:l(P);D!==P&&(I=D-y);const A=T=>-I*Math.exp(-T/r),z=T=>D+A(T),H=T=>{const C=A(T),O=z(T);x.done=Math.abs(C)<=f,x.value=x.done?D:O};let F,R;const M=T=>{E(x.value)&&(F=T,R=Yf({keyframes:[x.value,k(x.value)],velocity:_N(z,T,x.value),damping:s,stiffness:o,restDelta:f,restSpeed:p}))};return M(0),{calculatedDuration:null,next:T=>{let C=!1;return!R&&F===void 0&&(C=!0,H(T),M(T)),F!==void 0&&T>=F?R.next(T-F):(!C&&H(T),x)}}}function Hz(t,e,n){const r=[],s=n||Ji.mix||xN,o=t.length-1;for(let l=0;l<o;l++){let c=s(t[l],t[l+1]);if(e){const u=Array.isArray(e)?e[l]||fs:e;c=_d(u,c)}r.push(c)}return r}function $z(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(F0(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Hz(e,r,s),u=c.length,f=p=>{if(l&&p<t[0])return e[0];let y=0;if(u>1)for(;y<t.length-2&&!(p<t[y+1]);y++);const x=nd(t[y],t[y+1],p);return c[y](x)};return n?p=>f(Xi(t[0],t[o-1],p)):f}function Wz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=nd(0,e,r);t.push(Xt(n,1,s))}}function Gz(t){const e=[0];return Wz(e,t.length-1),e}function qz(t,e){return t.map(n=>n*e)}function Kz(t,e){return t.map(()=>e||uN).splice(0,t.length-1)}function Ou({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=iz(r)?r.map(dE):dE(r),o={done:!1,value:e[0]},l=qz(n&&n.length===e.length?n:Gz(e),t),c=$z(l,e,{ease:Array.isArray(s)?s:Kz(e,s)});return{calculatedDuration:t,next:u=>(o.value=c(u),o.done=u>=t,o)}}const Yz=t=>t!==null;function Q0(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(Yz),c=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const Qz={decay:nv,inertia:nv,tween:Ou,keyframes:Ou,spring:Yf};function EN(t){typeof t.type=="string"&&(t.type=Qz[t.type])}class X0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Xz=t=>t/100;class J0 extends X0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Pr.now()&&this.tick(Pr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;EN(e);const{type:n=Ou,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:c}=e;const u=n||Ou;u!==Ou&&typeof c[0]!="number"&&(this.mixKeyframes=_d(Xz,xN(c[0],c[1])),c=[0,100]);const f=u({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Y0(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:y,repeatType:x,repeatDelay:E,type:k,onUpdate:I,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-f*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let z=this.currentTime,H=r;if(y){const T=Math.min(this.currentTime,s)/c;let C=Math.floor(T),O=T%1;!O&&T>=1&&(O=1),O===1&&C--,C=Math.min(C,y+1),!!(C%2)&&(x==="reverse"?(O=1-O,E&&(O-=E/c)):x==="mirror"&&(H=l)),z=Xi(0,1,O)*c}const F=A?{done:!1,value:p[0]}:H.next(z);o&&(F.value=o(F.value));let{done:R}=F;!A&&u!==null&&(R=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return M&&k!==nv&&(F.value=Q0(p,this.options,P,this.speed)),I&&I(F.value),M&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return pi(this.calculatedDuration)}get time(){return pi(this.currentTime)}set time(e){e=mi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Rz,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Jz(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Aa=t=>t*180/Math.PI,rv=t=>{const e=Aa(Math.atan2(t[1],t[0]));return sv(e)},Zz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rv,rotateZ:rv,skewX:t=>Aa(Math.atan(t[1])),skewY:t=>Aa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sv=t=>(t=t%360,t<0&&(t+=360),t),yE=rv,vE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),wE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),eB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vE,scaleY:wE,scale:t=>(vE(t)+wE(t))/2,rotateX:t=>sv(Aa(Math.atan2(t[6],t[5]))),rotateY:t=>sv(Aa(Math.atan2(-t[2],t[0]))),rotateZ:yE,rotate:yE,skewX:t=>Aa(Math.atan(t[4])),skewY:t=>Aa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function iv(t){return t.includes("scale")?1:0}function ov(t,e){if(!t||t==="none")return iv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=eB,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Zz,s=c}if(!s)return iv(e);const o=r[e],l=s[1].split(",").map(nB);return typeof o=="function"?o(l):l[o]}const tB=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ov(n,e)};function nB(t){return parseFloat(t.trim())}const Ec=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kc=new Set(Ec),xE=t=>t===_c||t===Je,rB=new Set(["x","y","z"]),sB=Ec.filter(t=>!rB.has(t));function iB(t){const e=[];return sB.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Va={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ov(e,"x"),y:(t,{transform:e})=>ov(e,"y")};Va.translateX=Va.x;Va.translateY=Va.y;const Fa=new Set;let av=!1,lv=!1,cv=!1;function kN(){if(lv){const t=Array.from(Fa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=iB(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lv=!1,av=!1,Fa.forEach(t=>t.complete(cv)),Fa.clear()}function SN(){Fa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lv=!0)})}function oB(){cv=!0,SN(),kN(),cv=!1}class Z0{constructor(e,n,r,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Fa.add(this),av||(av=!0,qt.read(SN),qt.resolveKeyframes(kN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}Jz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fa.delete(this)}cancel(){this.state==="scheduled"&&(Fa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aB=t=>t.startsWith("--");function lB(t,e,n){aB(e)?t.style.setProperty(e,n):t.style[e]=n}const cB=U0(()=>window.ScrollTimeline!==void 0),uB={};function dB(t,e){const n=U0(t);return()=>uB[e]??n()}const TN=dB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,bE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tu([0,.65,.55,1]),circOut:Tu([.55,0,1,.45]),backIn:Tu([.31,.01,.66,-.59]),backOut:Tu([.33,1.53,.69,.99])};function CN(t,e){if(t)return typeof t=="function"?TN()?bN(t,e):"ease-out":dN(t)?Tu(t):Array.isArray(t)?t.map(n=>CN(n,e)||bE.easeOut):bE[t]}function hB(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:u}={},f=void 0){const p={[e]:n};u&&(p.offset=u);const y=CN(c,s);Array.isArray(y)&&(p.easing=y);const x={delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),t.animate(p,x)}function PN(t){return typeof t=="function"&&"applyToOptions"in t}function fB({type:t,...e}){return PN(t)&&TN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mB extends X0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,F0(typeof e.type!="string");const f=fB(e);this.animation=hB(n,r,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Q0(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):lB(n,r,p),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return pi(Number(e))}get time(){return pi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&cB()?(this.animation.timeline=e,fs):n(this)}}const IN={anticipate:aN,backInOut:oN,circInOut:cN};function pB(t){return t in IN}function gB(t){typeof t.ease=="string"&&pB(t.ease)&&(t.ease=IN[t.ease])}const _E=10;class yB extends mB{constructor(e){gB(e),EN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new J0({...l,autoplay:!1}),u=mi(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-_E).value,c.sample(u).value,_E),c.stop()}}const EE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xo.test(t)||t==="0")&&!t.startsWith("url("));function vB(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function wB(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=EE(s,e),c=EE(o,e);return!l||!c?!1:vB(t)||(n==="spring"||PN(n))&&r}function uv(t){t.duration=0,t.type}const xB=new Set(["opacity","clipPath","filter","transform"]),bB=U0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _B(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return bB()&&n&&xB.has(n)&&(n!=="transform"||!f)&&!u&&!r&&s!=="mirror"&&o!==0&&l!=="inertia"}const EB=40;class kB extends X0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:u,motionValue:f,element:p,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pr.now();const x={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:l,name:u,motionValue:f,element:p,...y},E=p?.KeyframeResolver||Z0;this.keyframeResolver=new E(c,(k,I,P)=>this.onKeyframesResolved(k,I,x,!P),u,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:u,isHandoff:f,onUpdate:p}=r;this.resolvedAt=Pr.now(),wB(e,o,l,c)||((Ji.instantAnimations||!u)&&p?.(Q0(e,r,n)),e[0]=e[e.length-1],uv(r),r.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>EB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},E=!f&&_B(x)?new yB({...x,element:x.motionValue.owner.current}):new J0(x);E.finished.then(()=>this.notifyFinished()).catch(fs),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),oB()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const SB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TB(t){const e=SB.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function NN(t,e,n=1){const[r,s]=TB(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return JI(l)?parseFloat(l):l}return W0(s)?NN(s,e,n+1):s}function ew(t,e){return t?.[e]??t?.default??t}const MN=new Set(["width","height","top","left","right","bottom",...Ec]),CB={test:t=>t==="auto",parse:t=>t},LN=t=>e=>e.test(t),AN=[_c,Je,gi,To,vz,yz,CB],kE=t=>AN.find(LN(t));function PB(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||eN(t):!0}const IB=new Set(["brightness","contrast","saturate","opacity"]);function NB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(G0)||[];if(!r)return t;const s=n.replace(r,"");let o=IB.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const MB=/\b([a-z-]*)\(.*?\)/gu,dv={...Xo,getAnimatableNone:t=>{const e=t.match(MB);return e?e.map(NB).join(" "):t}},SE={..._c,transform:Math.round},LB={rotate:To,rotateX:To,rotateY:To,rotateZ:To,scale:$h,scaleX:$h,scaleY:$h,scaleZ:$h,skew:To,skewX:To,skewY:To,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:rd,originX:hE,originY:hE,originZ:Je},tw={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je,...LB,zIndex:SE,fillOpacity:rd,strokeOpacity:rd,numOctaves:SE},AB={...tw,color:yn,backgroundColor:yn,outlineColor:yn,fill:yn,stroke:yn,borderColor:yn,borderTopColor:yn,borderRightColor:yn,borderBottomColor:yn,borderLeftColor:yn,filter:dv,WebkitFilter:dv},RN=t=>AB[t];function jN(t,e){let n=RN(t);return n!==dv&&(n=Xo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const RB=new Set(["auto","none","0"]);function jB(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!RB.has(o)&&sd(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=jN(n,s)}class DB extends Z0{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),W0(f))){const p=NN(f,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!MN.has(r)||e.length!==2)return;const[s,o]=e,l=kE(s),c=kE(o);if(l!==c)if(xE(l)&&xE(c))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else Va[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||PB(e[s]))&&r.push(s);r.length&&jB(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Va[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=Va[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function OB(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const DN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ON(t){return ZI(t)&&"offsetHeight"in t}const TE=30,VB=t=>!isNaN(parseFloat(t));class FB{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Pr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new z0);const r=this.events[e].add(n);return e==="change"?()=>{r(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>TE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,TE);return tN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lc(t,e){return new FB(t,e)}const{schedule:nw}=hN(queueMicrotask,!1),Cs={x:!1,y:!1};function VN(){return Cs.x||Cs.y}function UB(t){return t==="x"||t==="y"?Cs[t]?null:(Cs[t]=!0,()=>{Cs[t]=!1}):Cs.x||Cs.y?null:(Cs.x=Cs.y=!0,()=>{Cs.x=Cs.y=!1})}function FN(t,e){const n=OB(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function CE(t){return!(t.pointerType==="touch"||VN())}function zB(t,e,n={}){const[r,s,o]=FN(t,n),l=c=>{if(!CE(c))return;const{target:u}=c,f=e(u,c);if(typeof f!="function"||!u)return;const p=y=>{CE(y)&&(f(y),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),o}const UN=(t,e)=>e?t===e?!0:UN(t,e.parentElement):!1,rw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,BB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HB(t){return BB.has(t.tagName)||t.tabIndex!==-1}const mf=new WeakSet;function PE(t){return e=>{e.key==="Enter"&&t(e)}}function zg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $B=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=PE(()=>{if(mf.has(n))return;zg(n,"down");const s=PE(()=>{zg(n,"up")}),o=()=>zg(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function IE(t){return rw(t)&&!VN()}function WB(t,e,n={}){const[r,s,o]=FN(t,n),l=c=>{const u=c.currentTarget;if(!IE(c))return;mf.add(u);const f=e(u,c),p=(E,k)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",x),mf.has(u)&&mf.delete(u),IE(E)&&typeof f=="function"&&f(E,{success:k})},y=E=>{p(E,u===window||u===document||n.useGlobalTarget||UN(u,E.target))},x=E=>{p(E,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",x,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),ON(c)&&(c.addEventListener("focus",f=>$B(f,s)),!HB(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function zN(t){return ZI(t)&&"ownerSVGElement"in t}function GB(t){return zN(t)&&t.tagName==="svg"}const rr=t=>!!(t&&t.getVelocity),qB=[...AN,yn,Xo],KB=t=>qB.find(LN(t)),sw=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class YB extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=ON(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function QB({children:t,isPresent:e,anchorX:n,root:r}){const s=v.useId(),o=v.useRef(null),l=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=v.useContext(sw);return v.useInsertionEffect(()=>{const{width:u,height:f,top:p,left:y,right:x}=l.current;if(e||!o.current||!u||!f)return;const E=n==="left"?`left: ${y}`:`right: ${x}`;o.current.dataset.motionPopId=s;const k=document.createElement("style");c&&(k.nonce=c);const I=r??document.head;return I.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{I.contains(k)&&I.removeChild(k)}},[e]),h.jsx(YB,{isPresent:e,childRef:o,sizeRef:l,children:v.cloneElement(t,{ref:o})})}const XB=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:l,anchorX:c,root:u})=>{const f=j0(JB),p=v.useId();let y=!0,x=v.useMemo(()=>(y=!1,{id:p,initial:e,isPresent:n,custom:s,onExitComplete:E=>{f.set(E,!0);for(const k of f.values())if(!k)return;r&&r()},register:E=>(f.set(E,!1),()=>f.delete(E))}),[n,f,r]);return o&&y&&(x={...x}),v.useMemo(()=>{f.forEach((E,k)=>f.set(k,!1))},[n]),v.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),l==="popLayout"&&(t=h.jsx(QB,{isPresent:n,anchorX:c,root:u,children:t})),h.jsx(Dm.Provider,{value:x,children:t})};function JB(){return new Map}function BN(t=!0){const e=v.useContext(Dm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=v.useId();v.useEffect(()=>{if(t)return s(o)},[t]);const l=v.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const Wh=t=>t.key||"";function NE(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const hv=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:u})=>{const[f,p]=BN(l),y=v.useMemo(()=>NE(t),[t]),x=l&&!f?[]:y.map(Wh),E=v.useRef(!0),k=v.useRef(y),I=j0(()=>new Map),[P,D]=v.useState(y),[A,z]=v.useState(y);XI(()=>{E.current=!1,k.current=y;for(let R=0;R<A.length;R++){const M=Wh(A[R]);x.includes(M)?I.delete(M):I.get(M)!==!0&&I.set(M,!1)}},[A,x.length,x.join("-")]);const H=[];if(y!==P){let R=[...y];for(let M=0;M<A.length;M++){const T=A[M],C=Wh(T);x.includes(C)||(R.splice(M,0,T),H.push(T))}return o==="wait"&&H.length&&(R=H),z(NE(R)),D(y),null}const{forceRender:F}=v.useContext(R0);return h.jsx(h.Fragment,{children:A.map(R=>{const M=Wh(R),T=l&&!f?!1:y===A||x.includes(M),C=()=>{if(I.has(M))I.set(M,!0);else return;let O=!0;I.forEach(V=>{V||(O=!1)}),O&&(F?.(),z(k.current),l&&p?.(),r&&r())};return h.jsx(XB,{isPresent:T,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:u,onExitComplete:T?void 0:C,anchorX:c,children:R},M)})})},HN=v.createContext({strict:!1}),ME={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cc={};for(const t in ME)cc[t]={isEnabled:e=>ME[t].some(n=>!!e[n])};function ZB(t){for(const e in t)cc[e]={...cc[e],...t[e]}}const e7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||e7.has(t)}let $N=t=>!Qf(t);function t7(t){typeof t=="function"&&($N=e=>e.startsWith("on")?!Qf(e):t(e))}try{t7(require("@emotion/is-prop-valid").default)}catch{}function n7(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||($N(s)||n===!0&&Qf(s)||!e&&!Qf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Om=v.createContext({});function Vm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function id(t){return typeof t=="string"||Array.isArray(t)}const iw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ow=["initial",...iw];function Fm(t){return Vm(t.animate)||ow.some(e=>id(t[e]))}function WN(t){return!!(Fm(t)||t.variants)}function r7(t,e){if(Fm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||id(n)?n:void 0,animate:id(r)?r:void 0}}return t.inherit!==!1?e:{}}function s7(t){const{initial:e,animate:n}=r7(t,v.useContext(Om));return v.useMemo(()=>({initial:e,animate:n}),[LE(e),LE(n)])}function LE(t){return Array.isArray(t)?t.join(" "):t}const od={};function i7(t){for(const e in t)od[e]=t[e],$0(e)&&(od[e].isCSSVariable=!0)}function GN(t,{layout:e,layoutId:n}){return kc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!od[t]||t==="opacity")}const o7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},a7=Ec.length;function l7(t,e,n){let r="",s=!0;for(let o=0;o<a7;o++){const l=Ec[o],c=t[l];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(l.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const f=DN(c,tw[l]);if(!u){s=!1;const p=o7[l]||l;r+=`${p}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function aw(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let l=!1,c=!1;for(const u in e){const f=e[u];if(kc.has(u)){l=!0;continue}else if($0(u)){s[u]=f;continue}else{const p=DN(f,tw[u]);u.startsWith("origin")?(c=!0,o[u]=p):r[u]=p}}if(e.transform||(l||n?r.transform=l7(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:f="50%",originZ:p=0}=o;r.transformOrigin=`${u} ${f} ${p}`}}const lw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qN(t,e,n){for(const r in e)!rr(e[r])&&!GN(r,n)&&(t[r]=e[r])}function c7({transformTemplate:t},e){return v.useMemo(()=>{const n=lw();return aw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function u7(t,e){const n=t.style||{},r={};return qN(r,n,t),Object.assign(r,c7(t,e)),r}function d7(t,e){const n={},r=u7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const h7={offset:"stroke-dashoffset",array:"stroke-dasharray"},f7={offset:"strokeDashoffset",array:"strokeDasharray"};function m7(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?h7:f7;t[o.offset]=Je.transform(-r);const l=Je.transform(e),c=Je.transform(n);t[o.array]=`${l} ${c}`}function KN(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},u,f,p){if(aw(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x}=t;y.transform&&(x.transform=y.transform,delete y.transform),(x.transform||y.transformOrigin)&&(x.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),x.transform&&(x.transformBox=p?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&m7(y,s,o,l,!1)}const YN=()=>({...lw(),attrs:{}}),QN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function p7(t,e,n,r){const s=v.useMemo(()=>{const o=YN();return KN(o,e,QN(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};qN(o,t.style,t),s.style={...o,...s.style}}return s}const g7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cw(t){return typeof t!="string"||t.includes("-")?!1:!!(g7.indexOf(t)>-1||/[A-Z]/u.test(t))}function y7(t,e,n,{latestValues:r},s,o=!1){const c=(cw(t)?p7:d7)(e,r,s,t),u=n7(e,typeof t=="string",o),f=t!==v.Fragment?{...u,...c,ref:n}:{},{children:p}=e,y=v.useMemo(()=>rr(p)?p.get():p,[p]);return v.createElement(t,{...f,children:y})}function AE(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function uw(t,e,n,r){if(typeof e=="function"){const[s,o]=AE(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=AE(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function pf(t){return rr(t)?t.get():t}function v7({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:w7(n,r,s,t),renderState:e()}}function w7(t,e,n,r){const s={},o=r(t,{});for(const x in o)s[x]=pf(o[x]);let{initial:l,animate:c}=t;const u=Fm(t),f=WN(t);e&&f&&!u&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const y=p?c:l;if(y&&typeof y!="boolean"&&!Vm(y)){const x=Array.isArray(y)?y:[y];for(let E=0;E<x.length;E++){const k=uw(t,x[E]);if(k){const{transitionEnd:I,transition:P,...D}=k;for(const A in D){let z=D[A];if(Array.isArray(z)){const H=p?z.length-1:0;z=z[H]}z!==null&&(s[A]=z)}for(const A in I)s[A]=I[A]}}}return s}const XN=t=>(e,n)=>{const r=v.useContext(Om),s=v.useContext(Dm),o=()=>v7(t,e,r,s);return n?o():j0(o)};function dw(t,e,n){const{style:r}=t,s={};for(const o in r)(rr(r[o])||e.style&&rr(e.style[o])||GN(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}const x7=XN({scrapeMotionValuesFromProps:dw,createRenderState:lw});function JN(t,e,n){const r=dw(t,e,n);for(const s in t)if(rr(t[s])||rr(e[s])){const o=Ec.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const b7=XN({scrapeMotionValuesFromProps:JN,createRenderState:YN}),_7=Symbol.for("motionComponentSymbol");function Bl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function E7(t,e,n){return v.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Bl(n)&&(n.current=r))},[e])}const hw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),k7="framerAppearId",ZN="data-"+hw(k7),eM=v.createContext({});function S7(t,e,n,r,s){const{visualElement:o}=v.useContext(Om),l=v.useContext(HN),c=v.useContext(Dm),u=v.useContext(sw).reducedMotion,f=v.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=f.current,y=v.useContext(eM);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&T7(f.current,n,s,y);const x=v.useRef(!1);v.useInsertionEffect(()=>{p&&x.current&&p.update(n,c)});const E=n[ZN],k=v.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return XI(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),k.current&&p.animationState&&p.animationState.animateChanges())}),v.useEffect(()=>{p&&(!k.current&&p.animationState&&p.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),k.current=!1),p.enteringChildren=void 0)}),p}function T7(t,e,n,r){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tM(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&Bl(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:u,layoutRoot:f})}function tM(t){if(t)return t.options.allowProjection!==!1?t.projection:tM(t.parent)}function Bg(t,{forwardMotionProps:e=!1}={},n,r){n&&ZB(n);const s=cw(t)?b7:x7;function o(c,u){let f;const p={...v.useContext(sw),...c,layoutId:C7(c)},{isStatic:y}=p,x=s7(c),E=s(c,y);if(!y&&D0){P7();const k=I7(p);f=k.MeasureLayout,x.visualElement=S7(t,E,p,r,k.ProjectionNode)}return h.jsxs(Om.Provider,{value:x,children:[f&&x.visualElement?h.jsx(f,{visualElement:x.visualElement,...p}):null,y7(t,c,E7(E,x.visualElement,u),E,y,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=v.forwardRef(o);return l[_7]=t,l}function C7({layoutId:t}){const e=v.useContext(R0).id;return e&&t!==void 0?e+"-"+t:t}function P7(t,e){v.useContext(HN).strict}function I7(t){const{drag:e,layout:n}=cc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function N7(t,e){if(typeof Proxy>"u")return Bg;const n=new Map,r=(o,l)=>Bg(o,l,t,e),s=(o,l)=>r(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?r:(n.has(l)||n.set(l,Bg(l,void 0,t,e)),n.get(l))})}function nM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function M7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function L7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Hg(t){return t===void 0||t===1}function fv({scale:t,scaleX:e,scaleY:n}){return!Hg(t)||!Hg(e)||!Hg(n)}function Ca(t){return fv(t)||rM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function rM(t){return RE(t.x)||RE(t.y)}function RE(t){return t&&t!=="0%"}function Xf(t,e,n){const r=t-n,s=e*r;return n+s}function jE(t,e,n,r,s){return s!==void 0&&(t=Xf(t,s,r)),Xf(t,n,r)+e}function mv(t,e=0,n=1,r,s){t.min=jE(t.min,e,n,r,s),t.max=jE(t.max,e,n,r,s)}function sM(t,{x:e,y:n}){mv(t.x,e.translate,e.scale,e.originPoint),mv(t.y,n.translate,n.scale,n.originPoint)}const DE=.999999999999,OE=1.0000000000001;function A7(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&$l(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,sM(t,l)),r&&Ca(o.latestValues)&&$l(t,o.latestValues))}e.x<OE&&e.x>DE&&(e.x=1),e.y<OE&&e.y>DE&&(e.y=1)}function Hl(t,e){t.min=t.min+e,t.max=t.max+e}function VE(t,e,n,r,s=.5){const o=Xt(t.min,t.max,s);mv(t,e,n,o,r)}function $l(t,e){VE(t.x,e.x,e.scaleX,e.scale,e.originX),VE(t.y,e.y,e.scaleY,e.scale,e.originY)}function iM(t,e){return nM(L7(t.getBoundingClientRect(),e))}function R7(t,e,n){const r=iM(t,n),{scroll:s}=e;return s&&(Hl(r.x,s.offset.x),Hl(r.y,s.offset.y)),r}const FE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wl=()=>({x:FE(),y:FE()}),UE=()=>({min:0,max:0}),ln=()=>({x:UE(),y:UE()}),pv={current:null},oM={current:!1};function j7(){if(oM.current=!0,!!D0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pv.current=t.matches;t.addEventListener("change",e),e()}else pv.current=!1}const D7=new WeakMap;function O7(t,e,n){for(const r in e){const s=e[r],o=n[r];if(rr(s))t.addValue(r,s);else if(rr(o))t.addValue(r,lc(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,lc(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class V7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Z0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Pr.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,qt.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Fm(n),this.isVariantNode=WN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in y){const E=y[x];u[x]!==void 0&&rr(E)&&E.set(u[x])}}mount(e){this.current=e,D7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oM.current||j7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qo(this.notifyUpdate),Qo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=kc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&qt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cc){const n=cc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zE.length;r++){const s=zE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=O7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=lc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(JI(r)||eN(r))?r=parseFloat(r):!KB(r)&&Xo.test(n)&&(r=jN(e,n)),this.setBaseTarget(e,rr(r)?r.get():r)),rr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=uw(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!rr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new z0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){nw.render(this.render)}}class aM extends V7{constructor(){super(...arguments),this.KeyframeResolver=DB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function lM(t,{style:e,vars:n},r,s){const o=t.style;let l;for(l in e)o[l]=e[l];s?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function F7(t){return window.getComputedStyle(t)}class U7 extends aM{constructor(){super(...arguments),this.type="html",this.renderInstance=lM}readValueFromInstance(e,n){if(kc.has(n))return this.projection?.isProjecting?iv(n):tB(e,n);{const r=F7(e),s=($0(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return iM(e,n)}build(e,n,r){aw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return dw(e,n,r)}}const cM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function z7(t,e,n,r){lM(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(cM.has(s)?s:hw(s),e.attrs[s])}class B7 extends aM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(kc.has(n)){const r=RN(n);return r&&r.default||0}return n=cM.has(n)?n:hw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return JN(e,n,r)}build(e,n,r){KN(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){z7(e,n,r,s)}mount(e){this.isSVGTag=QN(e.tagName),super.mount(e)}}const H7=(t,e)=>cw(t)?new B7(e):new U7(e,{allowProjection:t!==v.Fragment});function Zl(t,e,n){const r=t.getProps();return uw(r,e,n!==void 0?n:r.custom,t)}const gv=t=>Array.isArray(t);function $7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,lc(n))}function W7(t){return gv(t)?t[t.length-1]||0:t}function G7(t,e){const n=Zl(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const l in o){const c=W7(o[l]);$7(t,l,c)}}function q7(t){return!!(rr(t)&&t.add)}function yv(t,e){const n=t.getValue("willChange");if(q7(n))return n.add(e);if(!n&&Ji.WillChange){const r=new Ji.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function uM(t){return t.props[ZN]}const K7=t=>t!==null;function Y7(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(K7),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const Q7={type:"spring",stiffness:500,damping:25,restSpeed:10},X7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),J7={type:"keyframes",duration:.8},Z7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eH=(t,{keyframes:e})=>e.length>2?J7:kc.has(t)?t.startsWith("scale")?X7(e[1]):Q7:Z7;function tH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:u,elapsed:f,...p}){return!!Object.keys(p).length}const fw=(t,e,n,r={},s,o)=>l=>{const c=ew(r,t)||{},u=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-mi(u);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};tH(c)||Object.assign(p,eH(t,p)),p.duration&&(p.duration=mi(p.duration)),p.repeatDelay&&(p.repeatDelay=mi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(uv(p),p.delay===0&&(y=!0)),(Ji.instantAnimations||Ji.skipAnimations)&&(y=!0,uv(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,y&&!o&&e.get()!==void 0){const x=Y7(p.keyframes,c);if(x!==void 0){qt.update(()=>{p.onUpdate(x),p.onComplete()});return}}return c.isSync?new J0(p):new kB(p)};function nH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function dM(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const u=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const p in c){const y=t.getValue(p,t.latestValues[p]??null),x=c[p];if(x===void 0||f&&nH(f,p))continue;const E={delay:n,...ew(o||{},p)},k=y.get();if(k!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===k&&!E.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const D=uM(t);if(D){const A=window.MotionHandoffAnimation(D,p,qt);A!==null&&(E.startTime=A,I=!0)}}yv(t,p),y.start(fw(p,y,x,t.shouldReduceMotion&&MN.has(p)?{type:!1}:E,t,I));const P=y.animation;P&&u.push(P)}return l&&Promise.all(u).then(()=>{qt.update(()=>{l&&G7(t,l)})}),u}function hM(t,e,n,r=0,s=1){const o=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(o,l):s===1?o*r:c-o*r}function vv(t,e,n={}){const r=Zl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(dM(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:y}=s;return rH(t,e,u,f,p,y,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,f]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>f())}else return Promise.all([o(),l(n.delay)])}function rH(t,e,n=0,r=0,s=0,o=1,l){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(vv(u,e,{...l,delay:n+(typeof r=="function"?0:r)+hM(t.variantChildren,u,r,s,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function sH(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>vv(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=vv(t,e,n);else{const s=typeof e=="function"?Zl(t,e,n.custom):e;r=Promise.all(dM(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function fM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const iH=ow.length;function mM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?mM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<iH;n++){const r=ow[n],s=t.props[r];(id(s)||s===!1)&&(e[r]=s)}return e}const oH=[...iw].reverse(),aH=iw.length;function lH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>sH(t,n,r)))}function cH(t){let e=lH(t),n=BE(),r=!0;const s=u=>(f,p)=>{const y=Zl(t,p,u==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:x,transitionEnd:E,...k}=y;f={...f,...k,...E}}return f};function o(u){e=u(t)}function l(u){const{props:f}=t,p=mM(t.parent)||{},y=[],x=new Set;let E={},k=1/0;for(let P=0;P<aH;P++){const D=oH[P],A=n[D],z=f[D]!==void 0?f[D]:p[D],H=id(z),F=D===u?A.isActive:null;F===!1&&(k=P);let R=z===p[D]&&z!==f[D]&&H;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),A.protectedKeys={...E},!A.isActive&&F===null||!z&&!A.prevProp||Vm(z)||typeof z=="boolean")continue;const M=uH(A.prevProp,z);let T=M||D===u&&A.isActive&&!R&&H||P>k&&H,C=!1;const O=Array.isArray(z)?z:[z];let V=O.reduce(s(D),{});F===!1&&(V={});const{prevResolvedValues:$={}}=A,L={...$,...V},le=re=>{T=!0,x.has(re)&&(C=!0,x.delete(re)),A.needsAnimating[re]=!0;const B=t.getValue(re);B&&(B.liveStyle=!1)};for(const re in L){const B=V[re],ue=$[re];if(E.hasOwnProperty(re))continue;let oe=!1;gv(B)&&gv(ue)?oe=!fM(B,ue):oe=B!==ue,oe?B!=null?le(re):x.add(re):B!==void 0&&x.has(re)?le(re):A.protectedKeys[re]=!0}A.prevProp=z,A.prevResolvedValues=V,A.isActive&&(E={...E,...V}),r&&t.blockInitialAnimation&&(T=!1);const pe=R&&M;T&&(!pe||C)&&y.push(...O.map(re=>{const B={type:D};if(typeof re=="string"&&r&&!pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ue}=t,oe=Zl(ue,re);if(ue.enteringChildren&&oe){const{delayChildren:G}=oe.transition||{};B.delay=hM(ue.enteringChildren,t,G)}}return{animation:re,options:B}}))}if(x.size){const P={};if(typeof f.initial!="boolean"){const D=Zl(t,Array.isArray(f.initial)?f.initial[0]:f.initial);D&&D.transition&&(P.transition=D.transition)}x.forEach(D=>{const A=t.getBaseTarget(D),z=t.getValue(D);z&&(z.liveStyle=!0),P[D]=A??null}),y.push({animation:P})}let I=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(y):Promise.resolve()}function c(u,f){if(n[u].isActive===f)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(u,f)),n[u].isActive=f;const p=l(u);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=BE(),r=!0}}}function uH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fM(e,t):!1}function ka(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BE(){return{animate:ka(!0),whileInView:ka(),whileHover:ka(),whileTap:ka(),whileDrag:ka(),whileFocus:ka(),exit:ka()}}class ta{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dH extends ta{constructor(e){super(e),e.animationState||(e.animationState=cH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let hH=0;class fH extends ta{constructor(){super(...arguments),this.id=hH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const mH={animation:{Feature:dH},exit:{Feature:fH}};function ad(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Sd(t){return{point:{x:t.pageX,y:t.pageY}}}const pH=t=>e=>rw(e)&&t(e,Sd(e));function Vu(t,e,n,r){return ad(t,e,pH(n),r)}const pM=1e-4,gH=1-pM,yH=1+pM,gM=.01,vH=0-gM,wH=0+gM;function gr(t){return t.max-t.min}function xH(t,e,n){return Math.abs(t-e)<=n}function HE(t,e,n,r=.5){t.origin=r,t.originPoint=Xt(e.min,e.max,t.origin),t.scale=gr(n)/gr(e),t.translate=Xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gH&&t.scale<=yH||isNaN(t.scale))&&(t.scale=1),(t.translate>=vH&&t.translate<=wH||isNaN(t.translate))&&(t.translate=0)}function Fu(t,e,n,r){HE(t.x,e.x,n.x,r?r.originX:void 0),HE(t.y,e.y,n.y,r?r.originY:void 0)}function $E(t,e,n){t.min=n.min+e.min,t.max=t.min+gr(e)}function bH(t,e,n){$E(t.x,e.x,n.x),$E(t.y,e.y,n.y)}function WE(t,e,n){t.min=e.min-n.min,t.max=t.min+gr(e)}function Uu(t,e,n){WE(t.x,e.x,n.x),WE(t.y,e.y,n.y)}function os(t){return[t("x"),t("y")]}const yM=({current:t})=>t?t.ownerDocument.defaultView:null,GE=(t,e)=>Math.abs(t-e);function _H(t,e){const n=GE(t.x,e.x),r=GE(t.y,e.y);return Math.sqrt(n**2+r**2)}class vM{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Wg(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,k=_H(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!k)return;const{point:I}=x,{timestamp:P}=Fn;this.history.push({...I,timestamp:P});const{onStart:D,onMove:A}=this.handlers;E||(D&&D(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,x)},this.handlePointerMove=(x,E)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=$g(E,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(x,E)=>{this.end();const{onEnd:k,onSessionEnd:I,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Wg(x.type==="pointercancel"?this.lastMoveEventInfo:$g(E,this.transformPagePoint),this.history);this.startEvent&&k&&k(x,D),I&&I(x,D)},!rw(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const c=Sd(e),u=$g(c,this.transformPagePoint),{point:f}=u,{timestamp:p}=Fn;this.history=[{...f,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,Wg(u,this.history)),this.removeListeners=_d(Vu(this.contextWindow,"pointermove",this.handlePointerMove),Vu(this.contextWindow,"pointerup",this.handlePointerUp),Vu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qo(this.updatePoint)}}function $g(t,e){return e?{point:e(t.point)}:t}function qE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wg({point:t},e){return{point:t,delta:qE(t,wM(e)),offset:qE(t,EH(e)),velocity:kH(e,.1)}}function EH(t){return t[0]}function wM(t){return t[t.length-1]}function kH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=wM(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>mi(e)));)n--;if(!r)return{x:0,y:0};const o=pi(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function SH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Xt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Xt(n,t,r.max):Math.min(t,n)),t}function KE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TH(t,{top:e,left:n,bottom:r,right:s}){return{x:KE(t.x,n,s),y:KE(t.y,e,r)}}function YE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function CH(t,e){return{x:YE(t.x,e.x),y:YE(t.y,e.y)}}function PH(t,e){let n=.5;const r=gr(t),s=gr(e);return s>r?n=nd(e.min,e.max-r,t.min):r>s&&(n=nd(t.min,t.max-s,e.min)),Xi(0,1,n)}function IH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const wv=.35;function NH(t=wv){return t===!1?t=0:t===!0&&(t=wv),{x:QE(t,"left","right"),y:QE(t,"top","bottom")}}function QE(t,e,n){return{min:XE(t,e),max:XE(t,n)}}function XE(t,e){return typeof t=="number"?t:t[e]||0}const MH=new WeakMap;class LH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sd(y).point)},l=(y,x)=>{const{drag:E,dragPropagation:k,onDragStart:I}=this.getProps();if(E&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UB(E),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),os(D=>{let A=this.getAxisMotionValue(D).get()||0;if(gi.test(A)){const{projection:z}=this.visualElement;if(z&&z.layout){const H=z.layout.layoutBox[D];H&&(A=gr(H)*(parseFloat(A)/100))}}this.originPoint[D]=A}),I&&qt.postRender(()=>I(y,x)),yv(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},c=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x;const{dragPropagation:E,dragDirectionLock:k,onDirectionLock:I,onDrag:P}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:D}=x;if(k&&this.currentDirection===null){this.currentDirection=AH(D),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",x.point,D),this.updateAxis("y",x.point,D),this.visualElement.render(),P&&P(y,x)},u=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x,this.stop(y,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>os(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new vM(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:yM(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&qt.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Gh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=SH(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Bl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=TH(r.layoutBox,e):this.constraints=!1,this.elastic=NH(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&os(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=IH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=R7(r,s.root,this.visualElement.getTransformPagePoint());let l=CH(s.layout.layoutBox,o);if(n){const c=n(M7(l));this.hasMutatedConstraints=!!c,c&&(l=nM(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},f=os(p=>{if(!Gh(p,n,this.currentDirection))return;let y=u&&u[p]||{};l&&(y={min:0,max:0});const x=s?200:1e6,E=s?40:1e7,k={type:"inertia",velocity:r?e[p]:0,bounceStiffness:x,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(p,k)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return yv(this.visualElement,e),r.start(fw(e,r,0,n,this.visualElement,!1))}stopAnimation(){os(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){os(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){os(n=>{const{drag:r}=this.getProps();if(!Gh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];o.set(e[n]-Xt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};os(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();s[l]=PH({min:u,max:u},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),os(l=>{if(!Gh(l,e,null))return;const c=this.getAxisMotionValue(l),{min:u,max:f}=this.constraints[l];c.set(Xt(u,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;MH.set(this.visualElement,this);const e=this.visualElement.current,n=Vu(e,"pointerdown",u=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Bl(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),qt.read(r);const l=ad(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(os(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=u[p].translate,y.set(y.get()+u[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=wv,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Gh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function AH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class RH extends ta{constructor(e){super(e),this.removeGroupControls=fs,this.removeListeners=fs,this.controls=new LH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const JE=t=>(e,n)=>{t&&qt.postRender(()=>t(e,n))};class jH extends ta{constructor(){super(...arguments),this.removePointerDownListener=fs}onPointerDown(e){this.session=new vM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:JE(e),onStart:JE(n),onMove:r,onEnd:(o,l)=>{delete this.session,s&&qt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=Vu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Je.test(t))t=parseFloat(t);else return t;const n=ZE(t,e.target.x),r=ZE(t,e.target.y);return`${n}% ${r}%`}},DH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Xo.parse(t);if(s.length>5)return r;const o=Xo.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=u;const f=Xt(c,u,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),o(s)}};let Gg=!1;class OH extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;i7(VH),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),Gg&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),gf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,Gg=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||qt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),nw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Gg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xM(t){const[e,n]=BN(),r=v.useContext(R0);return h.jsx(OH,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(eM),isPresent:e,safeToRemove:n})}const VH={borderRadius:{...fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:DH};function FH(t,e,n){const r=rr(t)?t:lc(t);return r.start(fw("",r,e,n)),r.animation}const UH=(t,e)=>t.depth-e.depth;class zH{constructor(){this.children=[],this.isDirty=!1}add(e){O0(this.children,e),this.isDirty=!0}remove(e){V0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UH),this.isDirty=!1,this.children.forEach(e)}}function BH(t,e){const n=Pr.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Qo(r),t(o-e))};return qt.setup(r,!0),()=>Qo(r)}const bM=["TopLeft","TopRight","BottomLeft","BottomRight"],HH=bM.length,ek=t=>typeof t=="string"?parseFloat(t):t,tk=t=>typeof t=="number"||Je.test(t);function $H(t,e,n,r,s,o){s?(t.opacity=Xt(0,n.opacity??1,WH(r)),t.opacityExit=Xt(e.opacity??1,0,GH(r))):o&&(t.opacity=Xt(e.opacity??1,n.opacity??1,r));for(let l=0;l<HH;l++){const c=`border${bM[l]}Radius`;let u=nk(e,c),f=nk(n,c);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||tk(u)===tk(f)?(t[c]=Math.max(Xt(ek(u),ek(f),r),0),(gi.test(f)||gi.test(u))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=Xt(e.rotate||0,n.rotate||0,r))}function nk(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WH=_M(0,.5,lN),GH=_M(.5,.95,fs);function _M(t,e,n){return r=>r<t?0:r>e?1:n(nd(t,e,r))}function rk(t,e){t.min=e.min,t.max=e.max}function is(t,e){rk(t.x,e.x),rk(t.y,e.y)}function sk(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ik(t,e,n,r,s){return t-=e,t=Xf(t,1/n,r),s!==void 0&&(t=Xf(t,1/s,r)),t}function qH(t,e=0,n=1,r=.5,s,o=t,l=t){if(gi.test(e)&&(e=parseFloat(e),e=Xt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Xt(o.min,o.max,r);t===o&&(c-=e),t.min=ik(t.min,e,n,c,s),t.max=ik(t.max,e,n,c,s)}function ok(t,e,[n,r,s],o,l){qH(t,e[n],e[r],e[s],e.scale,o,l)}const KH=["x","scaleX","originX"],YH=["y","scaleY","originY"];function ak(t,e,n,r){ok(t.x,e,KH,n?n.x:void 0,r?r.x:void 0),ok(t.y,e,YH,n?n.y:void 0,r?r.y:void 0)}function lk(t){return t.translate===0&&t.scale===1}function EM(t){return lk(t.x)&&lk(t.y)}function ck(t,e){return t.min===e.min&&t.max===e.max}function QH(t,e){return ck(t.x,e.x)&&ck(t.y,e.y)}function uk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kM(t,e){return uk(t.x,e.x)&&uk(t.y,e.y)}function dk(t){return gr(t.x)/gr(t.y)}function hk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class XH{constructor(){this.members=[]}add(e){O0(this.members,e),e.scheduleRender()}remove(e){if(V0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JH(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((s||o||l)&&(r=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:y,rotateY:x,skewX:E,skewY:k}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),y&&(r+=`rotateX(${y}deg) `),x&&(r+=`rotateY(${x}deg) `),E&&(r+=`skewX(${E}deg) `),k&&(r+=`skewY(${k}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const qg=["","X","Y","Z"],ZH=1e3;let e$=0;function Kg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function SM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=uM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qt,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&SM(r)}function TM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=e$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(r$),this.nodes.forEach(a$),this.nodes.forEach(l$),this.nodes.forEach(s$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new zH)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new z0),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=zN(l)&&!GB(l),this.instance=l;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let p,y=0;const x=()=>this.root.updateBlockedByResize=!1;qt.read(()=>{y=window.innerWidth}),t(l,()=>{const E=window.innerWidth;E!==y&&(y=E,this.root.updateBlockedByResize=!0,p&&p(),p=BH(x,250),gf.hasAnimatedSinceResize&&(gf.hasAnimatedSinceResize=!1,this.nodes.forEach(pk)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:x,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||f.getDefaultTransition()||f$,{onLayoutAnimationStart:I,onLayoutAnimationComplete:P}=f.getProps(),D=!this.targetLayout||!kM(this.targetLayout,E),A=!y&&x;if(this.options.layoutRoot||this.resumeFrom||A||y&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...ew(k,"layout"),onPlay:I,onComplete:P};(f.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(p,A)}else y||pk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(c$),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(o$),this.nodes.forEach(t$),this.nodes.forEach(n$)):this.nodes.forEach(mk),this.clearAllSnapshots();const c=Pr.now();Fn.delta=Xi(0,1e3/60,c-Fn.timestamp),Fn.timestamp=c,Fn.isProcessing=!0,Dg.update.process(Fn),Dg.preRender.process(Fn),Dg.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(i$),this.sharedNodes.forEach(u$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gr(this.snapshot.measuredBox.x)&&!gr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!EM(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||Ca(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),m$(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return ln();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(p$))){const{scroll:f}=this.root;f&&(Hl(c.x,f.offset.x),Hl(c.y,f.offset.y))}return c}removeElementScroll(l){const c=ln();if(is(c,l),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:y}=f;f!==this.root&&p&&y.layoutScroll&&(p.wasRoot&&is(c,l),Hl(c.x,p.offset.x),Hl(c.y,p.offset.y))}return c}applyTransform(l,c=!1){const u=ln();is(u,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&$l(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ca(p.latestValues)&&$l(u,p.latestValues)}return Ca(this.latestValues)&&$l(u,this.latestValues),u}removeTransform(l){const c=ln();is(c,l);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Ca(f.latestValues))continue;fv(f.latestValues)&&f.updateSnapshot();const p=ln(),y=f.measurePageBox();is(p,y),ak(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Ca(this.latestValues)&&ak(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),Uu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):is(this.target,this.layout.layoutBox),sM(this.target,this.targetDelta)):is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),Uu(this.relativeTargetOrigin,this.target,x.target),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fv(this.parent.latestValues)||rM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;is(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;A7(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ln());const{target:E}=l;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sk(this.prevProjectionDelta.x,this.projectionDelta.x),sk(this.prevProjectionDelta.y,this.projectionDelta.y)),Fu(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!hk(this.projectionDelta.x,this.prevProjectionDelta.x)||!hk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wl(),this.projectionDelta=Wl(),this.projectionDeltaWithTransform=Wl()}setAnimationOrigin(l,c=!1){const u=this.snapshot,f=u?u.latestValues:{},p={...this.latestValues},y=Wl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=ln(),E=u?u.source:void 0,k=this.layout?this.layout.source:void 0,I=E!==k,P=this.getStack(),D=!P||P.members.length<=1,A=!!(I&&!D&&this.options.crossfade===!0&&!this.path.some(h$));this.animationProgress=0;let z;this.mixTargetDelta=H=>{const F=H/1e3;gk(y.x,l.x,F),gk(y.y,l.y,F),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d$(this.relativeTarget,this.relativeTargetOrigin,x,F),z&&QH(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=ln()),is(z,this.relativeTarget)),I&&(this.animationValues=p,$H(p,f,this.latestValues,F,A,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{gf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lc(0)),this.currentAnimation=FH(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:f,latestValues:p}=l;if(!(!c||!u||!f)){if(this!==l&&this.layout&&f&&CM(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||ln();const y=gr(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+y;const x=gr(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+x}is(c,u),$l(c,p),Fu(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new XH),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const f={};u.z&&Kg("z",l,f,this.animationValues);for(let p=0;p<qg.length;p++)Kg(`rotate${qg[p]}`,l,f,this.animationValues),Kg(`skew${qg[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=pf(c?.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=pf(c?.pointerEvents)||""),this.hasProjected&&!Ca(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let y=JH(this.projectionDeltaWithTransform,this.treeScale,p);u&&(y=u(p,y)),l.transform=y;const{x,y:E}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${E.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const k in od){if(p[k]===void 0)continue;const{correct:I,applyTo:P,isCSSVariable:D}=od[k],A=y==="none"?p[k]:I(p[k],f);if(P){const z=P.length;for(let H=0;H<z;H++)l[P[H]]=A}else D?this.options.visualElement.renderState.vars[k]=A:l[k]=A}this.options.layoutId&&(l.pointerEvents=f===this?pf(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(fk),this.root.sharedNodes.clear()}}}function t$(t){t.updateLayout()}function n$(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?os(p=>{const y=o?e.measuredBox[p]:e.layoutBox[p],x=gr(y);y.min=n[p].min,y.max=y.min+x}):CM(s,e.layoutBox,n)&&os(p=>{const y=o?e.measuredBox[p]:e.layoutBox[p],x=gr(n[p]);y.max=y.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+x)});const l=Wl();Fu(l,n,e.layoutBox);const c=Wl();o?Fu(c,t.applyTransform(r,!0),e.measuredBox):Fu(c,n,e.layoutBox);const u=!EM(l);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:x}=p;if(y&&x){const E=ln();Uu(E,e.layoutBox,y.layoutBox);const k=ln();Uu(k,n,x.layoutBox),kM(E,k)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=E,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function r$(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function s$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function i$(t){t.clearSnapshot()}function fk(t){t.clearMeasurements()}function mk(t){t.isLayoutDirty=!1}function o$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function a$(t){t.resolveTargetDelta()}function l$(t){t.calcProjection()}function c$(t){t.resetSkewAndRotation()}function u$(t){t.removeLeadSnapshot()}function gk(t,e,n){t.translate=Xt(e.translate,0,n),t.scale=Xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yk(t,e,n,r){t.min=Xt(e.min,n.min,r),t.max=Xt(e.max,n.max,r)}function d$(t,e,n,r){yk(t.x,e.x,n.x,r),yk(t.y,e.y,n.y,r)}function h$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const f$={duration:.45,ease:[.4,0,.1,1]},vk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),wk=vk("applewebkit/")&&!vk("chrome/")?Math.round:fs;function xk(t){t.min=wk(t.min),t.max=wk(t.max)}function m$(t){xk(t.x),xk(t.y)}function CM(t,e,n){return t==="position"||t==="preserve-aspect"&&!xH(dk(e),dk(n),.2)}function p$(t){return t!==t.root&&t.scroll?.wasRoot}const g$=TM({attachResizeListener:(t,e)=>ad(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yg={current:void 0},PM=TM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yg.current){const t=new g$({});t.mount(window),t.setOptions({layoutScroll:!0}),Yg.current=t}return Yg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),y$={pan:{Feature:jH},drag:{Feature:RH,ProjectionNode:PM,MeasureLayout:xM}};function bk(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&qt.postRender(()=>o(e,Sd(e)))}class v$ extends ta{mount(){const{current:e}=this.node;e&&(this.unmount=zB(e,(n,r)=>(bk(this.node,r,"Start"),s=>bk(this.node,s,"End"))))}unmount(){}}class w$ extends ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_d(ad(this.node.current,"focus",()=>this.onFocus()),ad(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _k(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&qt.postRender(()=>o(e,Sd(e)))}class x$ extends ta{mount(){const{current:e}=this.node;e&&(this.unmount=WB(e,(n,r)=>(_k(this.node,r,"Start"),(s,{success:o})=>_k(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xv=new WeakMap,Qg=new WeakMap,b$=t=>{const e=xv.get(t.target);e&&e(t)},_$=t=>{t.forEach(b$)};function E$({root:t,...e}){const n=t||document;Qg.has(n)||Qg.set(n,{});const r=Qg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(_$,{root:t,...e})),r[s]}function k$(t,e,n){const r=E$(e);return xv.set(t,n),r.observe(t),()=>{xv.delete(t),r.unobserve(t)}}const S$={some:0,all:1};class T$ extends ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:S$[s]},c=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),x=f?p:y;x&&x(u)};return k$(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(C$(e,n))&&this.startObserver()}unmount(){}}function C$({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const P$={inView:{Feature:T$},tap:{Feature:x$},focus:{Feature:w$},hover:{Feature:v$}},I$={layout:{ProjectionNode:PM,MeasureLayout:xM}},N$={...mH,...P$,...y$,...I$},Ee=N7(N$,H7);function M$(){const t=hc(),e=[{icon:Bo,title:"Virtual Tours",description:"Immersive 360 experiences of sacred spaces",gradient:"from-[var(--monastery-maroon)] to-[var(--monastery-saffron)]",link:"/virtual-tour"},{icon:Kl,title:"Digital Archive",description:"Ancient manuscripts and sacred art collection",gradient:"from-[var(--monastery-saffron)] to-[var(--monastery-gold)]",link:"/archive"},{icon:a4,title:"Smart Audio Guide",description:"Multi-language narrated spiritual journeys",gradient:"from-[var(--monastery-gold)] to-[var(--monastery-emerald)]",link:"/audio-guide"},{icon:ja,title:"Cultural Calendar",description:"Sacred festivals and ceremonial events",gradient:"from-[var(--monastery-emerald)] to-[var(--monastery-maroon)]",link:"/calendar"}],n=[{number:"25+",label:"Sacred Monasteries"},{number:"500+",label:"Digital Artifacts"},{number:"12",label:"Languages Supported"},{number:"1000+",label:"Years of Heritage"}];return h.jsxs("div",{className:"min-h-screen",children:[h.jsxs("section",{className:"relative flex items-center justify-center h-screen overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-fixed bg-center bg-cover",style:{backgroundImage:"linear-gradient(rgba(139, 0, 0, 0.3), rgba(139, 0, 0, 0.5)), url('https://images.unsplash.com/photo-1621496770858-d9aacf27f513?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxSdW10ZWslMjBtb25hc3RlcnklMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ1fDA&ixlib=rb-4.1.0&q=80&w=1080')"}}),h.jsx("div",{className:"relative z-10 max-w-4xl px-4 mx-auto text-center text-white",children:h.jsxs(Ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1},className:"space-y-8",children:[h.jsxs("h1",{className:"text-5xl leading-tight md:text-7xl",children:["Digitize & Experience the"," ",h.jsx("span",{className:"bg-gradient-to-r from-[var(--monastery-gold)] to-[var(--monastery-snow)] bg-clip-text text-transparent",children:"Spirit"})," ","of Sikkim's Monasteries"]}),h.jsx("p",{className:"max-w-2xl mx-auto text-xl leading-relaxed text-gray-200 md:text-2xl",children:"Journey through centuries of Buddhist heritage with immersive virtual experiences, ancient wisdom, and sacred traditions preserved for generations."}),h.jsxs("div",{className:"flex flex-col justify-center gap-4 mt-8 sm:flex-row",children:[h.jsxs("button",{onClick:()=>{t("/virtual-tour"),window.scrollTo(0,0)},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",whiteSpace:"nowrap",background:"linear-gradient(to right, #FF8C00, #FFD700)",color:"white",border:"none",borderRadius:"0.5rem",padding:"1rem 2rem",fontSize:"1.125rem",fontWeight:"600",cursor:"pointer",transition:"opacity 0.2s"},className:"hero-button hover:opacity-90",onMouseEnter:r=>r.target.style.opacity="0.9",onMouseLeave:r=>r.target.style.opacity="1",children:[h.jsx(Da,{className:"w-5 h-5",style:{flexShrink:0,marginRight:0}}),"Start Virtual Tour"]}),h.jsxs("button",{onClick:()=>{t("/map"),window.scrollTo(0,0)},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",whiteSpace:"nowrap",background:"linear-gradient(to right, #FF8C00, #FFD700)",color:"white",border:"none",borderRadius:"0.5rem",padding:"1rem 2rem",fontSize:"1.125rem",fontWeight:"600",cursor:"pointer",transition:"opacity 0.2s"},className:"hero-button hover:opacity-90",onMouseEnter:r=>r.target.style.opacity="0.9",onMouseLeave:r=>r.target.style.opacity="1",children:[h.jsx(Nr,{className:"w-5 h-5",style:{flexShrink:0,marginRight:0}}),"Explore Monasteries"]})]})]})}),h.jsx(Ee.div,{animate:{y:[0,-20,0]},transition:{duration:3,repeat:1/0},className:"absolute text-white transform -translate-x-1/2 bottom-10 left-1/2 opacity-60"})]}),h.jsx("section",{className:"bg-gradient-to-r from-[var(--monastery-maroon)] to-[var(--monastery-saffron)] py-16 text-white",children:h.jsx("div",{className:"container px-4 mx-auto",children:h.jsx("div",{className:"grid grid-cols-2 gap-8 md:grid-cols-4",children:n.map((r,s)=>h.jsxs(Ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:s*.1},className:"text-center",children:[h.jsx("div",{className:"mb-2 text-4xl font-bold md:text-5xl",children:r.number}),h.jsx("div",{className:"text-sm opacity-90 md:text-base",children:r.label})]},s))})})}),h.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900/50",children:h.jsxs("div",{className:"container px-4 mx-auto",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"mb-16 text-center",children:[h.jsx(Nt,{className:"mb-4 border-none bg-gradient-to-r from-[var(--monastery-emerald)] to-[var(--monastery-maroon)] px-4 py-2 text-white",children:"Platform Features"}),h.jsx("h2",{className:"mb-6 text-4xl text-gray-900 md:text-5xl dark:text-white",children:"Immersive Heritage Experiences"}),h.jsx("p",{className:"max-w-2xl mx-auto text-lg text-gray-600 dark:text-gray-300",children:"Discover the sacred traditions of Sikkim through cutting-edge technology and authentic cultural preservation."})]}),h.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:e.map((r,s)=>{const o=r.icon;return h.jsx(Ee.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:s*.1},whileHover:{y:-5},className:"cursor-pointer group",onClick:()=>{t(r.link),window.scrollTo(0,0)},children:h.jsx(St,{className:"h-full transition-all duration-300 feature-card hover:shadow-xl",style:{backgroundColor:"white",borderColor:"#e5e7eb"},children:h.jsxs(Pt,{className:"p-6 text-center",children:[h.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 transition-transform duration-300 rounded-full group-hover:scale-110",style:{backgroundColor:"rgba(255, 140, 0, 0.1)"},children:h.jsx(o,{className:"w-8 h-8",style:{color:"#FF8C00"}})}),h.jsx("h3",{className:"mb-2 text-xl font-semibold",style:{color:"#111827"},children:r.title}),h.jsx("p",{className:"text-sm leading-relaxed",style:{color:"#4b5563"},children:r.description}),h.jsx(gm,{className:"w-4 h-4 mx-auto mt-4 transition-opacity opacity-0 group-hover:opacity-100",style:{color:"#FF8C00"}})]})})},s)})})]})}),h.jsx("section",{className:"relative py-20",style:{backgroundImage:"linear-gradient(rgba(34, 139, 34, 0.8), rgba(139, 0, 0, 0.8)), url('https://images.unsplash.com/photo-1643442240897-c3286093d022?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxIaW1hbGF5YW4lMjBtb3VudGFpbnMlMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:h.jsx("div",{className:"container px-4 mx-auto text-center text-white",children:h.jsxs(Ee.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"max-w-3xl mx-auto",children:[h.jsx("h2",{className:"mb-6 text-4xl md:text-5xl",children:"Begin Your Sacred Journey"}),h.jsx("p",{className:"mb-8 text-xl opacity-90",children:"Connect with the timeless wisdom and spiritual heritage of Sikkim's monastic traditions through our immersive digital platform."}),h.jsx("div",{className:"flex flex-col justify-center gap-4 sm:flex-row",children:h.jsxs("div",{className:"flex justify-center gap-4",children:[h.jsx("div",{className:"inline-block transition-transform duration-300 ease-in-out transform-gpu hover:scale-105 hover:shadow-2xl",children:h.jsxs(ze,{onClick:()=>{t("/community"),window.scrollTo(0,0)},size:"lg",className:"flex items-center justify-center gap-2 whitespace-nowrap border-none bg-gradient-to-r from-[#FFD700] to-[#FF8C00] px-8 py-4 text-lg font-semibold text-white hover:opacity-90",children:[h.jsx(ri,{className:"flex-shrink-0 w-5 h-5"}),h.jsx("span",{children:"Join Our Community"})]})}),h.jsx("div",{className:"inline-block transition-transform duration-300 ease-in-out transform-gpu hover:scale-105 hover:shadow-2xl",children:h.jsxs(ze,{onClick:()=>{t("/archive"),window.scrollTo(0,0)},size:"lg",className:"flex items-center justify-center gap-2 whitespace-nowrap border-none bg-gradient-to-r from-[#FFD700] to-[#FF8C00] px-8 py-4 text-lg font-semibold text-white hover:opacity-90",children:[h.jsx(Kl,{className:"flex-shrink-0 w-5 h-5"}),h.jsx("span",{children:"Explore Archive"})]})})]})})]})})})]})}function L$({videoSrc:t,isVisible:e,onError:n}){const r=v.useRef(null),s=v.useRef(null),[o,l]=v.useState(!0),[c,u]=v.useState(!1),[f,p]=v.useState(!0),[y,x]=v.useState(!1);v.useEffect(()=>{e&&(()=>{if(window.AFRAME){x(!0);return}const A=document.createElement("script");A.src="https://aframe.io/releases/1.4.0/aframe.min.js",A.onload=()=>{console.log(" A-Frame loaded"),x(!0)},A.onerror=()=>{console.error(" Failed to load A-Frame"),n?.("Failed to load 360 viewer")},document.head.appendChild(A)})()},[e,n]),v.useEffect(()=>{if(!e||!y||!r.current)return;const D=r.current;l(!0),D.innerHTML="";const A=document.createElement("video");A.loop=!0,A.muted=!0,A.playsInline=!0,A.crossOrigin="anonymous",A.preload="metadata",A.style.display="none",A.id="video-360-source";const z=document.createElement("source");z.src=t,z.type="video/mp4",A.appendChild(z);const H=document.createElement("source");H.src=t,H.type="video/x-matroska",A.appendChild(H);const F=document.createElement("source");F.src=t,F.type="video/webm",A.appendChild(F),D.appendChild(A),s.current=A,A.addEventListener("loadeddata",()=>{console.log(" 360 Video loaded:",t),T()}),A.addEventListener("canplay",()=>{console.log(" 360 Video can play"),A.play().catch(()=>{console.log("Autoplay prevented, user interaction required")})}),A.addEventListener("play",()=>u(!0)),A.addEventListener("pause",()=>u(!1));const R=setTimeout(()=>{A.readyState<3&&(console.warn(" Video loading timeout"),t.toLowerCase().includes(".mkv")?M():(l(!1),n?.("Video loading timeout")))},1e4);A.addEventListener("canplay",()=>{clearTimeout(R)}),A.addEventListener("error",C=>{console.error(" 360 Video error:",C),console.error("Video source:",t),console.error("Video readyState:",A.readyState),console.error("Video networkState:",A.networkState),t.toLowerCase().includes(".mkv")?(console.warn(" MKV files may not be supported by this browser"),M()):(l(!1),n?.(`Failed to load 360 video: ${t}`))});const M=()=>{l(!1);const C=document.createElement("div");C.className="flex items-center justify-center h-full bg-black text-white",C.innerHTML=`
        <div class="text-center p-8">
          <div class="text-6xl mb-4"></div>
          <h3 class="text-xl font-bold mb-4">MKV File Detected</h3>
          <p class="text-gray-300 mb-4">Your browser doesn't natively support MKV video files for 360 viewing.</p>
          <div class="text-sm text-gray-400">
            <p class="mb-2">Recommendations:</p>
            <ul class="text-left space-y-1">
              <li> Convert MKV files to MP4 format</li>
              <li> Use Chrome or Edge browser</li>
              <li> Download VLC for full MKV support</li>
            </ul>
          </div>
          <p class="text-xs text-gray-500 mt-4">File: ${t.split("/").pop()}</p>
        </div>
      `,D.appendChild(C)},T=()=>{const C=`
        <a-scene 
          embedded 
          style="width: 100%; height: 100%; display: block;"
          vr-mode-ui="enabled: false"
          background="color: #000000"
          renderer="antialias: true"
        >
          <a-videosphere 
            src="#video-360-source"
            radius="100"
            rotation="0 0 0"
          ></a-videosphere>
          
          <a-camera
            look-controls="enabled: true; pointerLockEnabled: false"
            wasd-controls="enabled: false"
            position="0 0 0"
          >
          </a-camera>
        </a-scene>
      `,O=document.createElement("div");O.innerHTML=C,O.style.width="100%",O.style.height="100%",O.style.position="relative",D.appendChild(O),setTimeout(()=>{l(!1),console.log(" A-Frame 360 scene ready")},1e3)};return()=>{clearTimeout(R),A&&(A.pause(),A.src="",A.remove()),D.innerHTML=""}},[t,e,y,n]);const E=()=>{s.current&&(c?s.current.pause():s.current.play().catch(console.error))},k=()=>{s.current&&(s.current.muted=!s.current.muted,p(s.current.muted))},I=()=>{if(r.current&&y){const D=r.current.querySelector("a-scene");if(D){const A=D.querySelector("a-camera");A&&A.setAttribute("rotation","0 0 0")}}},P=()=>{r.current&&r.current.requestFullscreen&&r.current.requestFullscreen()};return e?h.jsxs("div",{className:"relative w-full h-full bg-black overflow-hidden rounded-lg",children:[h.jsx("div",{ref:r,className:"w-full h-full",style:{minHeight:"70vh",height:"100%"}}),(o||!y)&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/90 backdrop-blur-sm rounded-lg z-10",children:h.jsxs("div",{className:"text-white text-center",children:[h.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),h.jsx("p",{className:"text-lg mb-2",children:"Loading 360 Experience"}),h.jsx("p",{className:"text-sm text-gray-300",children:y?"Preparing monastery tour...":"Initializing 360 viewer..."})]})}),!o&&y&&h.jsxs("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex items-center space-x-3 bg-black/80 backdrop-blur-sm rounded-full px-6 py-3 z-10",children:[h.jsx(ze,{size:"sm",onClick:E,className:"w-12 h-12 rounded-full bg-gradient-to-r from-orange-500 to-yellow-500 hover:opacity-90 text-white shadow-lg",title:c?"Pause":"Play",children:c?h.jsx(Sy,{className:"w-5 h-5"}):h.jsx(Da,{className:"w-5 h-5 ml-0.5"})}),h.jsx(ze,{size:"sm",onClick:k,className:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 text-white",title:f?"Unmute":"Mute",children:f?h.jsx(G4,{className:"w-4 h-4"}):h.jsx(eC,{className:"w-4 h-4"})}),h.jsx(ze,{size:"sm",onClick:I,className:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 text-white",title:"Reset View",children:h.jsx(g4,{className:"w-4 h-4"})}),h.jsx(ze,{size:"sm",onClick:P,className:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 text-white",title:"Fullscreen",children:h.jsx(s4,{className:"w-4 h-4"})})]}),!o&&y&&h.jsxs("div",{className:"absolute top-4 left-4 bg-black/80 backdrop-blur-sm rounded-lg p-4 text-white text-sm max-w-sm z-10",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[h.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-full"}),h.jsx("span",{className:"font-semibold",children:"360 Monastery Tour"})]}),h.jsxs("ul",{className:"text-xs space-y-1 text-gray-300",children:[h.jsxs("li",{children:[" ",h.jsx("strong",{children:"Drag"})," to look around"]}),h.jsxs("li",{children:[" ",h.jsx("strong",{children:"360 view"})," in all directions"]}),h.jsxs("li",{children:[" ",h.jsx("strong",{children:"Controls"})," for playback"]})]})]}),!o&&y&&h.jsx("div",{className:"absolute top-4 right-4 bg-black/80 backdrop-blur-sm rounded-lg p-3 text-white text-sm z-10",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),h.jsx("span",{className:"text-xs",children:"360 Active"})]})})]}):null}function A$(){const[t,e]=v.useState("outside"),[n,r]=v.useState(null),[s,o]=v.useState(!1),l=v.useRef(null);v.useEffect(()=>{l.current&&t==="outside"&&(l.current.loop=!0,l.current.play().catch(console.error))},[t]);const c=()=>{e("outside"),r(null),o(!1)};return h.jsx("div",{className:"min-h-screen pt-24 bg-gradient-to-b from-background to-muted/30",children:h.jsxs("div",{className:"container px-4 py-8 mx-auto",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 text-center",children:[h.jsxs(Nt,{className:"bg-gradient-to-r from-[var(--monastery-maroon)] to-[var(--monastery-saffron)] text-white border-none px-4 py-2 mb-4",children:[h.jsx(jo,{className:"w-4 h-4 mr-2"}),"Virtual Monastery Experience"]}),h.jsx("h1",{className:"mb-4 text-4xl md:text-5xl",children:"Rumtek Monastery Tour"}),h.jsx("p",{className:"max-w-2xl mx-auto text-lg text-muted-foreground",children:"Experience the sacred spaces of Rumtek Monastery through immersive video tours."})]}),h.jsx(Ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8},className:"mb-8",children:h.jsx(St,{className:"overflow-hidden bg-gradient-to-b from-[var(--monastery-maroon)]/10 to-[var(--monastery-saffron)]/10 border-2 border-[var(--monastery-gold)]/30",children:h.jsx(Pt,{className:"p-0",children:h.jsxs("div",{className:"relative h-[70vh] md:h-[80vh] bg-black",children:[t==="outside"?h.jsxs("video",{ref:l,className:"object-cover w-full h-full",loop:!0,muted:!0,autoPlay:!0,playsInline:!0,children:[h.jsx("source",{src:"/assets/videos/outside 360.mp4",type:"video/mp4"}),h.jsx("img",{src:"https://images.unsplash.com/photo-1621496770858-d9aacf27f513?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxSdW10ZWslMjBtb25hc3RlcnklMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ1fDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Monastery Outside View",className:"object-cover w-full h-full"})]}):s?h.jsx(L$,{videoSrc:n?.videoFile||"",isVisible:s,onError:u=>{console.error("360 Video Error:",u),o(!1)}}):h.jsxs("video",{className:"object-cover w-full h-full",controls:!0,autoPlay:!0,onError:u=>console.error("Video loading error:",n?.videoFile),children:[h.jsx("source",{src:n?.videoFile,type:"video/mp4"}),h.jsx("source",{src:n?.videoFile,type:"video/x-matroska"}),h.jsx("source",{src:n?.videoFile,type:"video/webm"}),h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"p-8 text-center text-white",children:[h.jsx("p",{className:"mb-4 text-lg",children:" Video Loading Error"}),h.jsxs("p",{className:"mb-4 text-sm",children:["File: ",n?.videoFile]}),h.jsx("p",{className:"text-xs text-gray-300",children:"Regular video player - not 360 compatible"})]})})]},n?.videoFile),h.jsx("div",{className:"absolute px-3 py-2 text-white rounded-lg top-4 left-4 bg-black/70 backdrop-blur-sm",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[s?h.jsx(T1,{className:"w-4 h-4 text-yellow-400"}):h.jsx(jo,{className:"w-4 h-4"}),h.jsx("span",{className:"text-sm",children:t==="outside"?"Outside View":n?.title||"Video Tour"}),s&&h.jsx(Nt,{className:"bg-yellow-500/20 text-yellow-300 text-xs px-2 py-0.5 border border-yellow-400/30",children:"360"})]})}),t!=="outside"&&h.jsx("div",{className:"absolute top-4 right-4",children:h.jsxs(ze,{onClick:c,className:"text-white bg-black/70 backdrop-blur-sm border-white/30 hover:bg-white/20",size:"sm",children:[h.jsx(uD,{className:"w-4 h-4 mr-2"}),"Back to Outside"]})}),h.jsx("div",{className:"absolute bottom-4 left-4",children:h.jsx("div",{className:"px-3 py-2 text-white rounded-lg bg-black/70 backdrop-blur-sm",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${s?"bg-yellow-500":"bg-red-500"}`}),h.jsx("span",{className:"text-sm",children:t==="outside"?"Live Outside View":s?"360 Interactive Tour":"Video Tour"})]})})}),s&&n&&h.jsxs("div",{className:"absolute max-w-sm px-4 py-3 text-white rounded-lg bottom-4 right-4 bg-black/80 backdrop-blur-sm",children:[h.jsxs("div",{className:"flex items-center mb-2 space-x-2",children:[h.jsx(T1,{className:"w-4 h-4 text-yellow-400"}),h.jsx("span",{className:"text-sm font-semibold",children:"360 Experience"})]}),h.jsxs("div",{className:"space-y-1 text-xs text-gray-300",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-yellow-300",children:""}),h.jsx("span",{children:"Drag to look around"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-yellow-300",children:""}),h.jsx("span",{children:"Mouse wheel to zoom"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-yellow-300",children:""}),h.jsx("span",{children:"Use controls for playback"})]})]})]})]})})})}),h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:[h.jsxs("div",{className:"mb-4 text-center",children:[h.jsx("h2",{className:"mb-1 text-xl font-semibold",children:"More Monastery Videos"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Explore additional video content"})]}),h.jsxs("div",{className:"grid max-w-3xl grid-cols-1 gap-4 mx-auto md:grid-cols-2",children:[h.jsx(Ee.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:h.jsx(St,{className:"overflow-hidden bg-gradient-to-br from-[var(--monastery-maroon)]/10 to-[var(--monastery-saffron)]/10 border border-[var(--monastery-gold)]/30 cursor-pointer hover:shadow-md transition-all duration-300",onClick:()=>{const u={id:"interior-video",title:"Interior Monastery",videoFile:"/assets/videos/inside monestry.mkv",is360:!0};e("interior-video"),r(u),o(!0)},children:h.jsx(Pt,{className:"p-4",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[var(--monastery-maroon)] to-[var(--monastery-saffron)] rounded-full flex items-center justify-center flex-shrink-0",children:h.jsx(Da,{className:"w-5 h-5 text-white"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"mb-1 text-base font-semibold",children:"Interior Monastery Experience"}),h.jsx("p",{className:"mb-2 text-xs text-muted-foreground",children:"Explore the sacred interior spaces."}),h.jsxs(Nt,{className:"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white text-xs",children:[h.jsx(jo,{className:"w-2 h-2 mr-1"}),"MKV Video"]})]})]})})})}),h.jsx(Ee.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:h.jsx(St,{className:"overflow-hidden bg-gradient-to-br from-[var(--monastery-emerald)]/10 to-[var(--monastery-maroon)]/10 border border-[var(--monastery-gold)]/30 cursor-pointer hover:shadow-md transition-all duration-300",onClick:()=>{const u={id:"tawang-video",title:"Tawang Monastery",videoFile:"/assets/videos/Tawang Monastery.mkv",is360:!0};e("tawang-video"),r(u),o(!0)},children:h.jsx(Pt,{className:"p-4",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[var(--monastery-emerald)] to-[var(--monastery-maroon)] rounded-full flex items-center justify-center flex-shrink-0",children:h.jsx(Da,{className:"w-5 h-5 text-white"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"mb-1 text-base font-semibold",children:"Tawang Monastery Journey"}),h.jsx("p",{className:"mb-2 text-xs text-muted-foreground",children:"Discover the magnificent Tawang Monastery."}),h.jsxs(Nt,{className:"bg-gradient-to-r from-[var(--monastery-emerald)] to-[var(--monastery-maroon)] text-white text-xs",children:[h.jsx(Nr,{className:"w-2 h-2 mr-1"}),"MKV Video"]})]})]})})})})]})]}),h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[h.jsx(St,{className:"bg-gradient-to-br from-[var(--monastery-maroon)]/10 to-[var(--monastery-saffron)]/10",children:h.jsxs(Pt,{className:"p-6",children:[h.jsxs("div",{className:"flex items-center mb-4 space-x-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[var(--monastery-maroon)] to-[var(--monastery-saffron)] rounded-lg flex items-center justify-center",children:h.jsx(jo,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold",children:"Immersive Video Tours"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Multiple video perspectives"})]})]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Experience Rumtek Monastery through high-quality video tours. Click hotspots to explore interior spaces, prayer halls, and meditation chambers."})]})}),h.jsx(St,{className:"bg-gradient-to-br from-[var(--monastery-saffron)]/10 to-[var(--monastery-gold)]/10",children:h.jsxs(Pt,{className:"p-6",children:[h.jsxs("div",{className:"flex items-center mb-4 space-x-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] rounded-lg flex items-center justify-center",children:h.jsx(Da,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold",children:"Multiple Video Formats"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"MP4 & MKV support"})]})]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Our virtual tour supports various video formats including high-quality MKV and MP4 files for the best viewing experience."})]})}),h.jsx(St,{className:"bg-gradient-to-br from-[var(--monastery-emerald)]/10 to-[var(--monastery-maroon)]/10",children:h.jsxs(Pt,{className:"p-6",children:[h.jsxs("div",{className:"flex items-center mb-4 space-x-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[var(--monastery-emerald)] to-[var(--monastery-maroon)] rounded-lg flex items-center justify-center",children:h.jsx(Nr,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold",children:"Rumtek Monastery"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Sikkim's most sacred site"})]})]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Explore the largest monastery in Sikkim, featuring stunning architecture, sacred halls, and peaceful meditation spaces through immersive video experiences."})]})})]})]})})}function Hi({className:t,type:e,...n}){return h.jsx("input",{type:e,"data-slot":"input",className:rn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function R$(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j$(t){var e=R$(t,"string");return ld(e)=="symbol"?e:e+""}function ae(t,e,n){return(e=j$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IM(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xg,Ek;function D$(){if(Ek)return Xg;Ek=1;var t=function(n,r,s,o,l,c,u,f){if(!n){var p;if(r===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var y=[s,o,l,c,u,f],x=0;p=new Error(r.replace(/%s/g,function(){return y[x++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Xg=t,Xg}var O$=D$(),kn=IM(O$),st=v.createContext(null);function V$(){kn(!!v.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=v.useContext(st);return kn(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function F$(t,e,n){return Object.keys(t).reduce(function(s,o){return e(s,t[o],o)},n)}function U$(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function z$(t,e,n,r){var s={},o=(l,c)=>{var u=n[c];u!==e[c]&&(s[c]=u,l(r,u))};return U$(t,o),s}function B$(t,e,n){var r=F$(n,function(o,l,c){return typeof t[c]=="function"&&o.push(google.maps.event.addListener(e,l,t[c])),o},[]);return r}function H$(t){google.maps.event.removeListener(t)}function ht(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(H$)}function ut(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:s,instance:o}=t,l=B$(s,o,n);return z$(e,r,s,o),l}var kk={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Sk={extraMapTypes(t,e){e.forEach(function(r,s){t.mapTypes.set(String(s),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function $$(t){var{children:e,options:n,id:r,mapContainerStyle:s,mapContainerClassName:o,center:l,onClick:c,onDblClick:u,onDrag:f,onDragEnd:p,onDragStart:y,onMouseMove:x,onMouseOut:E,onMouseOver:k,onMouseDown:I,onMouseUp:P,onRightClick:D,onCenterChanged:A,onLoad:z,onUnmount:H}=t,[F,R]=v.useState(null),M=v.useRef(null),[T,C]=v.useState(null),[O,V]=v.useState(null),[$,L]=v.useState(null),[le,pe]=v.useState(null),[ge,re]=v.useState(null),[B,ue]=v.useState(null),[oe,G]=v.useState(null),[ee,ce]=v.useState(null),[ve,Z]=v.useState(null),[Pe,Se]=v.useState(null),[ke,We]=v.useState(null),[xe,Ye]=v.useState(null);return v.useEffect(()=>{n&&F!==null&&F.setOptions(n)},[F,n]),v.useEffect(()=>{F!==null&&typeof l<"u"&&F.setCenter(l)},[F,l]),v.useEffect(()=>{F&&u&&(O!==null&&google.maps.event.removeListener(O),V(google.maps.event.addListener(F,"dblclick",u)))},[u]),v.useEffect(()=>{F&&p&&($!==null&&google.maps.event.removeListener($),L(google.maps.event.addListener(F,"dragend",p)))},[p]),v.useEffect(()=>{F&&y&&(le!==null&&google.maps.event.removeListener(le),pe(google.maps.event.addListener(F,"dragstart",y)))},[y]),v.useEffect(()=>{F&&I&&(ge!==null&&google.maps.event.removeListener(ge),re(google.maps.event.addListener(F,"mousedown",I)))},[I]),v.useEffect(()=>{F&&x&&(B!==null&&google.maps.event.removeListener(B),ue(google.maps.event.addListener(F,"mousemove",x)))},[x]),v.useEffect(()=>{F&&E&&(oe!==null&&google.maps.event.removeListener(oe),G(google.maps.event.addListener(F,"mouseout",E)))},[E]),v.useEffect(()=>{F&&k&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(F,"mouseover",k)))},[k]),v.useEffect(()=>{F&&P&&(ve!==null&&google.maps.event.removeListener(ve),Z(google.maps.event.addListener(F,"mouseup",P)))},[P]),v.useEffect(()=>{F&&D&&(Pe!==null&&google.maps.event.removeListener(Pe),Se(google.maps.event.addListener(F,"rightclick",D)))},[D]),v.useEffect(()=>{F&&c&&(ke!==null&&google.maps.event.removeListener(ke),We(google.maps.event.addListener(F,"click",c)))},[c]),v.useEffect(()=>{F&&f&&(xe!==null&&google.maps.event.removeListener(xe),Ye(google.maps.event.addListener(F,"drag",f)))},[f]),v.useEffect(()=>{F&&A&&(T!==null&&google.maps.event.removeListener(T),C(google.maps.event.addListener(F,"center_changed",A)))},[c]),v.useEffect(()=>{var zt=M.current===null?null:new google.maps.Map(M.current,n);return R(zt),zt!==null&&z&&z(zt),()=>{zt!==null&&H&&H(zt)}},[]),h.jsx("div",{id:r,ref:M,style:s,className:o,children:h.jsx(st.Provider,{value:F,children:F!==null?e:null})})}v.memo($$);class W$ extends v.PureComponent{constructor(){super(...arguments),ae(this,"state",{map:null}),ae(this,"registeredEvents",[]),ae(this,"mapRef",null),ae(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),ae(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),ae(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),ae(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=ut({updaterMap:Sk,eventMap:kk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:Sk,eventMap:kk,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),ht(this.registeredEvents))}render(){return h.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:h.jsx(st.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function Tk(t,e,n,r,s,o,l){try{var c=t[o](l),u=c.value}catch(f){return void n(f)}c.done?e(u):Promise.resolve(u).then(r,s)}function NM(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var o=t.apply(e,n);function l(u){Tk(o,r,s,l,c,"next",u)}function c(u){Tk(o,r,s,l,c,"throw",u)}l(void 0)})}}function MM(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:s,region:o,libraries:l,channel:c,mapIds:u,authReferrerPolicy:f,apiUrl:p="https://maps.googleapis.com"}=t,y=[];return kn(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?y.push("key=".concat(e)):n&&y.push("client=".concat(n)),r&&y.push("v=".concat(r)),s&&y.push("language=".concat(s)),o&&y.push("region=".concat(o)),l&&l.length&&y.push("libraries=".concat(l.sort().join(","))),c&&y.push("channel=".concat(c)),u&&u.length&&y.push("map_ids=".concat(u.join(","))),f&&y.push("auth_referrer_policy=".concat(f)),y.push("loading=async"),y.push("callback=initMap"),"".concat(p,"/maps/api/js?").concat(y.join("&"))}var Ra=typeof document<"u";function LM(t){var{url:e,id:n,nonce:r}=t;return Ra?new Promise(function(o,l){var c=document.getElementById(n),u=window;if(c){var f=c.getAttribute("data-state");if(c.src===e&&f!=="error"){if(f==="ready")return o(n);var p=u.initMap,y=c.onerror;u.initMap=function(){p&&p(),o(n)},c.onerror=function(E){y&&y(E),l(E)};return}else c.remove()}var x=document.createElement("script");x.type="text/javascript",x.src=e,x.id=n,x.async=!0,x.nonce=r||"",x.onerror=function(k){x.setAttribute("data-state","error"),l(k)},u.initMap=function(){x.setAttribute("data-state","ready"),o(n)},document.head.appendChild(x)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function Ck(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function AM(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,o){return Ck(s)||Reflect.apply(e,t,[s,o]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return Ck(s)||Reflect.apply(n,t,[s]),s}}}var mu=!1;function RM(){return h.jsx("div",{children:"Loading..."})}var bv={id:"script-loader",version:"weekly"};class G$ extends v.PureComponent{constructor(){super(...arguments),ae(this,"check",null),ae(this,"state",{loaded:!1}),ae(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),ae(this,"isCleaningUp",NM(function*(){function e(n){if(!mu)n();else if(Ra)var r=window.setInterval(function(){mu||(window.clearInterval(r),n())},1)}return new Promise(e)})),ae(this,"cleanup",()=>{mu=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),ae(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&AM(),kn(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:MM(this.props)};LM(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),ae(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Ra){if(window.google&&window.google.maps&&!mu){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ra&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Ra){this.cleanup();var e=()=>{this.check||(delete window.google,mu=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return h.jsxs(h.Fragment,{children:[h.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||h.jsx(RM,{})]})}}ae(G$,"defaultProps",bv);function q$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function mw(t,e){if(t==null)return{};var n,r,s=q$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var Pk;function jM(t){var{id:e=bv.id,version:n=bv.version,nonce:r,googleMapsApiKey:s,googleMapsClientId:o,language:l,region:c,libraries:u,preventGoogleFontsLoading:f,channel:p,mapIds:y,authReferrerPolicy:x,apiUrl:E="https://maps.googleapis.com"}=t,k=v.useRef(!1),[I,P]=v.useState(!1),[D,A]=v.useState(void 0);v.useEffect(function(){return k.current=!0,()=>{k.current=!1}},[]),v.useEffect(function(){Ra&&f&&AM()},[f]),v.useEffect(function(){I&&kn(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[I]);var z=MM({version:n,googleMapsApiKey:s,googleMapsClientId:o,language:l,region:c,libraries:u,channel:p,mapIds:y,authReferrerPolicy:x,apiUrl:E});v.useEffect(function(){if(!Ra)return;function R(){k.current&&(P(!0),Pk=z)}if(window.google&&window.google.maps&&Pk===z){R();return}LM({id:e,url:z,nonce:r}).then(R).catch(function(T){k.current&&A(T),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(o||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(T)})},[e,z,r]);var H=v.useRef(void 0);return v.useEffect(function(){H.current&&u!==H.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),H.current=u},[u]),{isLoaded:I,loadError:D,url:z}}var K$=["loadingElement","onLoad","onError","onUnmount","children"],Y$=h.jsx(RM,{});function Q$(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:s,children:o}=t,l=mw(t,K$),{isLoaded:c,loadError:u}=jM(l);return v.useEffect(function(){c&&typeof n=="function"&&n()},[c,n]),v.useEffect(function(){u&&typeof r=="function"&&r(u)},[u,r]),v.useEffect(function(){return()=>{s&&s()}},[s]),c?o:e||Y$}v.memo(Q$);var Ik;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Ik||(Ik={}));function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Mk={},Lk={options(t,e){t.setOptions(e)}};function X$(t){var{options:e,onLoad:n,onUnmount:r}=t,s=v.useContext(st),[o,l]=v.useState(null);return v.useEffect(()=>{o!==null&&o.setMap(s)},[s]),v.useEffect(()=>{e&&o!==null&&o.setOptions(e)},[o,e]),v.useEffect(()=>{var c=new google.maps.TrafficLayer(Jf(Jf({},e),{},{map:s}));return l(c),n&&n(c),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}v.memo(X$);class J$ extends v.PureComponent{constructor(){super(...arguments),ae(this,"state",{trafficLayer:null}),ae(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),ae(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Jf(Jf({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:Lk,eventMap:Mk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:Lk,eventMap:Mk,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),ht(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}ae(J$,"contextType",st);function Z$(t){var{onLoad:e,onUnmount:n}=t,r=v.useContext(st),[s,o]=v.useState(null);return v.useEffect(()=>{s!==null&&s.setMap(r)},[r]),v.useEffect(()=>{var l=new google.maps.BicyclingLayer;return o(l),l.setMap(r),e&&e(l),()=>{l!==null&&(n&&n(l),l.setMap(null))}},[]),null}v.memo(Z$);class eW extends v.PureComponent{constructor(){super(...arguments),ae(this,"state",{bicyclingLayer:null}),ae(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}ae(eW,"contextType",st);function tW(t){var{onLoad:e,onUnmount:n}=t,r=v.useContext(st),[s,o]=v.useState(null);return v.useEffect(()=>{s!==null&&s.setMap(r)},[r]),v.useEffect(()=>{var l=new google.maps.TransitLayer;return o(l),l.setMap(r),e&&e(l),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}v.memo(tW);class nW extends v.PureComponent{constructor(){super(...arguments),ae(this,"state",{transitLayer:null}),ae(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}ae(nW,"contextType",st);function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Zf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Rk={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},jk={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function rW(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:s,onOverlayComplete:o,onPolygonComplete:l,onPolylineComplete:c,onRectangleComplete:u,onLoad:f,onUnmount:p}=t,y=v.useContext(st),[x,E]=v.useState(null),[k,I]=v.useState(null),[P,D]=v.useState(null),[A,z]=v.useState(null),[H,F]=v.useState(null),[R,M]=v.useState(null),[T,C]=v.useState(null);return v.useEffect(()=>{x!==null&&x.setMap(y)},[y]),v.useEffect(()=>{e&&x!==null&&x.setOptions(e)},[x,e]),v.useEffect(()=>{x!==null&&x.setDrawingMode(n??null)},[x,n]),v.useEffect(()=>{x&&r&&(k!==null&&google.maps.event.removeListener(k),I(google.maps.event.addListener(x,"circlecomplete",r)))},[x,r]),v.useEffect(()=>{x&&s&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(x,"markercomplete",s)))},[x,s]),v.useEffect(()=>{x&&o&&(A!==null&&google.maps.event.removeListener(A),z(google.maps.event.addListener(x,"overlaycomplete",o)))},[x,o]),v.useEffect(()=>{x&&l&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(x,"polygoncomplete",l)))},[x,l]),v.useEffect(()=>{x&&c&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(x,"polylinecomplete",c)))},[x,c]),v.useEffect(()=>{x&&u&&(T!==null&&google.maps.event.removeListener(T),C(google.maps.event.addListener(x,"rectanglecomplete",u)))},[x,u]),v.useEffect(()=>{kn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var O=new google.maps.drawing.DrawingManager(Zf(Zf({},e),{},{map:y}));return n&&O.setDrawingMode(n),r&&I(google.maps.event.addListener(O,"circlecomplete",r)),s&&D(google.maps.event.addListener(O,"markercomplete",s)),o&&z(google.maps.event.addListener(O,"overlaycomplete",o)),l&&F(google.maps.event.addListener(O,"polygoncomplete",l)),c&&M(google.maps.event.addListener(O,"polylinecomplete",c)),u&&C(google.maps.event.addListener(O,"rectanglecomplete",u)),E(O),f&&f(O),()=>{x!==null&&(k&&google.maps.event.removeListener(k),P&&google.maps.event.removeListener(P),A&&google.maps.event.removeListener(A),H&&google.maps.event.removeListener(H),R&&google.maps.event.removeListener(R),T&&google.maps.event.removeListener(T),p&&p(x),x.setMap(null))}},[]),null}v.memo(rW);class sW extends v.PureComponent{constructor(e){super(e),ae(this,"registeredEvents",[]),ae(this,"state",{drawingManager:null}),ae(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),kn(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Zf(Zf({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:jk,eventMap:Rk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:jk,eventMap:Rk,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),ht(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}ae(sW,"contextType",st);function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ok={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Vk={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},em={};function iW(t){var{position:e,options:n,clusterer:r,noClustererRedraw:s,children:o,draggable:l,visible:c,animation:u,clickable:f,cursor:p,icon:y,label:x,opacity:E,shape:k,title:I,zIndex:P,onClick:D,onDblClick:A,onDrag:z,onDragEnd:H,onDragStart:F,onMouseOut:R,onMouseOver:M,onMouseUp:T,onMouseDown:C,onRightClick:O,onClickableChanged:V,onCursorChanged:$,onAnimationChanged:L,onDraggableChanged:le,onFlatChanged:pe,onIconChanged:ge,onPositionChanged:re,onShapeChanged:B,onTitleChanged:ue,onVisibleChanged:oe,onZindexChanged:G,onLoad:ee,onUnmount:ce}=t,ve=v.useContext(st),[Z,Pe]=v.useState(null),[Se,ke]=v.useState(null),[We,xe]=v.useState(null),[Ye,zt]=v.useState(null),[dn,hn]=v.useState(null),[yt,ps]=v.useState(null),[or,Os]=v.useState(null),[jt,Vt]=v.useState(null),[Sn,Hn]=v.useState(null),[$n,Vs]=v.useState(null),[ar,An]=v.useState(null),[sn,yr]=v.useState(null),[Ar,Kr]=v.useState(null),[Zt,Fs]=v.useState(null),[Wn,Yr]=v.useState(null),[Qr,Rn]=v.useState(null),[Gn,vr]=v.useState(null),[lr,wr]=v.useState(null),[cr,Dt]=v.useState(null),[Rr,qn]=v.useState(null),[Tn,_i]=v.useState(null),[gs,W]=v.useState(null);v.useEffect(()=>{Z!==null&&Z.setMap(ve)},[ve]),v.useEffect(()=>{typeof n<"u"&&Z!==null&&Z.setOptions(n)},[Z,n]),v.useEffect(()=>{typeof l<"u"&&Z!==null&&Z.setDraggable(l)},[Z,l]),v.useEffect(()=>{e&&Z!==null&&Z.setPosition(e)},[Z,e]),v.useEffect(()=>{typeof c<"u"&&Z!==null&&Z.setVisible(c)},[Z,c]),v.useEffect(()=>{Z?.setAnimation(u)},[Z,u]),v.useEffect(()=>{Z&&f!==void 0&&Z.setClickable(f)},[Z,f]),v.useEffect(()=>{Z&&p!==void 0&&Z.setCursor(p)},[Z,p]),v.useEffect(()=>{Z&&y!==void 0&&Z.setIcon(y)},[Z,y]),v.useEffect(()=>{Z&&x!==void 0&&Z.setLabel(x)},[Z,x]),v.useEffect(()=>{Z&&E!==void 0&&Z.setOpacity(E)},[Z,E]),v.useEffect(()=>{Z&&k!==void 0&&Z.setShape(k)},[Z,k]),v.useEffect(()=>{Z&&I!==void 0&&Z.setTitle(I)},[Z,I]),v.useEffect(()=>{Z&&P!==void 0&&Z.setZIndex(P)},[Z,P]),v.useEffect(()=>{Z&&A&&(Se!==null&&google.maps.event.removeListener(Se),ke(google.maps.event.addListener(Z,"dblclick",A)))},[A]),v.useEffect(()=>{Z&&H&&(We!==null&&google.maps.event.removeListener(We),xe(google.maps.event.addListener(Z,"dragend",H)))},[H]),v.useEffect(()=>{Z&&F&&(Ye!==null&&google.maps.event.removeListener(Ye),zt(google.maps.event.addListener(Z,"dragstart",F)))},[F]),v.useEffect(()=>{Z&&C&&(dn!==null&&google.maps.event.removeListener(dn),hn(google.maps.event.addListener(Z,"mousedown",C)))},[C]),v.useEffect(()=>{Z&&R&&(yt!==null&&google.maps.event.removeListener(yt),ps(google.maps.event.addListener(Z,"mouseout",R)))},[R]),v.useEffect(()=>{Z&&M&&(or!==null&&google.maps.event.removeListener(or),Os(google.maps.event.addListener(Z,"mouseover",M)))},[M]),v.useEffect(()=>{Z&&T&&(jt!==null&&google.maps.event.removeListener(jt),Vt(google.maps.event.addListener(Z,"mouseup",T)))},[T]),v.useEffect(()=>{Z&&O&&(Sn!==null&&google.maps.event.removeListener(Sn),Hn(google.maps.event.addListener(Z,"rightclick",O)))},[O]),v.useEffect(()=>{Z&&D&&($n!==null&&google.maps.event.removeListener($n),Vs(google.maps.event.addListener(Z,"click",D)))},[D]),v.useEffect(()=>{Z&&z&&(ar!==null&&google.maps.event.removeListener(ar),An(google.maps.event.addListener(Z,"drag",z)))},[z]),v.useEffect(()=>{Z&&V&&(sn!==null&&google.maps.event.removeListener(sn),yr(google.maps.event.addListener(Z,"clickable_changed",V)))},[V]),v.useEffect(()=>{Z&&$&&(Ar!==null&&google.maps.event.removeListener(Ar),Kr(google.maps.event.addListener(Z,"cursor_changed",$)))},[$]),v.useEffect(()=>{Z&&L&&(Zt!==null&&google.maps.event.removeListener(Zt),Fs(google.maps.event.addListener(Z,"animation_changed",L)))},[L]),v.useEffect(()=>{Z&&le&&(Wn!==null&&google.maps.event.removeListener(Wn),Yr(google.maps.event.addListener(Z,"draggable_changed",le)))},[le]),v.useEffect(()=>{Z&&pe&&(Qr!==null&&google.maps.event.removeListener(Qr),Rn(google.maps.event.addListener(Z,"flat_changed",pe)))},[pe]),v.useEffect(()=>{Z&&ge&&(Gn!==null&&google.maps.event.removeListener(Gn),vr(google.maps.event.addListener(Z,"icon_changed",ge)))},[ge]),v.useEffect(()=>{Z&&re&&(lr!==null&&google.maps.event.removeListener(lr),wr(google.maps.event.addListener(Z,"position_changed",re)))},[re]),v.useEffect(()=>{Z&&B&&(cr!==null&&google.maps.event.removeListener(cr),Dt(google.maps.event.addListener(Z,"shape_changed",B)))},[B]),v.useEffect(()=>{Z&&ue&&(Rr!==null&&google.maps.event.removeListener(Rr),qn(google.maps.event.addListener(Z,"title_changed",ue)))},[ue]),v.useEffect(()=>{Z&&oe&&(Tn!==null&&google.maps.event.removeListener(Tn),_i(google.maps.event.addListener(Z,"visible_changed",oe)))},[oe]),v.useEffect(()=>{Z&&G&&(gs!==null&&google.maps.event.removeListener(gs),W(google.maps.event.addListener(Z,"zindex_changed",G)))},[G]),v.useEffect(()=>{var te=ec(ec(ec({},n||em),r?em:{map:ve}),{},{position:e}),se=new google.maps.Marker(te);return r?r.addMarker(se,!!s):se.setMap(ve),e&&se.setPosition(e),typeof c<"u"&&se.setVisible(c),typeof l<"u"&&se.setDraggable(l),typeof f<"u"&&se.setClickable(f),typeof p=="string"&&se.setCursor(p),y&&se.setIcon(y),typeof x<"u"&&se.setLabel(x),typeof E<"u"&&se.setOpacity(E),k&&se.setShape(k),typeof I=="string"&&se.setTitle(I),typeof P=="number"&&se.setZIndex(P),A&&ke(google.maps.event.addListener(se,"dblclick",A)),H&&xe(google.maps.event.addListener(se,"dragend",H)),F&&zt(google.maps.event.addListener(se,"dragstart",F)),C&&hn(google.maps.event.addListener(se,"mousedown",C)),R&&ps(google.maps.event.addListener(se,"mouseout",R)),M&&Os(google.maps.event.addListener(se,"mouseover",M)),T&&Vt(google.maps.event.addListener(se,"mouseup",T)),O&&Hn(google.maps.event.addListener(se,"rightclick",O)),D&&Vs(google.maps.event.addListener(se,"click",D)),z&&An(google.maps.event.addListener(se,"drag",z)),V&&yr(google.maps.event.addListener(se,"clickable_changed",V)),$&&Kr(google.maps.event.addListener(se,"cursor_changed",$)),L&&Fs(google.maps.event.addListener(se,"animation_changed",L)),le&&Yr(google.maps.event.addListener(se,"draggable_changed",le)),pe&&Rn(google.maps.event.addListener(se,"flat_changed",pe)),ge&&vr(google.maps.event.addListener(se,"icon_changed",ge)),re&&wr(google.maps.event.addListener(se,"position_changed",re)),B&&Dt(google.maps.event.addListener(se,"shape_changed",B)),ue&&qn(google.maps.event.addListener(se,"title_changed",ue)),oe&&_i(google.maps.event.addListener(se,"visible_changed",oe)),G&&W(google.maps.event.addListener(se,"zindex_changed",G)),Pe(se),ee&&ee(se),()=>{Se!==null&&google.maps.event.removeListener(Se),We!==null&&google.maps.event.removeListener(We),Ye!==null&&google.maps.event.removeListener(Ye),dn!==null&&google.maps.event.removeListener(dn),yt!==null&&google.maps.event.removeListener(yt),or!==null&&google.maps.event.removeListener(or),jt!==null&&google.maps.event.removeListener(jt),Sn!==null&&google.maps.event.removeListener(Sn),$n!==null&&google.maps.event.removeListener($n),sn!==null&&google.maps.event.removeListener(sn),Ar!==null&&google.maps.event.removeListener(Ar),Zt!==null&&google.maps.event.removeListener(Zt),Wn!==null&&google.maps.event.removeListener(Wn),Qr!==null&&google.maps.event.removeListener(Qr),Gn!==null&&google.maps.event.removeListener(Gn),lr!==null&&google.maps.event.removeListener(lr),Rr!==null&&google.maps.event.removeListener(Rr),Tn!==null&&google.maps.event.removeListener(Tn),gs!==null&&google.maps.event.removeListener(gs),ce&&ce(se),r?r.removeMarker(se,!!s):se&&se.setMap(null)}},[]);var Y=v.useMemo(()=>o?v.Children.map(o,te=>{if(!v.isValidElement(te))return te;var se=te;return v.cloneElement(se,{anchor:Z})}):null,[o,Z]);return h.jsx(h.Fragment,{children:Y})||null}v.memo(iW);class DM extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[])}componentDidMount(){var e=this;return NM(function*(){var n=ec(ec(ec({},e.props.options||em),e.props.clusterer?em:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=ut({updaterMap:Vk,eventMap:Ok,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:Vk,eventMap:Ok,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),ht(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?v.Children.map(this.props.children,n=>{if(!v.isValidElement(n))return n;var r=n;return v.cloneElement(r,{anchor:this.marker})}):null;return e||null}}ae(DM,"contextType",st);var oW=(function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),s=this.cluster.getBounds(),o=n.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(s),this.timeOut=window.setTimeout(function(){var l=n.getMap();if(l!==null){"fitBounds"in l&&l.fitBounds(s);var c=l.getZoom()||0;r!==null&&c>r&&l.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,s,o,l;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,u=this.backgroundPosition.split(" "),f=parseInt(((e=u[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),p=parseInt(((n=u[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),y=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(y!==null?"".concat(y.y,"px"):"0","; left: ").concat(y!==null?"".concat(y.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var x=document.createElement("img");x.alt=c,x.src=this.url,x.width=this.width,x.height=this.height,x.setAttribute("style","position: absolute; top: ".concat(p,"px; left: ").concat(f,"px")),this.cluster.getClusterer().enableRetinaIcons||(x.style.clip="rect(-".concat(p,"px, -").concat(f+this.width,"px, -").concat(p+this.height,", -").concat(f,")"));var E=document.createElement("div");E.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(E.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(E.innerHTML="".concat((l=this.sums)===null||l===void 0?void 0:l.html)),this.div.innerHTML="",this.div.appendChild(x),this.div.appendChild(E),this.div.title=c,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t})(),aW=(function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new oW(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,s=n;r<s.length;r++){var o=s[r],l=o.getPosition();l&&e.extend(l)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var o=this.markers.length,l=this.markerClusterer.getMaxZoom(),c=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(l!==null&&typeof c<"u"&&c>l)e.getMap()!==this.map&&e.setMap(this.map);else if(o<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(o===this.minClusterSize)for(var u=0,f=this.markers;u<f.length;u++){var p=f[u];p.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof s<"u"&&s>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t})();function lW(t,e){var n=t.length,r=n.toString().length,s=Math.min(r,e);return{text:n.toString(),index:s,title:""}}var cW=2e3,uW=500,dW="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",hW="png",fW=[53,56,66,78,90],mW="cluster",OM=(function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||dW,this.imageExtension=r.imageExtension||hW,this.imageSizes=r.imageSizes||fW,this.calculator=r.calculator||lW,this.batchSize=r.batchSize||cW,this.batchSizeIE=r.batchSizeIE||uW,this.clusterClass=r.clusterClass||mW,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var s=0,o=this.clusters;s<o.length;s++){var l=o[s];l.remove()}this.clusters=[];for(var c=0,u=this.listeners;c<u.length;c++){var f=u[c];google.maps.event.removeListener(f)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,s=e;r<s.length;r++){var o=s[r],l=o.getPosition();l&&n.extend(l)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,s=0,o=e;s<o.length;s++){var l=o[s];r=r||this.removeMarker_(l)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,s=e;r<s.length;r++){var o=s[r];o.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),r!==null){var o=n.fromDivPixelToLatLng(r);o!==null&&e.extend(o)}if(s!==null){var l=n.fromDivPixelToLatLng(s);l!==null&&e.extend(l)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var s=r[n];s.remove()}this.clusters=[];for(var o=0,l=this.markers;o<l.length;o++){var c=l[o];c.isAdded=!1,e&&c.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,s=(n.lat()-e.lat())*Math.PI/180,o=(n.lng()-e.lng())*Math.PI/180,l=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return r*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,s=null,o=0,l=this.clusters;o<l.length;o++){var c=l[o];n=c;var u=n.getCenter(),f=e.getPosition();if(u&&f){var p=this.distanceBetweenPoints(u,f);p<r&&(r=p,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new aW(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=r!==null&&("getBounds"in r)?r.getBounds():null,o=r?.getZoom()||0,l=o>3?new google.maps.LatLngBounds(s?.getSouthWest(),s?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(l),u=Math.min(e+this.batchSize,this.markers.length),f=e;f<u;f++){var p=this.markers[f];p&&!p.isAdded&&this.isMarkerInBounds(p,c)&&(!this.ignoreHidden||this.ignoreHidden&&p.getVisible())&&this.addToClosestCluster(p)}if(u<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(u)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var y=0,x=this.clusters;y<x.length;y++){var E=x[y];E.updateIcon()}}}},t.prototype.extend=function(e,n){return function(s){for(var o in s.prototype){var l=o;this.prototype[l]=s.prototype[l]}return this}.apply(e,[n])},t})();function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var as={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},kt={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},gW={};function yW(t){var{children:e,options:n,averageCenter:r,batchSizeIE:s,calculator:o,clusterClass:l,enableRetinaIcons:c,gridSize:u,ignoreHidden:f,imageExtension:p,imagePath:y,imageSizes:x,maxZoom:E,minimumClusterSize:k,styles:I,title:P,zoomOnClick:D,onClick:A,onClusteringBegin:z,onClusteringEnd:H,onMouseOver:F,onMouseOut:R,onLoad:M,onUnmount:T}=t,[C,O]=v.useState(null),V=v.useContext(st),[$,L]=v.useState(null),[le,pe]=v.useState(null),[ge,re]=v.useState(null),[B,ue]=v.useState(null),[oe,G]=v.useState(null);return v.useEffect(()=>{C&&R&&(B!==null&&google.maps.event.removeListener(B),ue(google.maps.event.addListener(C,as.onMouseOut,R)))},[R]),v.useEffect(()=>{C&&F&&(oe!==null&&google.maps.event.removeListener(oe),G(google.maps.event.addListener(C,as.onMouseOver,F)))},[F]),v.useEffect(()=>{C&&A&&($!==null&&google.maps.event.removeListener($),L(google.maps.event.addListener(C,as.onClick,A)))},[A]),v.useEffect(()=>{C&&z&&(le!==null&&google.maps.event.removeListener(le),pe(google.maps.event.addListener(C,as.onClusteringBegin,z)))},[z]),v.useEffect(()=>{C&&H&&(ge!==null&&google.maps.event.removeListener(ge),pe(google.maps.event.addListener(C,as.onClusteringEnd,H)))},[H]),v.useEffect(()=>{typeof r<"u"&&C!==null&&kt.averageCenter(C,r)},[C,r]),v.useEffect(()=>{typeof s<"u"&&C!==null&&kt.batchSizeIE(C,s)},[C,s]),v.useEffect(()=>{typeof o<"u"&&C!==null&&kt.calculator(C,o)},[C,o]),v.useEffect(()=>{typeof l<"u"&&C!==null&&kt.clusterClass(C,l)},[C,l]),v.useEffect(()=>{typeof c<"u"&&C!==null&&kt.enableRetinaIcons(C,c)},[C,c]),v.useEffect(()=>{typeof u<"u"&&C!==null&&kt.gridSize(C,u)},[C,u]),v.useEffect(()=>{typeof f<"u"&&C!==null&&kt.ignoreHidden(C,f)},[C,f]),v.useEffect(()=>{typeof p<"u"&&C!==null&&kt.imageExtension(C,p)},[C,p]),v.useEffect(()=>{typeof y<"u"&&C!==null&&kt.imagePath(C,y)},[C,y]),v.useEffect(()=>{typeof x<"u"&&C!==null&&kt.imageSizes(C,x)},[C,x]),v.useEffect(()=>{typeof E<"u"&&C!==null&&kt.maxZoom(C,E)},[C,E]),v.useEffect(()=>{typeof k<"u"&&C!==null&&kt.minimumClusterSize(C,k)},[C,k]),v.useEffect(()=>{typeof I<"u"&&C!==null&&kt.styles(C,I)},[C,I]),v.useEffect(()=>{typeof P<"u"&&C!==null&&kt.title(C,P)},[C,P]),v.useEffect(()=>{typeof D<"u"&&C!==null&&kt.zoomOnClick(C,D)},[C,D]),v.useEffect(()=>{if(V){var ee=pW({},n||gW),ce=new OM(V,[],ee);return r&&kt.averageCenter(ce,r),s&&kt.batchSizeIE(ce,s),o&&kt.calculator(ce,o),l&&kt.clusterClass(ce,l),c&&kt.enableRetinaIcons(ce,c),u&&kt.gridSize(ce,u),f&&kt.ignoreHidden(ce,f),p&&kt.imageExtension(ce,p),y&&kt.imagePath(ce,y),x&&kt.imageSizes(ce,x),E&&kt.maxZoom(ce,E),k&&kt.minimumClusterSize(ce,k),I&&kt.styles(ce,I),P&&kt.title(ce,P),D&&kt.zoomOnClick(ce,D),R&&ue(google.maps.event.addListener(ce,as.onMouseOut,R)),F&&G(google.maps.event.addListener(ce,as.onMouseOver,F)),A&&L(google.maps.event.addListener(ce,as.onClick,A)),z&&pe(google.maps.event.addListener(ce,as.onClusteringBegin,z)),H&&re(google.maps.event.addListener(ce,as.onClusteringEnd,H)),O(ce),M&&M(ce),()=>{B!==null&&google.maps.event.removeListener(B),oe!==null&&google.maps.event.removeListener(oe),$!==null&&google.maps.event.removeListener($),le!==null&&google.maps.event.removeListener(le),ge!==null&&google.maps.event.removeListener(ge),T&&T(ce)}}},[]),C!==null&&e(C)||null}v.memo(yW);class vW extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{markerClusterer:null}),ae(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new OM(this.context,[],this.props.options);this.registeredEvents=ut({updaterMap:kt,eventMap:as,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:kt,eventMap:as,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),ht(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}ae(vW,"contextType",st);function Uk(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var VM=(function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(p){p.returnValue=!1,p.preventDefault&&p.preventDefault(),e.enableEventPropagation||Uk(p)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],l=0,c=o;l<c.length;l++){var u=c[l];this.eventListeners.push(google.maps.event.addListener(this.div,u,Uk))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,s=0,o=n.getBounds();o&&!o.contains(this.position)&&n.setCenter(this.position);var l=n.getDiv(),c=l.offsetWidth,u=l.offsetHeight,f=this.pixelOffset.width,p=this.pixelOffset.height,y=this.div.offsetWidth,x=this.div.offsetHeight,E=this.infoBoxClearance.width,k=this.infoBoxClearance.height,I=this.getProjection(),P=I.fromLatLngToContainerPixel(this.position);P!==null&&(P.x<-f+E?r=P.x+f-E:P.x+y+f+E>c&&(r=P.x+y+f+E-c),this.alignBottom?P.y<-p+k+x?s=P.y+p-k-x:P.y+p+k>u&&(s=P.y+p+k-u):P.y<-p+k?s=P.y+p-k:P.y+x+p+k>u&&(s=P.y+x+p+k-u)),r===0&&s===0||n.panBy(r,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();r.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return function(s){for(var o in s.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=s.prototype[o]);return this}.apply(e,[n])},t})(),wW=["position"],xW=["position"];function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Bk={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Hk={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},bW={};function _W(t){var{children:e,anchor:n,options:r,position:s,zIndex:o,onCloseClick:l,onDomReady:c,onContentChanged:u,onPositionChanged:f,onZindexChanged:p,onLoad:y,onUnmount:x}=t,E=v.useContext(st),[k,I]=v.useState(null),[P,D]=v.useState(null),[A,z]=v.useState(null),[H,F]=v.useState(null),[R,M]=v.useState(null),[T,C]=v.useState(null),O=v.useRef(null);return v.useEffect(()=>{E&&k!==null&&(k.close(),n?k.open(E,n):k.getPosition()&&k.open(E))},[E,k,n]),v.useEffect(()=>{r&&k!==null&&k.setOptions(r)},[k,r]),v.useEffect(()=>{if(s&&k!==null){var V=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);k.setPosition(V)}},[s]),v.useEffect(()=>{typeof o=="number"&&k!==null&&k.setZIndex(o)},[o]),v.useEffect(()=>{k&&l&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(k,"closeclick",l)))},[l]),v.useEffect(()=>{k&&c&&(A!==null&&google.maps.event.removeListener(A),z(google.maps.event.addListener(k,"domready",c)))},[c]),v.useEffect(()=>{k&&u&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(k,"content_changed",u)))},[u]),v.useEffect(()=>{k&&f&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(k,"position_changed",f)))},[f]),v.useEffect(()=>{k&&p&&(T!==null&&google.maps.event.removeListener(T),C(google.maps.event.addListener(k,"zindex_changed",p)))},[p]),v.useEffect(()=>{if(E){var V=r||bW,{position:$}=V,L=mw(V,wW),le;$&&!($ instanceof google.maps.LatLng)&&(le=new google.maps.LatLng($.lat,$.lng));var pe=new VM(tm(tm({},L),le?{position:le}:{}));O.current=document.createElement("div"),I(pe),l&&D(google.maps.event.addListener(pe,"closeclick",l)),c&&z(google.maps.event.addListener(pe,"domready",c)),u&&F(google.maps.event.addListener(pe,"content_changed",u)),f&&M(google.maps.event.addListener(pe,"position_changed",f)),p&&C(google.maps.event.addListener(pe,"zindex_changed",p)),pe.setContent(O.current),n?pe.open(E,n):pe.getPosition()?pe.open(E):kn(!1,"You must provide either an anchor or a position prop for <InfoBox>."),y&&y(pe)}return()=>{k!==null&&(P&&google.maps.event.removeListener(P),H&&google.maps.event.removeListener(H),A&&google.maps.event.removeListener(A),R&&google.maps.event.removeListener(R),T&&google.maps.event.removeListener(T),x&&x(k),k.close())}},[]),O.current?Ka.createPortal(v.Children.only(e),O.current):null}v.memo(_W);class EW extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"containerElement",null),ae(this,"state",{infoBox:null}),ae(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):kn(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),ae(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=mw(e,xW),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var o=new VM(tm(tm({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ut({updaterMap:Hk,eventMap:Bk,prevProps:{},nextProps:this.props,instance:o}),this.setState({infoBox:o},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:Hk,eventMap:Bk,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),ht(this.registeredEvents),n.close())}render(){return this.containerElement?Ka.createPortal(v.Children.only(this.props.children),this.containerElement):null}}ae(EW,"contextType",st);var Jg,$k;function kW(){return $k||($k=1,Jg=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var l=o[s];if(!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),Jg}var SW=kW(),Wk=IM(SW),Gk=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Zg=1,pu=8;class pw{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=r>>4;if(s!==Zg)throw new Error("Got v".concat(s," data when expected v").concat(Zg,"."));var o=Gk[r&15];if(!o)throw new Error("Unrecognized array type.");var[l]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new pw(c,l,o,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var o=Gk.indexOf(this.ArrayType),l=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-c%8)%8;if(o<0)throw new Error("Unexpected typed array class: ".concat(r,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,pu,e),this.coords=new this.ArrayType(this.data,pu+c+u,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(pu+l+c+u),this.ids=new this.IndexArrayType(this.data,pu,e),this.coords=new this.ArrayType(this.data,pu+c+u,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Zg<<4)+o]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return _v(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:l,nodeSize:c}=this,u=[0,o.length-1,0],f=[];u.length;){var p=u.pop()||0,y=u.pop()||0,x=u.pop()||0;if(y-x<=c){for(var E=x;E<=y;E++){var k=l[2*E],I=l[2*E+1];k>=e&&k<=r&&I>=n&&I<=s&&f.push(o[E])}continue}var P=x+y>>1,D=l[2*P],A=l[2*P+1];D>=e&&D<=r&&A>=n&&A<=s&&f.push(o[P]),(p===0?e<=D:n<=A)&&(u.push(x),u.push(P-1),u.push(1-p)),(p===0?r>=D:s>=A)&&(u.push(P+1),u.push(y),u.push(1-p))}return f}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:l}=this,c=[0,s.length-1,0],u=[],f=r*r;c.length;){var p=c.pop()||0,y=c.pop()||0,x=c.pop()||0;if(y-x<=l){for(var E=x;E<=y;E++)qk(o[2*E],o[2*E+1],e,n)<=f&&u.push(s[E]);continue}var k=x+y>>1,I=o[2*k],P=o[2*k+1];qk(I,P,e,n)<=f&&u.push(s[k]),(p===0?e-r<=I:n-r<=P)&&(c.push(x),c.push(k-1),c.push(1-p)),(p===0?e+r>=I:n+r>=P)&&(c.push(k+1),c.push(y),c.push(1-p))}return u}}function _v(t,e,n,r,s,o){if(!(s-r<=n)){var l=r+s>>1;FM(t,e,l,r,s,o),_v(t,e,n,r,l-1,1-o),_v(t,e,n,l+1,s,1-o)}}function FM(t,e,n,r,s,o){for(;s>r;){if(s-r>600){var l=s-r+1,c=n-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),y=Math.max(r,Math.floor(n-c*f/l+p)),x=Math.min(s,Math.floor(n+(l-c)*f/l+p));FM(t,e,n,y,x,o)}var E=e[2*n+o],k=r,I=s;for(gu(t,e,r,n),e[2*s+o]>E&&gu(t,e,r,s);k<I;){for(gu(t,e,k,I),k++,I--;e[2*k+o]<E;)k++;for(;e[2*I+o]>E;)I--}e[2*r+o]===E?gu(t,e,r,I):(I++,gu(t,e,I,s)),I<=n&&(r=I+1),n<=I&&(s=I-1)}}function gu(t,e,n,r){ey(t,n,r),ey(e,2*n,2*r),ey(e,2*n+1,2*r+1)}function ey(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function qk(t,e,n,r){var s=t-n,o=e-r;return s*s+o*o}var TW={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Kk=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Sa=2,Po=3,ty=4,Co=5,UM=6;class CW{constructor(e){this.options=Object.assign(Object.create(TW),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");var o="prepare ".concat(e.length," points");n&&console.time(o),this.points=e;for(var l=[],c=0;c<e.length;c++){var u=e[c];if(u.geometry){var[f,p]=u.geometry.coordinates,y=Kk(qh(f)),x=Kk(Kh(p));l.push(y,x,1/0,c,-1,1),this.options.reduce&&l.push(0)}}var E=this.trees[s+1]=this._createTree(l);n&&console.timeEnd(o);for(var k=s;k>=r;k--){var I=+Date.now();E=this.trees[k]=this._createTree(this._cluster(E,k)),n&&console.log("z%d: %d clusters in %dms",k,E.numItems,+Date.now()-I)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),o=e[2]===180?180:((e[2]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){var c=this.getClusters([r,s,180,l],n),u=this.getClusters([-180,s,o,l],n);return c.concat(u)}var f=this.trees[this._limitZoom(n)],p=f.range(qh(r),Kh(l),qh(o),Kh(s)),y=f.data,x=[];for(var E of p){var k=this.stride*E;x.push(y[k+Co]>1?Yk(y,k,this.clusterProps):this.points[y[k+Po]])}return x}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(s);var l=o.data;if(n*this.stride>=l.length)throw new Error(s);var c=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=l[n*this.stride],f=l[n*this.stride+1],p=o.within(u,f,c),y=[];for(var x of p){var E=x*this.stride;l[E+ty]===e&&y.push(l[E+Co]>1?Yk(l,E,this.clusterProps):this.points[l[E+Po]])}if(y.length===0)throw new Error(s);return y}getLeaves(e,n,r){n=n||10,r=r||0;var s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){var s=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:l,radius:c}=this.options,u=c/l,f=(r-u)/o,p=(r+1+u)/o,y={features:[]};return this._addTileFeatures(s.range((n-u)/o,f,(n+1+u)/o,p),s.data,n,r,o,y),n===0&&this._addTileFeatures(s.range(1-u/o,f,1,p),s.data,o,r,o,y),n===o-1&&this._addTileFeatures(s.range(0,f,u/o,p),s.data,-1,r,o,y),y.features.length?y:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,o){var l=this.getChildren(n);for(var c of l){var u=c.properties;if(u&&u.cluster?o+u.point_count<=s?o+=u.point_count:o=this._appendLeaves(e,u.cluster_id,r,s,o):o<s?o++:e.push(c),e.length===r)break}return o}_createTree(e){for(var n=new pw(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,o,l){for(var c of e){var u=c*this.stride,f=n[u+Co]>1,p=void 0,y=void 0,x=void 0;if(f)p=zM(n,u,this.clusterProps),y=n[u],x=n[u+1];else{var E=this.points[n[u+Po]];p=E.properties;var[k,I]=E.geometry.coordinates;y=qh(k),x=Kh(I)}var P={type:1,geometry:[[Math.round(this.options.extent*(y*o-r)),Math.round(this.options.extent*(x*o-s))]],tags:p},D=void 0;f||this.options.generateId?D=n[u+Po]:D=this.points[n[u+Po]].id,D!==void 0&&(P.id=D),l.features.push(P)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:s,reduce:o,minPoints:l}=this.options,c=r/(s*Math.pow(2,n)),u=e.data,f=[],p=this.stride,y=0;y<u.length;y+=p)if(!(u[y+Sa]<=n)){u[y+Sa]=n;var x=u[y],E=u[y+1],k=e.within(u[y],u[y+1],c),I=u[y+Co],P=I;for(var D of k){var A=D*p;u[A+Sa]>n&&(P+=u[A+Co])}if(P>I&&P>=l){var z=x*I,H=E*I,F=void 0,R=-1,M=((y/p|0)<<5)+(n+1)+this.points.length;for(var T of k){var C=T*p;if(!(u[C+Sa]<=n)){u[C+Sa]=n;var O=u[C+Co];z+=u[C]*O,H+=u[C+1]*O,u[C+ty]=M,o&&(F||(F=this._map(u,y,!0),R=this.clusterProps.length,this.clusterProps.push(F)),o(F,this._map(u,C)))}}u[y+ty]=M,f.push(z/P,H/P,1/0,M,-1,P),o&&f.push(R)}else{for(var V=0;V<p;V++)f.push(u[y+V]);if(P>1)for(var $ of k){var L=$*p;if(!(u[L+Sa]<=n)){u[L+Sa]=n;for(var le=0;le<p;le++)f.push(u[L+le])}}}}return f}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Co]>1){var s=this.clusterProps[e[n+UM]];return r?Object.assign({},s):s}var o=this.points[e[n+Po]].properties,l=this.options.map(o);return r&&l===o?Object.assign({},l):l}}function Yk(t,e,n){return{type:"Feature",id:t[e+Po],properties:zM(t,e,n),geometry:{type:"Point",coordinates:[PW(t[e]),IW(t[e+1])]}}}function zM(t,e,n){var r=t[e+Co],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,o=t[e+UM],l=o===-1?{}:Object.assign({},n[o]);return Object.assign(l,{cluster:!0,cluster_id:t[e+Po],point_count:r,point_count_abbreviated:s})}function qh(t){return t/360+.5}function Kh(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function PW(t){return(t-.5)*360}function IW(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function NW(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class Wr{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Ev{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Wr.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Wr.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Wr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class MW{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return LW(n)}}var LW=t=>{var e=t.map(n=>new Ev({position:Wr.getPosition(n),markers:[n]}));return e};class AW extends MW{constructor(e){var{maxZoom:n,radius:r=60}=e,s=NW(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new CW(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!Wk(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(o=>{var l=Wr.getPosition(o),c=[l.lng(),l.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:o}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Wk(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:s}=e;if(s.cluster)return new Ev({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(l=>l.properties.marker),position:{lat:r,lng:n}});var o=s.marker;return new Ev({markers:[o],position:Wr.getPosition(o)})}}class RW{constructor(e,n){this.markers={sum:e.length};var r=n.map(o=>o.count),s=r.reduce((o,l)=>o+l,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class jW{render(e,n,r){var{count:s,position:o}=e,l=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(l,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),u="Cluster of ".concat(s," markers"),f=Number(google.maps.Marker.MAX_ZINDEX)+s;if(Wr.isAdvancedMarkerAvailable(r)){var p=new DOMParser,y=p.parseFromString(c,"image/svg+xml").documentElement;y.setAttribute("transform","translate(0 25)");var x={map:r,position:o,zIndex:f,title:u,content:y};return new google.maps.marker.AdvancedMarkerElement(x)}var E={position:o,zIndex:f,title:u,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(E)}}function DW(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class gw{constructor(){DW(gw,google.maps.OverlayView)}}var zu;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(zu||(zu={}));var OW=(t,e,n)=>{n.fitBounds(e.bounds)};class VW extends gw{constructor(e){var{map:n,markers:r=[],algorithmOptions:s={},algorithm:o=new AW(s),renderer:l=new jW,onClusterClick:c=OW}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=o,this.renderer=l,this.onClusterClick=c,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Wr.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,zu.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var s=new Set;for(var o of n)o.markers.length==1&&s.add(o.markers[0]);var l=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?s.has(c.marker)||Wr.setMap(c.marker,null):l.push(c.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>l.forEach(u=>Wr.setMap(u,null)))}google.maps.event.trigger(this,zu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Wr.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new RW(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>Wr.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,zu.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),Wr.setMap(r.marker,n)})}}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FW(t){var e=V$(),[n,r]=v.useState(null);return v.useEffect(()=>{if(e&&n===null){var s=new VW(Xk(Xk({},t),{},{map:e}));r(s)}},[e]),n}function UW(t){var{children:e,options:n}=t,r=FW(n);return r!==null?e(r):null}v.memo(UW);var Jk={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Zk={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function zW(t){var{children:e,anchor:n,options:r,position:s,zIndex:o,onCloseClick:l,onDomReady:c,onContentChanged:u,onPositionChanged:f,onZindexChanged:p,onLoad:y,onUnmount:x}=t,E=v.useContext(st),[k,I]=v.useState(null),[P,D]=v.useState(null),[A,z]=v.useState(null),[H,F]=v.useState(null),[R,M]=v.useState(null),[T,C]=v.useState(null),O=v.useRef(null);return v.useEffect(()=>{k!==null&&(k.close(),n?k.open(E,n):k.getPosition()&&k.open(E))},[E,k,n]),v.useEffect(()=>{r&&k!==null&&k.setOptions(r)},[k,r]),v.useEffect(()=>{s&&k!==null&&k.setPosition(s)},[s]),v.useEffect(()=>{typeof o=="number"&&k!==null&&k.setZIndex(o)},[o]),v.useEffect(()=>{k&&l&&(P!==null&&google.maps.event.removeListener(P),D(google.maps.event.addListener(k,"closeclick",l)))},[l]),v.useEffect(()=>{k&&c&&(A!==null&&google.maps.event.removeListener(A),z(google.maps.event.addListener(k,"domready",c)))},[c]),v.useEffect(()=>{k&&u&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(k,"content_changed",u)))},[u]),v.useEffect(()=>{k&&f&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(k,"position_changed",f)))},[f]),v.useEffect(()=>{k&&p&&(T!==null&&google.maps.event.removeListener(T),C(google.maps.event.addListener(k,"zindex_changed",p)))},[p]),v.useEffect(()=>{var V=new google.maps.InfoWindow(r);return I(V),O.current=document.createElement("div"),l&&D(google.maps.event.addListener(V,"closeclick",l)),c&&z(google.maps.event.addListener(V,"domready",c)),u&&F(google.maps.event.addListener(V,"content_changed",u)),f&&M(google.maps.event.addListener(V,"position_changed",f)),p&&C(google.maps.event.addListener(V,"zindex_changed",p)),V.setContent(O.current),s&&V.setPosition(s),o&&V.setZIndex(o),n?V.open(E,n):V.getPosition()?V.open(E):kn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),y&&y(V),()=>{P&&google.maps.event.removeListener(P),H&&google.maps.event.removeListener(H),A&&google.maps.event.removeListener(A),R&&google.maps.event.removeListener(R),T&&google.maps.event.removeListener(T),x&&x(V),V.close()}},[]),O.current?Ka.createPortal(v.Children.only(e),O.current):null}v.memo(zW);class BW extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"containerElement",null),ae(this,"state",{infoWindow:null}),ae(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):kn(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),ae(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=ut({updaterMap:Zk,eventMap:Jk,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:Zk,eventMap:Jk,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(ht(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Ka.createPortal(v.Children.only(this.props.children),this.containerElement):null}}ae(BW,"contextType",st);function eS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eS(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var tS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},nS={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},HW={};function $W(t){var{options:e,draggable:n,editable:r,visible:s,path:o,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:f,onMouseMove:p,onMouseOut:y,onMouseOver:x,onMouseUp:E,onRightClick:k,onClick:I,onDrag:P,onLoad:D,onUnmount:A}=t,z=v.useContext(st),[H,F]=v.useState(null),[R,M]=v.useState(null),[T,C]=v.useState(null),[O,V]=v.useState(null),[$,L]=v.useState(null),[le,pe]=v.useState(null),[ge,re]=v.useState(null),[B,ue]=v.useState(null),[oe,G]=v.useState(null),[ee,ce]=v.useState(null),[ve,Z]=v.useState(null),[Pe,Se]=v.useState(null);return v.useEffect(()=>{H!==null&&H.setMap(z)},[z]),v.useEffect(()=>{typeof e<"u"&&H!==null&&H.setOptions(e)},[H,e]),v.useEffect(()=>{typeof n<"u"&&H!==null&&H.setDraggable(n)},[H,n]),v.useEffect(()=>{typeof r<"u"&&H!==null&&H.setEditable(r)},[H,r]),v.useEffect(()=>{typeof s<"u"&&H!==null&&H.setVisible(s)},[H,s]),v.useEffect(()=>{typeof o<"u"&&H!==null&&H.setPath(o)},[H,o]),v.useEffect(()=>{H&&l&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(H,"dblclick",l)))},[l]),v.useEffect(()=>{H&&c&&(T!==null&&google.maps.event.removeListener(T),C(google.maps.event.addListener(H,"dragend",c)))},[c]),v.useEffect(()=>{H&&u&&(O!==null&&google.maps.event.removeListener(O),V(google.maps.event.addListener(H,"dragstart",u)))},[u]),v.useEffect(()=>{H&&f&&($!==null&&google.maps.event.removeListener($),L(google.maps.event.addListener(H,"mousedown",f)))},[f]),v.useEffect(()=>{H&&p&&(le!==null&&google.maps.event.removeListener(le),pe(google.maps.event.addListener(H,"mousemove",p)))},[p]),v.useEffect(()=>{H&&y&&(ge!==null&&google.maps.event.removeListener(ge),re(google.maps.event.addListener(H,"mouseout",y)))},[y]),v.useEffect(()=>{H&&x&&(B!==null&&google.maps.event.removeListener(B),ue(google.maps.event.addListener(H,"mouseover",x)))},[x]),v.useEffect(()=>{H&&E&&(oe!==null&&google.maps.event.removeListener(oe),G(google.maps.event.addListener(H,"mouseup",E)))},[E]),v.useEffect(()=>{H&&k&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(H,"rightclick",k)))},[k]),v.useEffect(()=>{H&&I&&(ve!==null&&google.maps.event.removeListener(ve),Z(google.maps.event.addListener(H,"click",I)))},[I]),v.useEffect(()=>{H&&P&&(Pe!==null&&google.maps.event.removeListener(Pe),Se(google.maps.event.addListener(H,"drag",P)))},[P]),v.useEffect(()=>{var ke=new google.maps.Polyline(nm(nm({},e||HW),{},{map:z}));return o&&ke.setPath(o),typeof s<"u"&&ke.setVisible(s),typeof r<"u"&&ke.setEditable(r),typeof n<"u"&&ke.setDraggable(n),l&&M(google.maps.event.addListener(ke,"dblclick",l)),c&&C(google.maps.event.addListener(ke,"dragend",c)),u&&V(google.maps.event.addListener(ke,"dragstart",u)),f&&L(google.maps.event.addListener(ke,"mousedown",f)),p&&pe(google.maps.event.addListener(ke,"mousemove",p)),y&&re(google.maps.event.addListener(ke,"mouseout",y)),x&&ue(google.maps.event.addListener(ke,"mouseover",x)),E&&G(google.maps.event.addListener(ke,"mouseup",E)),k&&ce(google.maps.event.addListener(ke,"rightclick",k)),I&&Z(google.maps.event.addListener(ke,"click",I)),P&&Se(google.maps.event.addListener(ke,"drag",P)),F(ke),D&&D(ke),()=>{R!==null&&google.maps.event.removeListener(R),T!==null&&google.maps.event.removeListener(T),O!==null&&google.maps.event.removeListener(O),$!==null&&google.maps.event.removeListener($),le!==null&&google.maps.event.removeListener(le),ge!==null&&google.maps.event.removeListener(ge),B!==null&&google.maps.event.removeListener(B),oe!==null&&google.maps.event.removeListener(oe),ee!==null&&google.maps.event.removeListener(ee),ve!==null&&google.maps.event.removeListener(ve),A&&A(ke),ke.setMap(null)}},[]),null}v.memo($W);class WW extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{polyline:null}),ae(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(nm(nm({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:nS,eventMap:tS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:nS,eventMap:tS,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),ht(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}ae(WW,"contextType",st);function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var iS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},oS={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function GW(t){var{options:e,draggable:n,editable:r,visible:s,path:o,paths:l,onDblClick:c,onDragEnd:u,onDragStart:f,onMouseDown:p,onMouseMove:y,onMouseOut:x,onMouseOver:E,onMouseUp:k,onRightClick:I,onClick:P,onDrag:D,onLoad:A,onUnmount:z,onEdit:H}=t,F=v.useContext(st),[R,M]=v.useState(null),[T,C]=v.useState(null),[O,V]=v.useState(null),[$,L]=v.useState(null),[le,pe]=v.useState(null),[ge,re]=v.useState(null),[B,ue]=v.useState(null),[oe,G]=v.useState(null),[ee,ce]=v.useState(null),[ve,Z]=v.useState(null),[Pe,Se]=v.useState(null),[ke,We]=v.useState(null);return v.useEffect(()=>{R!==null&&R.setMap(F)},[F]),v.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),v.useEffect(()=>{typeof n<"u"&&R!==null&&R.setDraggable(n)},[R,n]),v.useEffect(()=>{typeof r<"u"&&R!==null&&R.setEditable(r)},[R,r]),v.useEffect(()=>{typeof s<"u"&&R!==null&&R.setVisible(s)},[R,s]),v.useEffect(()=>{typeof o<"u"&&R!==null&&R.setPath(o)},[R,o]),v.useEffect(()=>{typeof l<"u"&&R!==null&&R.setPaths(l)},[R,l]),v.useEffect(()=>{R&&typeof c=="function"&&(T!==null&&google.maps.event.removeListener(T),C(google.maps.event.addListener(R,"dblclick",c)))},[c]),v.useEffect(()=>{R&&(google.maps.event.addListener(R.getPath(),"insert_at",()=>{H?.(R)}),google.maps.event.addListener(R.getPath(),"set_at",()=>{H?.(R)}),google.maps.event.addListener(R.getPath(),"remove_at",()=>{H?.(R)}))},[R,H]),v.useEffect(()=>{R&&typeof u=="function"&&(O!==null&&google.maps.event.removeListener(O),V(google.maps.event.addListener(R,"dragend",u)))},[u]),v.useEffect(()=>{R&&typeof f=="function"&&($!==null&&google.maps.event.removeListener($),L(google.maps.event.addListener(R,"dragstart",f)))},[f]),v.useEffect(()=>{R&&typeof p=="function"&&(le!==null&&google.maps.event.removeListener(le),pe(google.maps.event.addListener(R,"mousedown",p)))},[p]),v.useEffect(()=>{R&&typeof y=="function"&&(ge!==null&&google.maps.event.removeListener(ge),re(google.maps.event.addListener(R,"mousemove",y)))},[y]),v.useEffect(()=>{R&&typeof x=="function"&&(B!==null&&google.maps.event.removeListener(B),ue(google.maps.event.addListener(R,"mouseout",x)))},[x]),v.useEffect(()=>{R&&typeof E=="function"&&(oe!==null&&google.maps.event.removeListener(oe),G(google.maps.event.addListener(R,"mouseover",E)))},[E]),v.useEffect(()=>{R&&typeof k=="function"&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(R,"mouseup",k)))},[k]),v.useEffect(()=>{R&&typeof I=="function"&&(ve!==null&&google.maps.event.removeListener(ve),Z(google.maps.event.addListener(R,"rightclick",I)))},[I]),v.useEffect(()=>{R&&typeof P=="function"&&(Pe!==null&&google.maps.event.removeListener(Pe),Se(google.maps.event.addListener(R,"click",P)))},[P]),v.useEffect(()=>{R&&typeof D=="function"&&(ke!==null&&google.maps.event.removeListener(ke),We(google.maps.event.addListener(R,"drag",D)))},[D]),v.useEffect(()=>{var xe=new google.maps.Polygon(sS(sS({},e),{},{map:F}));return o&&xe.setPath(o),l&&xe.setPaths(l),typeof s<"u"&&xe.setVisible(s),typeof r<"u"&&xe.setEditable(r),typeof n<"u"&&xe.setDraggable(n),c&&C(google.maps.event.addListener(xe,"dblclick",c)),u&&V(google.maps.event.addListener(xe,"dragend",u)),f&&L(google.maps.event.addListener(xe,"dragstart",f)),p&&pe(google.maps.event.addListener(xe,"mousedown",p)),y&&re(google.maps.event.addListener(xe,"mousemove",y)),x&&ue(google.maps.event.addListener(xe,"mouseout",x)),E&&G(google.maps.event.addListener(xe,"mouseover",E)),k&&ce(google.maps.event.addListener(xe,"mouseup",k)),I&&Z(google.maps.event.addListener(xe,"rightclick",I)),P&&Se(google.maps.event.addListener(xe,"click",P)),D&&We(google.maps.event.addListener(xe,"drag",D)),M(xe),A&&A(xe),()=>{T!==null&&google.maps.event.removeListener(T),O!==null&&google.maps.event.removeListener(O),$!==null&&google.maps.event.removeListener($),le!==null&&google.maps.event.removeListener(le),ge!==null&&google.maps.event.removeListener(ge),B!==null&&google.maps.event.removeListener(B),oe!==null&&google.maps.event.removeListener(oe),ee!==null&&google.maps.event.removeListener(ee),ve!==null&&google.maps.event.removeListener(ve),Pe!==null&&google.maps.event.removeListener(Pe),z&&z(xe),xe.setMap(null)}},[]),null}v.memo(GW);class qW extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=ut({updaterMap:oS,eventMap:iS,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:oS,eventMap:iS,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),ht(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}ae(qW,"contextType",st);function aS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var lS={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},cS={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function KW(t){var{options:e,bounds:n,draggable:r,editable:s,visible:o,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:f,onMouseMove:p,onMouseOut:y,onMouseOver:x,onMouseUp:E,onRightClick:k,onClick:I,onDrag:P,onBoundsChanged:D,onLoad:A,onUnmount:z}=t,H=v.useContext(st),[F,R]=v.useState(null),[M,T]=v.useState(null),[C,O]=v.useState(null),[V,$]=v.useState(null),[L,le]=v.useState(null),[pe,ge]=v.useState(null),[re,B]=v.useState(null),[ue,oe]=v.useState(null),[G,ee]=v.useState(null),[ce,ve]=v.useState(null),[Z,Pe]=v.useState(null),[Se,ke]=v.useState(null),[We,xe]=v.useState(null);return v.useEffect(()=>{F!==null&&F.setMap(H)},[H]),v.useEffect(()=>{typeof e<"u"&&F!==null&&F.setOptions(e)},[F,e]),v.useEffect(()=>{typeof r<"u"&&F!==null&&F.setDraggable(r)},[F,r]),v.useEffect(()=>{typeof s<"u"&&F!==null&&F.setEditable(s)},[F,s]),v.useEffect(()=>{typeof o<"u"&&F!==null&&F.setVisible(o)},[F,o]),v.useEffect(()=>{typeof n<"u"&&F!==null&&F.setBounds(n)},[F,n]),v.useEffect(()=>{F&&l&&(M!==null&&google.maps.event.removeListener(M),T(google.maps.event.addListener(F,"dblclick",l)))},[l]),v.useEffect(()=>{F&&c&&(C!==null&&google.maps.event.removeListener(C),O(google.maps.event.addListener(F,"dragend",c)))},[c]),v.useEffect(()=>{F&&u&&(V!==null&&google.maps.event.removeListener(V),$(google.maps.event.addListener(F,"dragstart",u)))},[u]),v.useEffect(()=>{F&&f&&(L!==null&&google.maps.event.removeListener(L),le(google.maps.event.addListener(F,"mousedown",f)))},[f]),v.useEffect(()=>{F&&p&&(pe!==null&&google.maps.event.removeListener(pe),ge(google.maps.event.addListener(F,"mousemove",p)))},[p]),v.useEffect(()=>{F&&y&&(re!==null&&google.maps.event.removeListener(re),B(google.maps.event.addListener(F,"mouseout",y)))},[y]),v.useEffect(()=>{F&&x&&(ue!==null&&google.maps.event.removeListener(ue),oe(google.maps.event.addListener(F,"mouseover",x)))},[x]),v.useEffect(()=>{F&&E&&(G!==null&&google.maps.event.removeListener(G),ee(google.maps.event.addListener(F,"mouseup",E)))},[E]),v.useEffect(()=>{F&&k&&(ce!==null&&google.maps.event.removeListener(ce),ve(google.maps.event.addListener(F,"rightclick",k)))},[k]),v.useEffect(()=>{F&&I&&(Z!==null&&google.maps.event.removeListener(Z),Pe(google.maps.event.addListener(F,"click",I)))},[I]),v.useEffect(()=>{F&&P&&(Se!==null&&google.maps.event.removeListener(Se),ke(google.maps.event.addListener(F,"drag",P)))},[P]),v.useEffect(()=>{F&&D&&(We!==null&&google.maps.event.removeListener(We),xe(google.maps.event.addListener(F,"bounds_changed",D)))},[D]),v.useEffect(()=>{var Ye=new google.maps.Rectangle(rm(rm({},e),{},{map:H}));return typeof o<"u"&&Ye.setVisible(o),typeof s<"u"&&Ye.setEditable(s),typeof r<"u"&&Ye.setDraggable(r),typeof n<"u"&&Ye.setBounds(n),l&&T(google.maps.event.addListener(Ye,"dblclick",l)),c&&O(google.maps.event.addListener(Ye,"dragend",c)),u&&$(google.maps.event.addListener(Ye,"dragstart",u)),f&&le(google.maps.event.addListener(Ye,"mousedown",f)),p&&ge(google.maps.event.addListener(Ye,"mousemove",p)),y&&B(google.maps.event.addListener(Ye,"mouseout",y)),x&&oe(google.maps.event.addListener(Ye,"mouseover",x)),E&&ee(google.maps.event.addListener(Ye,"mouseup",E)),k&&ve(google.maps.event.addListener(Ye,"rightclick",k)),I&&Pe(google.maps.event.addListener(Ye,"click",I)),P&&ke(google.maps.event.addListener(Ye,"drag",P)),D&&xe(google.maps.event.addListener(Ye,"bounds_changed",D)),R(Ye),A&&A(Ye),()=>{M!==null&&google.maps.event.removeListener(M),C!==null&&google.maps.event.removeListener(C),V!==null&&google.maps.event.removeListener(V),L!==null&&google.maps.event.removeListener(L),pe!==null&&google.maps.event.removeListener(pe),re!==null&&google.maps.event.removeListener(re),ue!==null&&google.maps.event.removeListener(ue),G!==null&&google.maps.event.removeListener(G),ce!==null&&google.maps.event.removeListener(ce),Z!==null&&google.maps.event.removeListener(Z),Se!==null&&google.maps.event.removeListener(Se),We!==null&&google.maps.event.removeListener(We),z&&z(Ye),Ye.setMap(null)}},[]),null}v.memo(KW);class YW extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{rectangle:null}),ae(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(rm(rm({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:cS,eventMap:lS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:cS,eventMap:lS,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),ht(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}ae(YW,"contextType",st);function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var dS={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},hS={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},QW={};function XW(t){var{options:e,center:n,radius:r,draggable:s,editable:o,visible:l,onDblClick:c,onDragEnd:u,onDragStart:f,onMouseDown:p,onMouseMove:y,onMouseOut:x,onMouseOver:E,onMouseUp:k,onRightClick:I,onClick:P,onDrag:D,onCenterChanged:A,onRadiusChanged:z,onLoad:H,onUnmount:F}=t,R=v.useContext(st),[M,T]=v.useState(null),[C,O]=v.useState(null),[V,$]=v.useState(null),[L,le]=v.useState(null),[pe,ge]=v.useState(null),[re,B]=v.useState(null),[ue,oe]=v.useState(null),[G,ee]=v.useState(null),[ce,ve]=v.useState(null),[Z,Pe]=v.useState(null),[Se,ke]=v.useState(null),[We,xe]=v.useState(null),[Ye,zt]=v.useState(null),[dn,hn]=v.useState(null);return v.useEffect(()=>{M!==null&&M.setMap(R)},[R]),v.useEffect(()=>{typeof e<"u"&&M!==null&&M.setOptions(e)},[M,e]),v.useEffect(()=>{typeof s<"u"&&M!==null&&M.setDraggable(s)},[M,s]),v.useEffect(()=>{typeof o<"u"&&M!==null&&M.setEditable(o)},[M,o]),v.useEffect(()=>{typeof l<"u"&&M!==null&&M.setVisible(l)},[M,l]),v.useEffect(()=>{typeof r=="number"&&M!==null&&M.setRadius(r)},[M,r]),v.useEffect(()=>{typeof n<"u"&&M!==null&&M.setCenter(n)},[M,n]),v.useEffect(()=>{M&&c&&(C!==null&&google.maps.event.removeListener(C),O(google.maps.event.addListener(M,"dblclick",c)))},[c]),v.useEffect(()=>{M&&u&&(V!==null&&google.maps.event.removeListener(V),$(google.maps.event.addListener(M,"dragend",u)))},[u]),v.useEffect(()=>{M&&f&&(L!==null&&google.maps.event.removeListener(L),le(google.maps.event.addListener(M,"dragstart",f)))},[f]),v.useEffect(()=>{M&&p&&(pe!==null&&google.maps.event.removeListener(pe),ge(google.maps.event.addListener(M,"mousedown",p)))},[p]),v.useEffect(()=>{M&&y&&(re!==null&&google.maps.event.removeListener(re),B(google.maps.event.addListener(M,"mousemove",y)))},[y]),v.useEffect(()=>{M&&x&&(ue!==null&&google.maps.event.removeListener(ue),oe(google.maps.event.addListener(M,"mouseout",x)))},[x]),v.useEffect(()=>{M&&E&&(G!==null&&google.maps.event.removeListener(G),ee(google.maps.event.addListener(M,"mouseover",E)))},[E]),v.useEffect(()=>{M&&k&&(ce!==null&&google.maps.event.removeListener(ce),ve(google.maps.event.addListener(M,"mouseup",k)))},[k]),v.useEffect(()=>{M&&I&&(Z!==null&&google.maps.event.removeListener(Z),Pe(google.maps.event.addListener(M,"rightclick",I)))},[I]),v.useEffect(()=>{M&&P&&(Se!==null&&google.maps.event.removeListener(Se),ke(google.maps.event.addListener(M,"click",P)))},[P]),v.useEffect(()=>{M&&D&&(We!==null&&google.maps.event.removeListener(We),xe(google.maps.event.addListener(M,"drag",D)))},[D]),v.useEffect(()=>{M&&A&&(Ye!==null&&google.maps.event.removeListener(Ye),zt(google.maps.event.addListener(M,"center_changed",A)))},[P]),v.useEffect(()=>{M&&z&&(dn!==null&&google.maps.event.removeListener(dn),hn(google.maps.event.addListener(M,"radius_changed",z)))},[z]),v.useEffect(()=>{var yt=new google.maps.Circle(sm(sm({},e||QW),{},{map:R}));return typeof r=="number"&&yt.setRadius(r),typeof n<"u"&&yt.setCenter(n),typeof r=="number"&&yt.setRadius(r),typeof l<"u"&&yt.setVisible(l),typeof o<"u"&&yt.setEditable(o),typeof s<"u"&&yt.setDraggable(s),c&&O(google.maps.event.addListener(yt,"dblclick",c)),u&&$(google.maps.event.addListener(yt,"dragend",u)),f&&le(google.maps.event.addListener(yt,"dragstart",f)),p&&ge(google.maps.event.addListener(yt,"mousedown",p)),y&&B(google.maps.event.addListener(yt,"mousemove",y)),x&&oe(google.maps.event.addListener(yt,"mouseout",x)),E&&ee(google.maps.event.addListener(yt,"mouseover",E)),k&&ve(google.maps.event.addListener(yt,"mouseup",k)),I&&Pe(google.maps.event.addListener(yt,"rightclick",I)),P&&ke(google.maps.event.addListener(yt,"click",P)),D&&xe(google.maps.event.addListener(yt,"drag",D)),A&&zt(google.maps.event.addListener(yt,"center_changed",A)),z&&hn(google.maps.event.addListener(yt,"radius_changed",z)),T(yt),H&&H(yt),()=>{C!==null&&google.maps.event.removeListener(C),V!==null&&google.maps.event.removeListener(V),L!==null&&google.maps.event.removeListener(L),pe!==null&&google.maps.event.removeListener(pe),re!==null&&google.maps.event.removeListener(re),ue!==null&&google.maps.event.removeListener(ue),G!==null&&google.maps.event.removeListener(G),ce!==null&&google.maps.event.removeListener(ce),Z!==null&&google.maps.event.removeListener(Z),Se!==null&&google.maps.event.removeListener(Se),Ye!==null&&google.maps.event.removeListener(Ye),dn!==null&&google.maps.event.removeListener(dn),F&&F(yt),yt.setMap(null)}},[]),null}v.memo(XW);class JW extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{circle:null}),ae(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(sm(sm({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:hS,eventMap:dS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:hS,eventMap:dS,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),ht(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}ae(JW,"contextType",st);function fS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var mS={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},pS={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function ZW(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:s,onMouseMove:o,onMouseOut:l,onMouseOver:c,onMouseUp:u,onRightClick:f,onAddFeature:p,onRemoveFeature:y,onRemoveProperty:x,onSetGeometry:E,onSetProperty:k,onLoad:I,onUnmount:P}=t,D=v.useContext(st),[A,z]=v.useState(null),[H,F]=v.useState(null),[R,M]=v.useState(null),[T,C]=v.useState(null),[O,V]=v.useState(null),[$,L]=v.useState(null),[le,pe]=v.useState(null),[ge,re]=v.useState(null),[B,ue]=v.useState(null),[oe,G]=v.useState(null),[ee,ce]=v.useState(null),[ve,Z]=v.useState(null),[Pe,Se]=v.useState(null),[ke,We]=v.useState(null);return v.useEffect(()=>{A!==null&&A.setMap(D)},[D]),v.useEffect(()=>{A&&r&&(H!==null&&google.maps.event.removeListener(H),F(google.maps.event.addListener(A,"dblclick",r)))},[r]),v.useEffect(()=>{A&&s&&(R!==null&&google.maps.event.removeListener(R),M(google.maps.event.addListener(A,"mousedown",s)))},[s]),v.useEffect(()=>{A&&o&&(T!==null&&google.maps.event.removeListener(T),C(google.maps.event.addListener(A,"mousemove",o)))},[o]),v.useEffect(()=>{A&&l&&(O!==null&&google.maps.event.removeListener(O),V(google.maps.event.addListener(A,"mouseout",l)))},[l]),v.useEffect(()=>{A&&c&&($!==null&&google.maps.event.removeListener($),L(google.maps.event.addListener(A,"mouseover",c)))},[c]),v.useEffect(()=>{A&&u&&(le!==null&&google.maps.event.removeListener(le),pe(google.maps.event.addListener(A,"mouseup",u)))},[u]),v.useEffect(()=>{A&&f&&(ge!==null&&google.maps.event.removeListener(ge),re(google.maps.event.addListener(A,"rightclick",f)))},[f]),v.useEffect(()=>{A&&n&&(B!==null&&google.maps.event.removeListener(B),ue(google.maps.event.addListener(A,"click",n)))},[n]),v.useEffect(()=>{A&&p&&(oe!==null&&google.maps.event.removeListener(oe),G(google.maps.event.addListener(A,"addfeature",p)))},[p]),v.useEffect(()=>{A&&y&&(ee!==null&&google.maps.event.removeListener(ee),ce(google.maps.event.addListener(A,"removefeature",y)))},[y]),v.useEffect(()=>{A&&x&&(ve!==null&&google.maps.event.removeListener(ve),Z(google.maps.event.addListener(A,"removeproperty",x)))},[x]),v.useEffect(()=>{A&&E&&(Pe!==null&&google.maps.event.removeListener(Pe),Se(google.maps.event.addListener(A,"setgeometry",E)))},[E]),v.useEffect(()=>{A&&k&&(ke!==null&&google.maps.event.removeListener(ke),We(google.maps.event.addListener(A,"setproperty",k)))},[k]),v.useEffect(()=>{if(D!==null){var xe=new google.maps.Data(im(im({},e),{},{map:D}));r&&F(google.maps.event.addListener(xe,"dblclick",r)),s&&M(google.maps.event.addListener(xe,"mousedown",s)),o&&C(google.maps.event.addListener(xe,"mousemove",o)),l&&V(google.maps.event.addListener(xe,"mouseout",l)),c&&L(google.maps.event.addListener(xe,"mouseover",c)),u&&pe(google.maps.event.addListener(xe,"mouseup",u)),f&&re(google.maps.event.addListener(xe,"rightclick",f)),n&&ue(google.maps.event.addListener(xe,"click",n)),p&&G(google.maps.event.addListener(xe,"addfeature",p)),y&&ce(google.maps.event.addListener(xe,"removefeature",y)),x&&Z(google.maps.event.addListener(xe,"removeproperty",x)),E&&Se(google.maps.event.addListener(xe,"setgeometry",E)),k&&We(google.maps.event.addListener(xe,"setproperty",k)),z(xe),I&&I(xe)}return()=>{A&&(H!==null&&google.maps.event.removeListener(H),R!==null&&google.maps.event.removeListener(R),T!==null&&google.maps.event.removeListener(T),O!==null&&google.maps.event.removeListener(O),$!==null&&google.maps.event.removeListener($),le!==null&&google.maps.event.removeListener(le),ge!==null&&google.maps.event.removeListener(ge),B!==null&&google.maps.event.removeListener(B),oe!==null&&google.maps.event.removeListener(oe),ee!==null&&google.maps.event.removeListener(ee),ve!==null&&google.maps.event.removeListener(ve),Pe!==null&&google.maps.event.removeListener(Pe),ke!==null&&google.maps.event.removeListener(ke),P&&P(A),A.setMap(null))}},[]),null}v.memo(ZW);class eG extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{data:null}),ae(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(im(im({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:pS,eventMap:mS,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:pS,eventMap:mS,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),ht(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}ae(eG,"contextType",st);function gS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var vS={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},wS={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class tG extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{kmlLayer:null}),ae(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(yS(yS({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:wS,eventMap:vS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:wS,eventMap:vS,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),ht(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}ae(tG,"contextType",st);function BM(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function nG(t,e){return new e(t.lat,t.lng)}function rG(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function sG(t,e,n){return t instanceof e?t:n(t,e)}function iG(t,e,n){return t instanceof e?t:n(t,e)}function oG(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-s.x-e.x,"px"),height:"".concat(s.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function aG(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:s,y:o}=r;return{left:"".concat(s+e.x,"px"),top:"".concat(o+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function HM(t,e,n,r){return n!==void 0?oG(t,e,iG(n,google.maps.LatLngBounds,rG)):aG(t,e,sG(r,google.maps.LatLng,nG))}function lG(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function xS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uG(t,e,n,r,s){class o extends google.maps.OverlayView{constructor(c,u,f,p){super(),this.container=c,this.pane=u,this.position=f,this.bounds=p}onAdd(){var c,u=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];u?.appendChild(this.container)}draw(){var c=this.getProjection(),u=cG({},this.container?BM(this.container,s):{x:0,y:0}),f=HM(c,u,this.bounds,this.position);for(var[p,y]of Object.entries(f))this.container.style[p]=y}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new o(t,e,n,r)}function bS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _S(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function ES(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function hG(t){var{position:e,bounds:n,mapPaneName:r,zIndex:s,onLoad:o,onUnmount:l,getPixelPositionOffset:c,children:u}=t,f=v.useContext(st),p=v.useMemo(()=>{var x=document.createElement("div");return x.style.position="absolute",x},[]),y=v.useMemo(()=>uG(p,r,e,n,c),[p,r,e,n]);return v.useEffect(()=>(o?.(y),y?.setMap(f),()=>{l?.(y),y?.setMap(null)}),[f,y]),v.useEffect(()=>{p.style.zIndex="".concat(s)},[s,p]),Ka.createPortal(u,p)}v.memo(hG);class Sc extends v.PureComponent{constructor(e){super(e),ae(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),ae(this,"updatePane",()=>{var r=this.props.mapPaneName,s=this.overlayView.getPanes();kn(!!r,"OverlayView requires props.mapPaneName but got %s",r),s?this.setState({paneEl:s[r]}):this.setState({paneEl:null})}),ae(this,"onAdd",()=>{var r,s;this.updatePane(),(r=(s=this.props).onLoad)===null||r===void 0||r.call(s,this.overlayView)}),ae(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),s=dG({x:0,y:0},this.containerRef.current?BM(this.containerRef.current,this.props.getPixelPositionOffset):{}),o=HM(r,s,this.props.bounds,this.props.position);if(!lG(o,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var l,c,u,f;this.setState({containerStyle:{top:(l=o.top)!==null&&l!==void 0?l:0,left:(c=o.left)!==null&&c!==void 0?c:0,width:(u=o.width)!==null&&u!==void 0?u:0,height:(f=o.height)!==null&&f!==void 0?f:0,position:"absolute"}})}}),ae(this,"draw",()=>{this.onPositionElement()}),ae(this,"onRemove",()=>{var r,s;this.setState(()=>({paneEl:null})),(r=(s=this.props).onUnmount)===null||r===void 0||r.call(s,this.overlayView)}),this.containerRef=v.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=_S(e.position),r=_S(this.props.position),s=ES(e.bounds),o=ES(this.props.bounds);(n!==r||s!==o)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Ka.createPortal(h.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:v.Children.only(this.props.children)}),e):null}}ae(Sc,"FLOAT_PANE","floatPane");ae(Sc,"MAP_PANE","mapPane");ae(Sc,"MARKER_LAYER","markerLayer");ae(Sc,"OVERLAY_LAYER","overlayLayer");ae(Sc,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");ae(Sc,"contextType",st);function fG(){}function kS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function SS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kS(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var TS={onDblClick:"dblclick",onClick:"click"},CS={opacity(t,e){t.setOpacity(e)}};function mG(t){var{url:e,bounds:n,options:r,visible:s}=t,o=v.useContext(st),l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),c=v.useMemo(()=>new google.maps.GroundOverlay(e,l,r),[]);return v.useEffect(()=>{c!==null&&c.setMap(o)},[o]),v.useEffect(()=>{typeof e<"u"&&c!==null&&(c.set("url",e),c.setMap(o))},[c,e]),v.useEffect(()=>{typeof s<"u"&&c!==null&&c.setOpacity(s?1:0)},[c,s]),v.useEffect(()=>{var u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&c!==null&&(c.set("bounds",u),c.setMap(o))},[c,n]),null}v.memo(mG);class $M extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{groundOverlay:null}),ae(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){kn(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,SS(SS({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:CS,eventMap:TS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:CS,eventMap:TS,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}ae($M,"defaultProps",{onLoad:fG});ae($M,"contextType",st);function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function om(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var IS={},NS={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function pG(t){var{data:e,onLoad:n,onUnmount:r,options:s}=t,o=v.useContext(st),[l,c]=v.useState(null);return v.useEffect(()=>{google.maps.visualization||kn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),v.useEffect(()=>{kn(!!e,"data property is required in HeatmapLayer %s",e)},[e]),v.useEffect(()=>{l!==null&&l.setMap(o)},[o]),v.useEffect(()=>{s&&l!==null&&l.setOptions(s)},[l,s]),v.useEffect(()=>{var u=new google.maps.visualization.HeatmapLayer(om(om({},s),{},{data:e,map:o}));return c(u),n&&n(u),()=>{l!==null&&(r&&r(l),l.setMap(null))}},[]),null}v.memo(pG);class gG extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{heatmapLayer:null}),ae(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){kn(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),kn(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(om(om({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=ut({updaterMap:NS,eventMap:IS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:NS,eventMap:IS,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),ht(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}ae(gG,"contextType",st);var MS={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},LS={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class yG extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{streetViewPanorama:null}),ae(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=ut({updaterMap:LS,eventMap:MS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:LS,eventMap:MS,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),ht(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}ae(yG,"contextType",st);class vG extends v.PureComponent{constructor(){super(...arguments),ae(this,"state",{streetViewService:null}),ae(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}ae(vG,"contextType",st);var AS={onDirectionsChanged:"directions_changed"},RS={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class wG extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"state",{directionsRenderer:null}),ae(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ut({updaterMap:RS,eventMap:AS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:RS,eventMap:AS,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),ht(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}ae(wG,"contextType",st);var jS={onPlacesChanged:"places_changed"},DS={bounds(t,e){t.setBounds(e)}};class xG extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"containerElement",v.createRef()),ae(this,"state",{searchBox:null}),ae(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(kn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=ut({updaterMap:DS,eventMap:jS,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:DS,eventMap:jS,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),ht(this.registeredEvents))}render(){return h.jsx("div",{ref:this.containerElement,children:v.Children.only(this.props.children)})}}ae(xG,"contextType",st);var OS={onPlaceChanged:"place_changed"},VS={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class WM extends v.PureComponent{constructor(){super(...arguments),ae(this,"registeredEvents",[]),ae(this,"containerElement",v.createRef()),ae(this,"state",{autocomplete:null}),ae(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;kn(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=ut({updaterMap:VS,eventMap:OS,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){ht(this.registeredEvents),this.registeredEvents=ut({updaterMap:VS,eventMap:OS,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&ht(this.registeredEvents)}render(){return h.jsx("div",{ref:this.containerElement,className:this.props.className,children:v.Children.only(this.props.children)})}}ae(WM,"defaultProps",{className:""});ae(WM,"contextType",st);const bG=[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{hue:"#B6A169"},{saturation:-15},{lightness:5}]},{featureType:"water",elementType:"all",stylers:[{hue:"#005C97"},{saturation:30},{lightness:10}]},{featureType:"road",elementType:"all",stylers:[{saturation:-70}]}];function _G({selectedName:t,defaultCenter:e={lat:27.3389,lng:88.6065},markers:n=[]}){const r="AIzaSyBQQQP15Y1LwJJDCNRpGd6bBz3DZJ48LnM",{isLoaded:s}=jM({googleMapsApiKey:r}),[o,l]=v.useState(e);return v.useEffect(()=>{async function c(){if(!(!s||!t||!window.google?.maps))try{const f=await new window.google.maps.Geocoder().geocode({address:t+", Sikkim, India"});if(f.results&&f.results[0]){const p=f.results[0].geometry.location;l({lat:p.lat(),lng:p.lng()})}}catch(u){console.error("Geocoding error:",u)}}c()},[s,t]),s?h.jsx("div",{className:"h-[600px] w-full rounded-xl overflow-hidden bg-[#E5E3DF]",children:h.jsx(W$,{zoom:10,center:o,mapContainerClassName:"w-full h-full",options:{disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,backgroundColor:"#E5E3DF",styles:bG},onLoad:c=>{c.setOptions({backgroundColor:"#E5E3DF"})},children:n.map(c=>h.jsx(DM,{position:c.position,title:c.title,animation:window.google?.maps.Animation.DROP},c.id))})}):h.jsx("div",{className:"h-[600px] w-full rounded-xl bg-card border-2 border-[var(--monastery-gold)]/30 flex items-center justify-center",children:h.jsx("div",{className:"w-8 h-8 border-4 border-[var(--monastery-gold)]/30 border-t-[var(--monastery-gold)] rounded-full animate-spin"})})}function EG(){const[t,e]=v.useState(null),[n,r]=v.useState("all");v.useEffect(()=>()=>{document.querySelectorAll('script[src*="maps.googleapis.com"]').forEach(u=>u.remove())},[]);const s=[{id:1,name:"Rumtek Monastery",location:"Gangtok",century:"16th Century",description:"The largest and most significant monastery in Sikkim",image:"https://images.unsplash.com/photo-1621496770858-d9aacf27f513?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxSdW10ZWslMjBtb25hc3RlcnklMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ1fDA&ixlib=rb-4.1.0&q=80&w=1080",coordinates:{x:45,y:55},rating:4.9,festivals:["Losoong","Buddha Purnima"],established:1966},{id:2,name:"Enchey Monastery",location:"Gangtok",century:"19th Century",description:"Sacred Nyingma monastery with 200-year heritage",image:"https://images.unsplash.com/photo-1704797390836-5dd5e0951832?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1vbmFzdGVyeSUyMGludGVyaW9yJTIwbXVyYWxzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080",coordinates:{x:50,y:45},rating:4.7,festivals:["Cham Dance","Drupka Teshi"],established:1840},{id:3,name:"Pemayangtse Monastery",location:"Pelling",century:"17th Century",description:"One of the oldest and premier monasteries of Sikkim",image:"https://images.unsplash.com/photo-1611955166156-9ae5e948c6d4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxUaWJldGFuJTIwcHJheWVyJTIwZmxhZ3MlMjBtb3VudGFpbnN8ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080",coordinates:{x:25,y:40},rating:4.8,festivals:["Pang Lhabsol","Dussera"],established:1705},{id:4,name:"Tashiding Monastery",location:"West Sikkim",century:"17th Century",description:"Sacred site on the holy hill between two rivers",image:"https://images.unsplash.com/photo-1643442240897-c3286093d022?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxIaW1hbGF5YW4lMjBtb3VudGFpbnMlMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080",coordinates:{x:30,y:60},rating:4.6,festivals:["Bhumchu","Losar"],established:1717},{id:5,name:"Dubdi Monastery",location:"Yuksom",century:"17th Century",description:"The first monastery built in Sikkim",image:"https://images.unsplash.com/photo-1752161670149-0967a8670b0d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1hbnVzY3JpcHRzJTIwYW5jaWVudCUyMHRleHRzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080",coordinates:{x:20,y:50},rating:4.5,festivals:["Saga Dawa","Drukpa Teshi"],established:1701}],o=[{id:"all",label:"All Monasteries",icon:ky},{id:"location",label:"By Location",icon:Nr},{id:"century",label:"By Century",icon:_f},{id:"festival",label:"By Festival",icon:ja}],l=s;return h.jsx("div",{className:"pt-24 min-h-screen bg-gradient-to-b from-background to-muted/30",children:h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[h.jsxs(Nt,{className:"bg-gradient-to-r from-[var(--monastery-emerald)] to-[var(--monastery-maroon)] text-white border-none px-4 py-2 mb-4",children:[h.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Interactive Heritage Map"]}),h.jsx("h1",{className:"text-4xl md:text-5xl mb-4",children:"Explore Sacred Sites"}),h.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Discover the spiritual landscape of Sikkim through our interactive monastery map."})]}),h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8 space-y-4",children:h.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(Cy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),h.jsx(Hi,{placeholder:"Search monasteries by name, location, or century...",className:"pl-10 bg-white/70 backdrop-blur-sm border-[var(--monastery-gold)]/30"})]}),h.jsx("div",{className:"flex gap-2 overflow-x-auto",children:o.map(c=>{const u=c.icon;return h.jsxs(ze,{variant:n===c.id?"default":"outline",size:"sm",onClick:()=>r(c.id),className:`whitespace-nowrap ${n===c.id?"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white":"border-[var(--monastery-gold)]/30"}`,children:[h.jsx(u,{className:"w-4 h-4 mr-2"}),c.label]},c.id)})})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsx(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2",children:h.jsx("div",{className:"h-[600px] w-full rounded-xl overflow-hidden bg-[#E5E3DF] border-2 border-[var(--monastery-gold)]/30 shadow-lg",children:h.jsx(_G,{selectedName:t?.name||l[0]?.name,markers:s.map(c=>({id:c.id,position:{lat:c.coordinates.x,lng:c.coordinates.y},title:c.name}))})})}),h.jsxs(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"text-xl font-semibold",children:["Sacred Sites (",l.length,")"]}),h.jsxs(ze,{size:"sm",variant:"outline",className:"border-[var(--monastery-gold)]/30",children:[h.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Filter"]})]}),h.jsx("div",{className:"space-y-3 max-h-[520px] overflow-y-auto pr-2",children:l.map(c=>h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c.id*.1},whileHover:{y:-2},children:h.jsx(St,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg ${t?.id===c.id?"ring-2 ring-[var(--monastery-gold)] bg-gradient-to-r from-[var(--monastery-saffron)]/10 to-[var(--monastery-gold)]/10":"bg-white/70 backdrop-blur-sm"}`,onClick:()=>e(c),children:h.jsxs(hi,{className:"p-4",children:[h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("div",{className:"w-16 h-16 rounded-lg bg-cover bg-center flex-shrink-0",style:{backgroundImage:`url(${c.image})`}}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx(fi,{className:"text-sm mb-1",children:c.name}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Nr,{className:"w-3 h-3 text-muted-foreground"}),h.jsx("span",{className:"text-xs text-muted-foreground",children:c.location})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(_f,{className:"w-3 h-3 text-muted-foreground"}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:["Est. ",c.established]})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(JT,{className:"w-3 h-3 text-yellow-500 fill-current"}),h.jsx("span",{className:"text-xs",children:c.rating})]})]})]})]}),h.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:c.description}),h.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:c.festivals.slice(0,2).map((u,f)=>h.jsx(Nt,{variant:"outline",className:"text-xs px-2 py-0 border-[var(--monastery-gold)]/50",children:u},f))}),h.jsxs("div",{className:"flex space-x-2 mt-3",children:[h.jsxs(ze,{size:"sm",className:"flex-1 text-xs h-7 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white",children:[h.jsx(_D,{className:"w-3 h-3 mr-1"}),"Book Ride"]}),h.jsxs(ze,{size:"sm",variant:"outline",className:"flex-1 text-xs h-7 border-[var(--monastery-gold)]/30",children:[h.jsx(_y,{className:"w-3 h-3 mr-1"}),"Hotels"]})]})]})})},c.id))})]})]})]})})}function kG(){const[t,e]=v.useState("all"),[n,r]=v.useState(null),s=[{id:"all",label:"All Items",icon:Kl,count:847},{id:"manuscripts",label:"Manuscripts",icon:wy,count:234},{id:"murals",label:"Sacred Murals",icon:KD,count:156},{id:"scrolls",label:"Prayer Scrolls",icon:v4,count:189},{id:"artifacts",label:"Ritual Artifacts",icon:ja,count:268}],o=[{id:1,title:"Kangyur Manuscript Collection",category:"manuscripts",century:"17th Century",monastery:"Rumtek Monastery",description:"Complete Buddhist canon translated into Tibetan, featuring gold ink on handmade paper",image:"https://images.unsplash.com/photo-1752161670149-0967a8670b0d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1hbnVzY3JpcHRzJTIwYW5jaWVudCUyMHRleHRzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080",tags:["Buddhist Texts","Gold Ink","Sacred Literature"],resolution:"4K Digital Scan",downloads:234},{id:2,title:"Wheel of Life Mural",category:"murals",century:"16th Century",monastery:"Pemayangtse Monastery",description:"Intricate depiction of Buddhist cosmology and the cycle of existence",image:"https://images.unsplash.com/photo-1704797390836-5dd5e0951832?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1vbmFzdGVyeSUyMGludGVyaW9yJTIwbXVyYWxzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080",tags:["Cosmology","Tibetan Art","Philosophy"],resolution:"8K Ultra HD",downloads:456},{id:3,title:"Medicine Buddha Thangka",category:"scrolls",century:"18th Century",monastery:"Enchey Monastery",description:"Traditional healing deity painted on silk with mineral pigments",image:"https://images.unsplash.com/photo-1611955166156-9ae5e948c6d4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxUaWJldGFuJTIwcHJheWVyJTIwZmxhZ3MlMjBtb3VudGFpbnN8ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080",tags:["Healing","Thangka","Silk Painting"],resolution:"6K Digital Capture",downloads:178},{id:4,title:"Ritual Bell and Dorje Set",category:"artifacts",century:"15th Century",monastery:"Tashiding Monastery",description:"Sacred bronze implements used in tantric ceremonies and meditation",image:"https://images.unsplash.com/photo-1621496770858-d9aacf27f513?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxSdW10ZWslMjBtb25hc3RlcnklMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ1fDA&ixlib=rb-4.1.0&q=80&w=1080",tags:["Ritual Objects","Bronze","Tantric Buddhism"],resolution:"3D Model Available",downloads:89},{id:5,title:"Lotus Sutra Illumination",category:"manuscripts",century:"19th Century",monastery:"Dubdi Monastery",description:"Beautifully illuminated manuscript with traditional Tibetan calligraphy",image:"https://images.unsplash.com/photo-1643442240897-c3286093d022?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxIaW1hbGF5YW4lMjBtb3VudGFpbnMlMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080",tags:["Calligraphy","Illuminated Text","Lotus Sutra"],resolution:"5K High Resolution",downloads:167},{id:6,title:"Protector Deity Mask",category:"artifacts",century:"17th Century",monastery:"Rumtek Monastery",description:"Ceremonial mask used in Cham dance performances during festivals",image:"https://images.unsplash.com/photo-1704797390836-5dd5e0951832?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1vbmFzdGVyeSUyMGludGVyaW9yJTIwbXVyYWxzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080",tags:["Dance Mask","Festival","Protection"],resolution:"4K + 3D Scan",downloads:298}],l=t==="all"?o:o.filter(c=>c.category===t);return h.jsx("div",{className:"pt-24 min-h-screen bg-gradient-to-b from-background to-muted/30",children:h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[h.jsxs(Nt,{className:"bg-gradient-to-r from-[var(--monastery-gold)] to-[var(--monastery-emerald)] text-white border-none px-4 py-2 mb-4",children:[h.jsx(Kl,{className:"w-4 h-4 mr-2"}),"Digital Heritage Archive"]}),h.jsx("h1",{className:"text-4xl md:text-5xl mb-4",children:"Sacred Artifacts & Texts"}),h.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Explore our digitally preserved collection of ancient manuscripts, sacred art, and ritual objects from Sikkim's monasteries."})]}),h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(Cy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),h.jsx(Hi,{placeholder:"Search by name, century, monastery, or theme...",className:"pl-10 bg-white/70 backdrop-blur-sm border-[var(--monastery-gold)]/30"})]}),h.jsxs(ze,{variant:"outline",className:"border-[var(--monastery-gold)]/30",children:[h.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Advanced Search"]})]}),h.jsx("div",{className:"bg-gradient-to-r from-[var(--monastery-saffron)]/10 to-[var(--monastery-gold)]/10 p-4 rounded-lg border border-[var(--monastery-gold)]/30",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] rounded-lg flex items-center justify-center flex-shrink-0",children:h.jsx(Cy,{className:"w-4 h-4 text-white"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-sm mb-1",children:"AI-Powered Search"}),h.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:'Try searching with natural language: "Show me healing texts from the 18th century" or "Find artifacts used in festivals"'}),h.jsx("div",{className:"flex flex-wrap gap-2",children:["Buddhist cosmology","Healing practices","Tantric rituals","Festival masks"].map(c=>h.jsx(ze,{size:"sm",variant:"ghost",className:"text-xs h-6 px-2 text-[var(--monastery-maroon)] hover:bg-[var(--monastery-gold)]/20",children:c},c))})]})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[h.jsxs(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"space-y-3",children:[h.jsx("h3",{className:"font-semibold mb-4",children:"Browse by Category"}),s.map(c=>{const u=c.icon;return h.jsxs(ze,{variant:t===c.id?"default":"ghost",onClick:()=>e(c.id),className:`w-full justify-start ${t===c.id?"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white":"text-foreground hover:bg-[var(--monastery-gold)]/10"}`,children:[h.jsx(u,{className:"w-4 h-4 mr-3"}),h.jsx("span",{className:"flex-1 text-left",children:c.label}),h.jsx(Nt,{variant:"outline",className:"ml-2 text-xs",children:c.count})]},c.id)}),h.jsxs(St,{className:"mt-6 bg-gradient-to-br from-[var(--monastery-maroon)]/10 to-[var(--monastery-emerald)]/10",children:[h.jsx(hi,{className:"pb-3",children:h.jsx(fi,{className:"text-sm",children:"Archive Statistics"})}),h.jsxs(Pt,{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Total Items"}),h.jsx("span",{className:"font-semibold",children:"847"})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Digitized"}),h.jsx("span",{className:"font-semibold",children:"98.5%"})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Languages"}),h.jsx("span",{className:"font-semibold",children:"8"})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Monasteries"}),h.jsx("span",{className:"font-semibold",children:"25"})]})]})]})]}),h.jsxs(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"lg:col-span-3",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("h3",{className:"text-xl font-semibold",children:[t==="all"?"All Items":s.find(c=>c.id===t)?.label,h.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",l.length,")"]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ze,{size:"sm",variant:"outline",className:"border-[var(--monastery-gold)]/30",children:"Sort by Date"}),h.jsx(ze,{size:"sm",variant:"outline",className:"border-[var(--monastery-gold)]/30",children:"Grid View"})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map((c,u)=>h.jsx(Ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:u*.1},whileHover:{y:-5},onMouseEnter:()=>r(c.id),onMouseLeave:()=>r(null),className:"group",children:h.jsxs(St,{className:"overflow-hidden bg-white/70 backdrop-blur-sm border-border hover:shadow-xl transition-all duration-300",children:[h.jsx("div",{className:"relative",children:h.jsxs("div",{className:"h-48 bg-cover bg-center",style:{backgroundImage:`url(${c.image})`},children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),h.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:n===c.id?1:0},className:"absolute inset-0 bg-black/70 flex items-center justify-center space-x-3",children:[h.jsxs(ze,{size:"sm",className:"bg-white/20 backdrop-blur-sm text-white border-white/30 hover:bg-white/30",children:[h.jsx(Bo,{className:"w-4 h-4 mr-2"}),"Preview"]}),h.jsxs(ze,{size:"sm",className:"bg-white/20 backdrop-blur-sm text-white border-white/30 hover:bg-white/30",children:[h.jsx(Cu,{className:"w-4 h-4 mr-2"}),"Download"]})]}),h.jsx("div",{className:"absolute top-3 right-3",children:h.jsx(Nt,{className:"bg-black/70 text-white border-none",children:c.resolution})}),h.jsx("div",{className:"absolute bottom-3 left-3",children:h.jsx(Nt,{className:"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white border-none",children:c.century})})]})}),h.jsxs(Pt,{className:"p-4",children:[h.jsx("h4",{className:"font-semibold mb-2 group-hover:text-[var(--monastery-maroon)] transition-colors",children:c.title}),h.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:c.description}),h.jsxs("div",{className:"space-y-2 mb-4",children:[h.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[h.jsx(Kl,{className:"w-3 h-3 mr-2"}),c.monastery]}),h.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[h.jsx(Cu,{className:"w-3 h-3 mr-2"}),c.downloads," downloads"]})]}),h.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[c.tags.slice(0,2).map((f,p)=>h.jsx(Nt,{variant:"outline",className:"text-xs px-2 py-0 border-[var(--monastery-gold)]/50",children:f},p)),c.tags.length>2&&h.jsxs(Nt,{variant:"outline",className:"text-xs px-2 py-0 border-[var(--monastery-gold)]/50",children:["+",c.tags.length-2]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(ze,{size:"sm",className:"flex-1 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white hover:opacity-90",children:[h.jsx(Bo,{className:"w-3 h-3 mr-2"}),"View"]}),h.jsx(ze,{size:"sm",variant:"outline",className:"border-[var(--monastery-gold)]/30",children:h.jsx(S4,{className:"w-3 h-3"})})]})]})]})},c.id))}),h.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center mt-8",children:[h.jsx(ze,{size:"lg",variant:"outline",className:"border-[var(--monastery-gold)]/30 hover:bg-[var(--monastery-gold)]/10",children:"Load More Items"}),h.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Showing ",l.length," of ",s.find(c=>c.id===t)?.count||847," items"]})]})]})]})]})})}var yw="Progress",vw=100,[SG,rQ]=Rv(yw),[TG,CG]=SG(yw),GM=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=PG,...l}=t;(s||s===0)&&!FS(s)&&console.error(IG(`${s}`,"Progress"));const c=FS(s)?s:vw;r!==null&&!US(r,c)&&console.error(NG(`${r}`,"Progress"));const u=US(r,c)?r:null,f=am(u)?o(u,c):void 0;return h.jsx(TG,{scope:n,value:u,max:c,children:h.jsx(Zo.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":am(u)?u:void 0,"aria-valuetext":f,role:"progressbar","data-state":YM(u,c),"data-value":u??void 0,"data-max":c,...l,ref:e})})});GM.displayName=yw;var qM="ProgressIndicator",KM=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=CG(qM,n);return h.jsx(Zo.div,{"data-state":YM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});KM.displayName=qM;function PG(t,e){return`${Math.round(t/e*100)}%`}function YM(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function am(t){return typeof t=="number"}function FS(t){return am(t)&&!isNaN(t)&&t>0}function US(t,e){return am(t)&&!isNaN(t)&&t<=e&&t>=0}function IG(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${vw}\`.`}function NG(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${vw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MG=GM,LG=KM;function yf({className:t,value:e,...n}){return h.jsx(MG,{"data-slot":"progress",className:rn("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:h.jsx(LG,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const QM=[{id:"rumtek",name:"Rumtek Monastery",location:"Gangtok, Sikkim",image:"https://images.unsplash.com/photo-1621496770858-d9aacf27f513?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxSdW10ZWslMjBtb25hc3RlcnklMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ1fDA&ixlib=rb-4.1.0&q=80&w=1080",languages:{en:{name:"English",tracks:[{id:"rumtek-en-1",title:"Welcome to Rumtek Monastery",description:"Introduction to the largest monastery in Sikkim and its historical significance",duration:"4:15",narrator:"Lama Tenzin",category:"introduction",audioFile:"/assets/audio/rumtek/Runtuk-English.mp3",downloaded:!0}]},hi:{name:"Hindi",tracks:[{id:"rumtek-hi-1",title:"     ",description:"          ",duration:"4:20",narrator:" ",category:"introduction",audioFile:"/assets/audio/rumtek/Rumtuk-Hindi.mp3",downloaded:!0}]},pa:{name:"Punjabi",tracks:[{id:"rumtek-pa-1",title:"     ",description:"           ",duration:"4:25",narrator:" ",category:"introduction",audioFile:"/assets/audio/rumtek/rumtuk-Punjabi.mp3",downloaded:!0}]}}},{id:"enchey",name:"Enchey Monastery",location:"Gangtok, Sikkim",image:"https://images.unsplash.com/photo-1704797390836-5dd5e0951832?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1vbmFzdGVyeSUyMGludGVyaW9yJTIwbXVyYWxzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080",languages:{en:{name:"English",tracks:[{id:"enchey-en-1",title:"Sacred Nyingma Heritage",description:"Explore the 200-year old Nyingma monastery and its spiritual traditions",duration:"4:10",narrator:"Lama Dorje",category:"history",audioFile:"/assets/audio/enchey/Enchey-English.mp3",downloaded:!0}]},hi:{name:"Hindi",tracks:[{id:"enchey-hi-1",title:"  ",description:"200          ",duration:"4:20",narrator:" ",category:"history",audioFile:"/assets/audio/enchey/Enchy-Hindi.mp3",downloaded:!0}]},pa:{name:"Punjabi",tracks:[{id:"enchey-pa-1",title:"  ",description:"200          ",duration:"4:25",narrator:" ",category:"history",audioFile:"/assets/audio/enchey/enchey-Punjabi.mp3",downloaded:!0}]},ne:{name:"Nepali",tracks:[{id:"enchey-ne-1",title:"  ",description:"200         ",duration:"4:30",narrator:" ",category:"history",audioFile:"/assets/audio/enchey/Enchy-Nepali.mp3",downloaded:!0}]}}},{id:"phodong",name:"Phodong Monastery",location:"North Sikkim",image:"https://images.unsplash.com/photo-1611955166156-9ae5e948c6d4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxUaWJldGFuJTIwcHJheWVyJTIwZmxhZ3MlMjBtb3VudGFpbnN8ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080",languages:{en:{name:"English",tracks:[{id:"phodong-en-1",title:"Phodong Sacred Heritage",description:"Journey through the historical Phodong monastery and its significance",duration:"5:15",narrator:"Lama Karma",category:"history",audioFile:"/assets/audio/pemayangtse/phodong-English.mp3",downloaded:!0}]},ne:{name:"Nepali",tracks:[{id:"phodong-ne-1",title:"  ",description:"      ",duration:"5:20",narrator:" ",category:"history",audioFile:"/assets/audio/pemayangtse/phodong-Nepali.mp3",downloaded:!0}]}}},{id:"tashiding",name:"Tashiding Monastery",location:"West Sikkim",image:"https://images.unsplash.com/photo-1643442240897-c3286093d022?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxIaW1hbGF5YW4lMjBtb3VudGFpbnMlMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080",languages:{tb:{name:"Tibetan",tracks:[{id:"tashiding-tb-1",title:"",description:"",duration:"4:35",narrator:"",category:"introduction",audioFile:"/assets/audio/tashiding/welcome-tb.mp3",downloaded:!1}]},bh:{name:"Bhutia",tracks:[{id:"tashiding-bh-1",title:"",description:"",duration:"4:40",narrator:"",category:"introduction",audioFile:"/assets/audio/tashiding/welcome-bh.mp3",downloaded:!1}]}}},{id:"dubdi",name:"Dubdi Monastery",location:"Yuksom, West Sikkim",image:"https://images.unsplash.com/photo-1752161670149-0967a8670b0d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1hbnVzY3JpcHRzJTIwYW5jaWVudCUyMHRleHRzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080",languages:{en:{name:"English",tracks:[{id:"dubdi-en-1",title:"First Monastery of Sikkim",description:"Explore the historical significance of Sikkim's very first monastery",duration:"4:45",narrator:"Lama Thukje",category:"history",audioFile:"/assets/audio/dubdi/first-monastery-en.mp3",downloaded:!1}]},tb:{name:"Tibetan",tracks:[{id:"dubdi-tb-1",title:"",description:"",duration:"4:50",narrator:"",category:"history",audioFile:"/assets/audio/dubdi/first-monastery-tb.mp3",downloaded:!1}]}}},{id:"pemayangtse",name:"Pemayangtse Monastery",location:"Pelling, West Sikkim",image:"https://images.unsplash.com/photo-1611955166156-9ae5e948c6d4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxUaWJldGFuJTIwcHJheWVyJTIwZmxhZ3MlMjBtb3VudGFpbnN8ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080",languages:{en:{name:"English",tracks:[{id:"pemayangtse-en-1",title:"Premier Monastery of Sikkim",description:"Journey through the oldest and most prestigious monastery of Sikkim",duration:"5:15",narrator:"Lama Karma",category:"history",audioFile:"/assets/audio/pemayangtse/premier-en.mp3",downloaded:!1}]},bh:{name:"Bhutia",tracks:[{id:"pemayangtse-bh-1",title:"",description:"  ",duration:"5:25",narrator:"",category:"history",audioFile:"/assets/audio/pemayangtse/premier-bh.mp3",downloaded:!1}]}}}],AG=[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:""},{code:"pa",name:"Punjabi",nativeName:""},{code:"tb",name:"Tibetan",nativeName:""},{code:"ne",name:"Nepali",nativeName:""},{code:"bh",name:"Bhutia",nativeName:""},{code:"bn",name:"Bengali",nativeName:""}],XM=t=>QM.find(e=>e.id===t),RG=(t,e)=>XM(t)?.languages[e]?.tracks||[],jG=()=>QM,zS=t=>{const e=XM(t);return e?Object.keys(e.languages):[]};function DG(){const[t,e]=v.useState(!1),[n,r]=v.useState(0),[s,o]=v.useState(!1),[l,c]=v.useState("en"),[u,f]=v.useState("rumtek"),[p,y]=v.useState(0),[x,E]=v.useState(0),[k,I]=v.useState(0),[P,D]=v.useState(75),A=v.useRef(null),z=jG(),H=z.find(L=>L.id===u),F=zS(u),R=RG(u,l),M=R[n];v.useEffect(()=>{const L=A.current;if(!L||!M)return;const le=()=>I(L.currentTime),pe=()=>E(L.duration),ge=()=>{e(!1),n<R.length-1&&r(n+1)},re=ue=>{console.error("Audio loading error:",ue),e(!1)},B=()=>{console.log("Audio can play:",M?.audioFile)};return I(0),E(0),e(!1),L.addEventListener("timeupdate",le),L.addEventListener("loadedmetadata",pe),L.addEventListener("ended",ge),L.addEventListener("error",re),L.addEventListener("canplay",B),()=>{L.removeEventListener("timeupdate",le),L.removeEventListener("loadedmetadata",pe),L.removeEventListener("ended",ge),L.removeEventListener("error",re),L.removeEventListener("canplay",B)}},[n,R.length,M]),v.useEffect(()=>{A.current&&(A.current.volume=P/100)},[P]),v.useEffect(()=>{y(x>0?k/x*100:0)},[k,x]);const T=async()=>{const L=A.current;if(!(!L||!M))try{t?(L.pause(),e(!1)):(await L.play(),e(!0))}catch(le){console.error("Audio playback failed:",le),e(!1)}},C=()=>{n>0&&(r(n-1),e(!1))},O=()=>{n<R.length-1&&(r(n+1),e(!1))},V=L=>{const le=Math.floor(L/60),pe=Math.floor(L%60);return`${le}:${pe.toString().padStart(2,"0")}`},$=[{icon:P1,title:"Multi-Language Support",description:`Available in ${F.length} languages with native speakers`,color:"from-[var(--monastery-maroon)] to-[var(--monastery-saffron)]"},{icon:N1,title:"Offline Mode",description:"Download guides for internet-free exploration",color:"from-[var(--monastery-saffron)] to-[var(--monastery-gold)]"},{icon:Nr,title:"Location-Based",description:"GPS-triggered content for immersive experiences",color:"from-[var(--monastery-gold)] to-[var(--monastery-emerald)]"}];return h.jsx("div",{className:"pt-24 min-h-screen bg-gradient-to-b from-background to-muted/30",children:h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[h.jsxs(Nt,{className:"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white border-none px-4 py-2 mb-4",children:[h.jsx(by,{className:"w-4 h-4 mr-2"}),"Smart Audio Guide"]}),h.jsx("h1",{className:"text-4xl md:text-5xl mb-4",children:"Immersive Audio Experience"}),h.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Let authentic voices guide you through sacred spaces with location-aware narrations and multilingual support."})]}),h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(St,{className:"bg-white/70 backdrop-blur-sm",children:h.jsxs(Pt,{className:"p-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[h.jsx(GD,{className:"w-5 h-5 text-[var(--monastery-gold)]"}),h.jsx("h3",{className:"font-semibold",children:"Select Monastery"})]}),h.jsx("select",{value:u,onChange:L=>{f(L.target.value),r(0),e(!1);const le=zS(L.target.value);le.includes(l)||c(le[0]||"en")},className:"w-full p-2 border border-[var(--monastery-gold)]/30 rounded-md bg-white text-sm",style:{minHeight:"40px",fontSize:"14px"},children:z.map(L=>h.jsx("option",{value:L.id,children:L.name},L.id))},`monastery-select-${z.length}`),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:H?.location})]})}),h.jsx(St,{className:"bg-white/70 backdrop-blur-sm",children:h.jsxs(Pt,{className:"p-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[h.jsx(P1,{className:"w-5 h-5 text-[var(--monastery-gold)]"}),h.jsx("h3",{className:"font-semibold",children:"Select Language"})]}),h.jsx("select",{value:l,onChange:L=>{c(L.target.value),r(0),e(!1)},className:"w-full p-2 border border-[var(--monastery-gold)]/30 rounded-md bg-white text-sm",children:F.map(L=>{const le=AG.find(pe=>pe.code===L);return h.jsx("option",{value:L,children:le?.nativeName||le?.name||L},L)})}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[R.length," audio guides available"]})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2 space-y-6",children:[h.jsx(St,{className:"overflow-hidden bg-gradient-to-br from-[var(--monastery-maroon)]/10 to-[var(--monastery-saffron)]/10 border-2 border-[var(--monastery-gold)]/30",children:h.jsxs(Pt,{className:"p-0",children:[h.jsxs("div",{className:"h-48 bg-cover bg-center relative",style:{backgroundImage:`linear-gradient(rgba(139, 0, 0, 0.7), rgba(255, 140, 0, 0.7)), url('${H?.image||"https://images.unsplash.com/photo-1621496770858-d9aacf27f513?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxSdW10ZWslMjBtb25hc3RlcnklMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ1fDA&ixlib=rb-4.1.0&q=80&w=1080"}')`},children:[h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsxs(Ee.div,{animate:t?{scale:[1,1.1,1]}:{scale:1},transition:{duration:2,repeat:t?1/0:0},className:"text-center text-white",children:[h.jsx("h3",{className:"text-2xl font-semibold mb-2",children:M?.title||"No track selected"}),h.jsxs("p",{className:"text-white/90",children:["Narrated by ",M?.narrator||"Unknown"]})]})}),M&&h.jsx("audio",{ref:A,src:M.audioFile,preload:"metadata"}),h.jsx("div",{className:"absolute top-4 left-4",children:h.jsxs(ze,{size:"sm",variant:"outline",onClick:()=>o(!s),className:`${s?"bg-[var(--monastery-emerald)] text-white border-[var(--monastery-emerald)]":"bg-black/50 text-white border-white/30"} backdrop-blur-sm`,children:[s?h.jsx(N1,{className:"w-4 h-4 mr-2"}):h.jsx(Y4,{className:"w-4 h-4 mr-2"}),s?"Offline":"Online"]})})]}),h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(yf,{value:p,className:"h-2 bg-muted",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] transition-all duration-300 rounded-full",style:{width:`${p}%`}})}),h.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[h.jsx("span",{children:V(k)}),h.jsx("span",{children:V(x)})]})]}),h.jsxs("div",{className:"flex items-center justify-center space-x-6",children:[h.jsx(ze,{size:"lg",variant:"outline",className:"w-12 h-12 rounded-full border-[var(--monastery-gold)]/30",onClick:C,disabled:n===0,children:h.jsx(C4,{className:"w-5 h-5"})}),h.jsx(ze,{size:"lg",onClick:T,disabled:!M,className:"w-16 h-16 rounded-full bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] hover:opacity-90 text-white shadow-lg",children:t?h.jsx(Sy,{className:"w-6 h-6"}):h.jsx(Da,{className:"w-6 h-6 ml-1"})}),h.jsx(ze,{size:"lg",variant:"outline",className:"w-12 h-12 rounded-full border-[var(--monastery-gold)]/30",onClick:O,disabled:n>=R.length-1,children:h.jsx(I4,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(eC,{className:"w-5 h-5 text-muted-foreground"}),h.jsx("input",{type:"range",min:"0",max:"100",value:P,onChange:L=>D(Number(L.target.value)),className:"w-24 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs(ze,{size:"sm",variant:"outline",className:"border-[var(--monastery-gold)]/30",disabled:!M,children:[h.jsx(Cu,{className:"w-4 h-4 mr-2"}),"Download"]}),h.jsx(Nt,{className:`${M?.downloaded?"bg-[var(--monastery-emerald)]":"bg-muted"} text-white`,children:M?.downloaded?"Downloaded":"Stream Only"})]})]})]})})]})}),h.jsxs(St,{className:"bg-white/70 backdrop-blur-sm",children:[h.jsx(hi,{children:h.jsxs(fi,{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[var(--monastery-maroon)] to-[var(--monastery-saffron)] rounded-lg flex items-center justify-center",children:h.jsx(Nr,{className:"w-4 h-4 text-white"})}),h.jsxs("div",{children:[h.jsx("h3",{children:"About This Guide"}),h.jsx("p",{className:"text-sm text-muted-foreground font-normal",children:H?.name})]})]})}),h.jsxs(Pt,{children:[h.jsx("p",{className:"text-muted-foreground mb-4",children:M?.description||"No track selected"}),h.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(_f,{className:"w-4 h-4"}),h.jsx("span",{children:M?.duration||"0:00"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(by,{className:"w-4 h-4"}),h.jsx("span",{children:M?.narrator||"Unknown"})]})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:$.map((L,le)=>{const pe=L.icon;return h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+le*.1},children:h.jsx(St,{className:"text-center h-full bg-white/70 backdrop-blur-sm",children:h.jsxs(Pt,{className:"p-4",children:[h.jsx("div",{className:`w-12 h-12 mx-auto mb-3 rounded-lg bg-gradient-to-r ${L.color} flex items-center justify-center`,children:h.jsx(pe,{className:"w-6 h-6 text-white"})}),h.jsx("h4",{className:"font-semibold text-sm mb-2",children:L.title}),h.jsx("p",{className:"text-xs text-muted-foreground",children:L.description})]})})},le)})})]}),h.jsxs(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-semibold",children:"Audio Guide Playlist"}),h.jsxs(Nt,{className:"bg-gradient-to-r from-[var(--monastery-emerald)] to-[var(--monastery-maroon)] text-white",children:[R.filter(L=>L.downloaded).length,"/",R.length," Downloaded"]})]}),R.length>0?h.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:R.map((L,le)=>h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+le*.1},whileHover:{x:5},children:h.jsx(St,{className:`cursor-pointer transition-all duration-300 ${n===le?"ring-2 ring-[var(--monastery-gold)] bg-gradient-to-r from-[var(--monastery-saffron)]/10 to-[var(--monastery-gold)]/10":"bg-white/70 backdrop-blur-sm hover:shadow-md"}`,onClick:()=>{r(le),e(!1)},children:h.jsx(Pt,{className:"p-4",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(ze,{size:"sm",variant:n===le&&t?"default":"outline",className:`w-8 h-8 rounded-full flex-shrink-0 ${n===le&&t?"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white":"border-[var(--monastery-gold)]/30"}`,onClick:async pe=>{pe.stopPropagation(),n===le?await T():(r(le),setTimeout(async()=>{await T()},100))},children:n===le&&t?h.jsx(Sy,{className:"w-3 h-3"}):h.jsx(Da,{className:"w-3 h-3"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h4",{className:"font-semibold text-sm mb-1 truncate",children:L.title}),h.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[h.jsx("span",{children:L.duration}),h.jsx("span",{children:""}),h.jsx("span",{children:L.narrator})]}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:L.description}),h.jsx(Nt,{variant:"outline",className:"mt-1 text-xs px-1 py-0 border-[var(--monastery-gold)]/30",children:L.category})]}),h.jsx("div",{className:"flex flex-col items-end space-y-1",children:L.downloaded?h.jsxs(Nt,{className:"bg-[var(--monastery-emerald)] text-white text-xs",children:[h.jsx(Cu,{className:"w-3 h-3 mr-1"}),"Offline"]}):h.jsx(ze,{size:"sm",variant:"ghost",className:"h-6 px-2 text-xs",children:h.jsx(Cu,{className:"w-3 h-3"})})})]})})})},L.id))}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx("p",{className:"text-muted-foreground mb-4",children:"No audio tracks available for this monastery in the selected language."}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Try selecting a different language or monastery."})]})]})]})]})})}function _t(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function qr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function pr(t,e){const n=_t(t);return isNaN(e)?qr(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ls(t,e){const n=_t(t);if(isNaN(e))return qr(t,NaN);if(!e)return n;const r=n.getDate(),s=qr(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const ww=6048e5,OG=864e5;let VG={};function Td(){return VG}function xi(t,e){const n=Td(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=_t(t),o=s.getDay(),l=(o<r?7:0)+o-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Ga(t){return xi(t,{weekStartsOn:1})}function JM(t){const e=_t(t),n=e.getFullYear(),r=qr(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ga(r),o=qr(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Ga(o);return e.getTime()>=s.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function uc(t){const e=_t(t);return e.setHours(0,0,0,0),e}function lm(t){const e=_t(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function si(t,e){const n=uc(t),r=uc(e),s=+n-lm(n),o=+r-lm(r);return Math.round((s-o)/OG)}function FG(t){const e=JM(t),n=qr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Ga(n)}function kv(t,e){const n=e*7;return pr(t,n)}function UG(t,e){return Ls(t,e*12)}function zG(t){let e;return t.forEach(function(n){const r=_t(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function BG(t){let e;return t.forEach(n=>{const r=_t(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Ir(t,e){const n=uc(t),r=uc(e);return+n==+r}function xw(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function HG(t){if(!xw(t)&&typeof t!="number")return!1;const e=_t(t);return!isNaN(Number(e))}function cd(t,e){const n=_t(t),r=_t(e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function $G(t,e,n){const r=xi(t,n),s=xi(e,n),o=+r-lm(r),l=+s-lm(s);return Math.round((o-l)/ww)}function bw(t){const e=_t(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Lr(t){const e=_t(t);return e.setDate(1),e.setHours(0,0,0,0),e}function ZM(t){const e=_t(t),n=qr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function _w(t,e){const n=Td(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=_t(t),o=s.getDay(),l=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function e2(t){return _w(t,{weekStartsOn:1})}const WG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GG=(t,e,n)=>{let r;const s=WG[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ny(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const qG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QG={date:ny({formats:qG,defaultWidth:"full"}),time:ny({formats:KG,defaultWidth:"full"}),dateTime:ny({formats:YG,defaultWidth:"full"})},XG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JG=(t,e,n,r)=>XG[t];function yu(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n?.width?String(n.width):l;s=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n?.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const ZG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iq=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},oq={ordinalNumber:iq,era:yu({values:ZG,defaultWidth:"wide"}),quarter:yu({values:eq,defaultWidth:"wide",argumentCallback:t=>t-1}),month:yu({values:tq,defaultWidth:"wide"}),day:yu({values:nq,defaultWidth:"wide"}),dayPeriod:yu({values:rq,defaultWidth:"wide",formattingValues:sq,defaultFormattingWidth:"wide"})};function vu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const l=o[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?lq(c,y=>y.test(l)):aq(c,y=>y.test(l));let f;f=t.valueCallback?t.valueCallback(u):u,f=n.valueCallback?n.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function aq(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function lq(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function cq(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(s.length);return{value:l,rest:c}}}const uq=/^(\d+)(th|st|nd|rd)?/i,dq=/\d+/i,hq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fq={any:[/^b/i,/^(a|c)/i]},mq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pq={any:[/1/i,/2/i,/3/i,/4/i]},gq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_q={ordinalNumber:cq({matchPattern:uq,parsePattern:dq,valueCallback:t=>parseInt(t,10)}),era:vu({matchPatterns:hq,defaultMatchWidth:"wide",parsePatterns:fq,defaultParseWidth:"any"}),quarter:vu({matchPatterns:mq,defaultMatchWidth:"wide",parsePatterns:pq,defaultParseWidth:"any",valueCallback:t=>t+1}),month:vu({matchPatterns:gq,defaultMatchWidth:"wide",parsePatterns:yq,defaultParseWidth:"any"}),day:vu({matchPatterns:vq,defaultMatchWidth:"wide",parsePatterns:wq,defaultParseWidth:"any"}),dayPeriod:vu({matchPatterns:xq,defaultMatchWidth:"any",parsePatterns:bq,defaultParseWidth:"any"})},t2={code:"en-US",formatDistance:GG,formatLong:QG,formatRelative:JG,localize:oq,match:_q,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Eq(t){const e=_t(t);return si(e,ZM(e))+1}function n2(t){const e=_t(t),n=+Ga(e)-+FG(e);return Math.round(n/ww)+1}function r2(t,e){const n=_t(t),r=n.getFullYear(),s=Td(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=qr(t,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const c=xi(l,e),u=qr(t,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const f=xi(u,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function kq(t,e){const n=Td(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=r2(t,e),o=qr(t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),xi(o,e)}function s2(t,e){const n=_t(t),r=+xi(n,e)-+kq(n,e);return Math.round(r/ww)+1}function At(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ko={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return At(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):At(n+1,2)},d(t,e){return At(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return At(t.getHours()%12||12,e.length)},H(t,e){return At(t.getHours(),e.length)},m(t,e){return At(t.getMinutes(),e.length)},s(t,e){return At(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return At(s,e.length)}},Rl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ko.y(t,e)},Y:function(t,e,n,r){const s=r2(t,r),o=s>0?s:1-s;if(e==="YY"){const l=o%100;return At(l,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):At(o,e.length)},R:function(t,e){const n=JM(t);return At(n,e.length)},u:function(t,e){const n=t.getFullYear();return At(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return At(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return At(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ko.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return At(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=s2(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):At(s,e.length)},I:function(t,e,n){const r=n2(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):At(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ko.d(t,e)},D:function(t,e,n){const r=Eq(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):At(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return At(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return At(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return At(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Rl.noon:r===0?s=Rl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Rl.evening:r>=12?s=Rl.afternoon:r>=4?s=Rl.morning:s=Rl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ko.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ko.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ko.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ko.s(t,e)},S:function(t,e){return ko.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return $S(r);case"XXXX":case"XX":return Pa(r);case"XXXXX":case"XXX":default:return Pa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return $S(r);case"xxxx":case"xx":return Pa(r);case"xxxxx":case"xxx":default:return Pa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+HS(r,":");case"OOOO":default:return"GMT"+Pa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+HS(r,":");case"zzzz":default:return"GMT"+Pa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return At(r,e.length)},T:function(t,e,n){const r=t.getTime();return At(r,e.length)}};function HS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+At(o,2)}function $S(t,e){return t%60===0?(t>0?"-":"+")+At(Math.abs(t)/60,2):Pa(t,e)}function Pa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=At(Math.trunc(r/60),2),o=At(r%60,2);return n+s+e+o}const WS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},i2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Sq=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return WS(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",WS(r,e)).replace("{{time}}",i2(s,e))},Tq={p:i2,P:Sq},Cq=/^D+$/,Pq=/^Y+$/,Iq=["D","DD","YY","YYYY"];function Nq(t){return Cq.test(t)}function Mq(t){return Pq.test(t)}function Lq(t,e,n){const r=Aq(t,e,n);if(console.warn(r),Iq.includes(t))throw new RangeError(r)}function Aq(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dq=/^'([^]*?)'?$/,Oq=/''/g,Vq=/[a-zA-Z]/;function tl(t,e,n){const r=Td(),s=n?.locale??r.locale??t2,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=_t(t);if(!HG(c))throw new RangeError("Invalid time value");let u=e.match(jq).map(p=>{const y=p[0];if(y==="p"||y==="P"){const x=Tq[y];return x(p,s.formatLong)}return p}).join("").match(Rq).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const y=p[0];if(y==="'")return{isToken:!1,value:Fq(p)};if(BS[y])return{isToken:!0,value:p};if(y.match(Vq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const f={firstWeekContainsDate:o,weekStartsOn:l,locale:s};return u.map(p=>{if(!p.isToken)return p.value;const y=p.value;(!n?.useAdditionalWeekYearTokens&&Mq(y)||!n?.useAdditionalDayOfYearTokens&&Nq(y))&&Lq(y,e,String(t));const x=BS[y[0]];return x(c,y,s.localize,f)}).join("")}function Fq(t){const e=t.match(Dq);return e?e[1].replace(Oq,"'"):t}function Uq(t){const e=_t(t),n=e.getFullYear(),r=e.getMonth(),s=qr(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function zq(t){return Math.trunc(+_t(t)/1e3)}function Bq(t){const e=_t(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Hq(t,e){return $G(Bq(t),Lr(t),e)+1}function Sv(t,e){const n=_t(t),r=_t(e);return n.getTime()>r.getTime()}function o2(t,e){const n=_t(t),r=_t(e);return+n<+r}function Ew(t,e){const n=_t(t),r=_t(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function $q(t,e){const n=_t(t),r=_t(e);return n.getFullYear()===r.getFullYear()}function ry(t,e){return pr(t,-e)}function sy(t,e){const n=_t(t),r=n.getFullYear(),s=n.getDate(),o=qr(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const l=Uq(o);return n.setMonth(e,Math.min(s,l)),n}function GS(t,e){const n=_t(t);return isNaN(+n)?qr(t,NaN):(n.setFullYear(e),n)}var Ze=function(){return Ze=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ze.apply(this,arguments)};function Wq(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function a2(t,e,n){for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function Cd(t){return t.mode==="multiple"}function Pd(t){return t.mode==="range"}function Um(t){return t.mode==="single"}var Gq={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function qq(t,e){return tl(t,"LLLL y",e)}function Kq(t,e){return tl(t,"d",e)}function Yq(t,e){return tl(t,"LLLL",e)}function Qq(t){return"".concat(t)}function Xq(t,e){return tl(t,"cccccc",e)}function Jq(t,e){return tl(t,"yyyy",e)}var Zq=Object.freeze({__proto__:null,formatCaption:qq,formatDay:Kq,formatMonthCaption:Yq,formatWeekNumber:Qq,formatWeekdayName:Xq,formatYearCaption:Jq}),eK=function(t,e,n){return tl(t,"do MMMM (EEEE)",n)},tK=function(){return"Month: "},nK=function(){return"Go to next month"},rK=function(){return"Go to previous month"},sK=function(t,e){return tl(t,"cccc",e)},iK=function(t){return"Week n. ".concat(t)},oK=function(){return"Year: "},aK=Object.freeze({__proto__:null,labelDay:eK,labelMonthDropdown:tK,labelNext:nK,labelPrevious:rK,labelWeekNumber:iK,labelWeekday:sK,labelYearDropdown:oK});function lK(){var t="buttons",e=Gq,n=t2,r={},s={},o=1,l={},c=new Date;return{captionLayout:t,classNames:e,formatters:Zq,labels:aK,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:l,today:c,mode:"default"}}function cK(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,o=t.fromDate,l=t.toDate;return r?o=Lr(r):e&&(o=new Date(e,0,1)),s?l=bw(s):n&&(l=new Date(n,11,31)),{fromDate:o?uc(o):void 0,toDate:l?uc(l):void 0}}var l2=v.createContext(void 0);function uK(t){var e,n=t.initialProps,r=lK(),s=cK(n),o=s.fromDate,l=s.toDate,c=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;c!=="buttons"&&(!o||!l)&&(c="buttons");var u;(Um(n)||Cd(n)||Pd(n))&&(u=n.onSelect);var f=Ze(Ze(Ze({},r),n),{captionLayout:c,classNames:Ze(Ze({},r.classNames),n.classNames),components:Ze({},n.components),formatters:Ze(Ze({},r.formatters),n.formatters),fromDate:o,labels:Ze(Ze({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ze(Ze({},r.modifiers),n.modifiers),modifiersClassNames:Ze(Ze({},r.modifiersClassNames),n.modifiersClassNames),onSelect:u,styles:Ze(Ze({},r.styles),n.styles),toDate:l});return h.jsx(l2.Provider,{value:f,children:t.children})}function Ut(){var t=v.useContext(l2);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function c2(t){var e=Ut(),n=e.locale,r=e.classNames,s=e.styles,o=e.formatters.formatCaption;return h.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function dK(t){return h.jsx("svg",Ze({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:h.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function u2(t){var e,n,r=t.onChange,s=t.value,o=t.children,l=t.caption,c=t.className,u=t.style,f=Ut(),p=(n=(e=f.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:dK;return h.jsxs("div",{className:c,style:u,children:[h.jsx("span",{className:f.classNames.vhidden,children:t["aria-label"]}),h.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:s,onChange:r,children:o}),h.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[l,h.jsx(p,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function hK(t){var e,n=Ut(),r=n.fromDate,s=n.toDate,o=n.styles,l=n.locale,c=n.formatters.formatMonthCaption,u=n.classNames,f=n.components,p=n.labels.labelMonthDropdown;if(!r)return h.jsx(h.Fragment,{});if(!s)return h.jsx(h.Fragment,{});var y=[];if($q(r,s))for(var x=Lr(r),E=r.getMonth();E<=s.getMonth();E++)y.push(sy(x,E));else for(var x=Lr(new Date),E=0;E<=11;E++)y.push(sy(x,E));var k=function(P){var D=Number(P.target.value),A=sy(Lr(t.displayMonth),D);t.onChange(A)},I=(e=f?.Dropdown)!==null&&e!==void 0?e:u2;return h.jsx(I,{name:"months","aria-label":p(),className:u.dropdown_month,style:o.dropdown_month,onChange:k,value:t.displayMonth.getMonth(),caption:c(t.displayMonth,{locale:l}),children:y.map(function(P){return h.jsx("option",{value:P.getMonth(),children:c(P,{locale:l})},P.getMonth())})})}function fK(t){var e,n=t.displayMonth,r=Ut(),s=r.fromDate,o=r.toDate,l=r.locale,c=r.styles,u=r.classNames,f=r.components,p=r.formatters.formatYearCaption,y=r.labels.labelYearDropdown,x=[];if(!s)return h.jsx(h.Fragment,{});if(!o)return h.jsx(h.Fragment,{});for(var E=s.getFullYear(),k=o.getFullYear(),I=E;I<=k;I++)x.push(GS(ZM(new Date),I));var P=function(A){var z=GS(Lr(n),Number(A.target.value));t.onChange(z)},D=(e=f?.Dropdown)!==null&&e!==void 0?e:u2;return h.jsx(D,{name:"years","aria-label":y(),className:u.dropdown_year,style:c.dropdown_year,onChange:P,value:n.getFullYear(),caption:p(n,{locale:l}),children:x.map(function(A){return h.jsx("option",{value:A.getFullYear(),children:p(A,{locale:l})},A.getFullYear())})})}function mK(t,e){var n=v.useState(t),r=n[0],s=n[1],o=e===void 0?r:e;return[o,s]}function pK(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,o=t.toDate,l=t.fromDate,c=t.numberOfMonths,u=c===void 0?1:c;if(o&&cd(o,s)<0){var f=-1*(u-1);s=Ls(o,f)}return l&&cd(s,l)<0&&(s=l),Lr(s)}function gK(){var t=Ut(),e=pK(t),n=mK(e,t.month),r=n[0],s=n[1],o=function(l){var c;if(!t.disableNavigation){var u=Lr(l);s(u),(c=t.onMonthChange)===null||c===void 0||c.call(t,u)}};return[r,o]}function yK(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Lr(t),o=Lr(Ls(s,r)),l=cd(o,s),c=[],u=0;u<l;u++){var f=Ls(s,u);c.push(f)}return n&&(c=c.reverse()),c}function vK(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,l=r?o:1,c=Lr(t);if(!n)return Ls(c,l);var u=cd(n,t);if(!(u<o))return Ls(c,l)}}function wK(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,o=s===void 0?1:s,l=r?o:1,c=Lr(t);if(!n)return Ls(c,-l);var u=cd(c,n);if(!(u<=0))return Ls(c,-l)}}var d2=v.createContext(void 0);function xK(t){var e=Ut(),n=gK(),r=n[0],s=n[1],o=yK(r,e),l=vK(r,e),c=wK(r,e),u=function(y){return o.some(function(x){return Ew(y,x)})},f=function(y,x){u(y)||(x&&o2(y,x)?s(Ls(y,1+e.numberOfMonths*-1)):s(y))},p={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:f,previousMonth:c,nextMonth:l,isDateDisplayed:u};return h.jsx(d2.Provider,{value:p,children:t.children})}function Id(){var t=v.useContext(d2);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function qS(t){var e,n=Ut(),r=n.classNames,s=n.styles,o=n.components,l=Id().goToMonth,c=function(p){l(Ls(p,t.displayIndex?-t.displayIndex:0))},u=(e=o?.CaptionLabel)!==null&&e!==void 0?e:c2,f=h.jsx(u,{id:t.id,displayMonth:t.displayMonth});return h.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[h.jsx("div",{className:r.vhidden,children:f}),h.jsx(hK,{onChange:c,displayMonth:t.displayMonth}),h.jsx(fK,{onChange:c,displayMonth:t.displayMonth})]})}function bK(t){return h.jsx("svg",Ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:h.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _K(t){return h.jsx("svg",Ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:h.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var cm=v.forwardRef(function(t,e){var n=Ut(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var l=o.join(" "),c=Ze(Ze({},s.button_reset),s.button);return t.style&&Object.assign(c,t.style),h.jsx("button",Ze({},t,{ref:e,type:"button",className:l,style:c}))});function EK(t){var e,n,r=Ut(),s=r.dir,o=r.locale,l=r.classNames,c=r.styles,u=r.labels,f=u.labelPrevious,p=u.labelNext,y=r.components;if(!t.nextMonth&&!t.previousMonth)return h.jsx(h.Fragment,{});var x=f(t.previousMonth,{locale:o}),E=[l.nav_button,l.nav_button_previous].join(" "),k=p(t.nextMonth,{locale:o}),I=[l.nav_button,l.nav_button_next].join(" "),P=(e=y?.IconRight)!==null&&e!==void 0?e:_K,D=(n=y?.IconLeft)!==null&&n!==void 0?n:bK;return h.jsxs("div",{className:l.nav,style:c.nav,children:[!t.hidePrevious&&h.jsx(cm,{name:"previous-month","aria-label":x,className:E,style:c.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?h.jsx(P,{className:l.nav_icon,style:c.nav_icon}):h.jsx(D,{className:l.nav_icon,style:c.nav_icon})}),!t.hideNext&&h.jsx(cm,{name:"next-month","aria-label":k,className:I,style:c.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?h.jsx(D,{className:l.nav_icon,style:c.nav_icon}):h.jsx(P,{className:l.nav_icon,style:c.nav_icon})})]})}function KS(t){var e=Ut().numberOfMonths,n=Id(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,l=n.displayMonths,c=l.findIndex(function(k){return Ew(t.displayMonth,k)}),u=c===0,f=c===l.length-1,p=e>1&&(u||!f),y=e>1&&(f||!u),x=function(){r&&o(r)},E=function(){s&&o(s)};return h.jsx(EK,{displayMonth:t.displayMonth,hideNext:p,hidePrevious:y,nextMonth:s,previousMonth:r,onPreviousClick:x,onNextClick:E})}function kK(t){var e,n=Ut(),r=n.classNames,s=n.disableNavigation,o=n.styles,l=n.captionLayout,c=n.components,u=(e=c?.CaptionLabel)!==null&&e!==void 0?e:c2,f;return s?f=h.jsx(u,{id:t.id,displayMonth:t.displayMonth}):l==="dropdown"?f=h.jsx(qS,{displayMonth:t.displayMonth,id:t.id}):l==="dropdown-buttons"?f=h.jsxs(h.Fragment,{children:[h.jsx(qS,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),h.jsx(KS,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):f=h.jsxs(h.Fragment,{children:[h.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),h.jsx(KS,{displayMonth:t.displayMonth,id:t.id})]}),h.jsx("div",{className:r.caption,style:o.caption,children:f})}function SK(t){var e=Ut(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?h.jsx("tfoot",{className:s,style:r.tfoot,children:h.jsx("tr",{children:h.jsx("td",{colSpan:8,children:n})})}):h.jsx(h.Fragment,{})}function TK(t,e,n){for(var r=n?Ga(new Date):xi(new Date,{locale:t,weekStartsOn:e}),s=[],o=0;o<7;o++){var l=pr(r,o);s.push(l)}return s}function CK(){var t=Ut(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,o=t.weekStartsOn,l=t.ISOWeek,c=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,f=TK(s,o,l);return h.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&h.jsx("td",{style:n.head_cell,className:e.head_cell}),f.map(function(p,y){return h.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":u(p,{locale:s}),children:c(p,{locale:s})},y)})]})}function PK(){var t,e=Ut(),n=e.classNames,r=e.styles,s=e.components,o=(t=s?.HeadRow)!==null&&t!==void 0?t:CK;return h.jsx("thead",{style:r.head,className:n.head,children:h.jsx(o,{})})}function IK(t){var e=Ut(),n=e.locale,r=e.formatters.formatDay;return h.jsx(h.Fragment,{children:r(t.date,{locale:n})})}var kw=v.createContext(void 0);function NK(t){if(!Cd(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return h.jsx(kw.Provider,{value:e,children:t.children})}return h.jsx(MK,{initialProps:t.initialProps,children:t.children})}function MK(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,o=e.max,l=function(f,p,y){var x,E;(x=e.onDayClick)===null||x===void 0||x.call(e,f,p,y);var k=!!(p.selected&&s&&r?.length===s);if(!k){var I=!!(!p.selected&&o&&r?.length===o);if(!I){var P=r?a2([],r):[];if(p.selected){var D=P.findIndex(function(A){return Ir(f,A)});P.splice(D,1)}else P.push(f);(E=e.onSelect)===null||E===void 0||E.call(e,P,f,p,y)}}},c={disabled:[]};r&&c.disabled.push(function(f){var p=o&&r.length>o-1,y=r.some(function(x){return Ir(x,f)});return!!(p&&!y)});var u={selected:r,onDayClick:l,modifiers:c};return h.jsx(kw.Provider,{value:u,children:n})}function Sw(){var t=v.useContext(kw);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function LK(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?Ir(s,t)&&Ir(r,t)?void 0:Ir(s,t)?{from:s,to:void 0}:Ir(r,t)?void 0:Sv(r,t)?{from:t,to:s}:{from:r,to:t}:s?Sv(t,s)?{from:s,to:t}:{from:t,to:s}:r?o2(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var Tw=v.createContext(void 0);function AK(t){if(!Pd(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return h.jsx(Tw.Provider,{value:e,children:t.children})}return h.jsx(RK,{initialProps:t.initialProps,children:t.children})}function RK(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},o=s.from,l=s.to,c=e.min,u=e.max,f=function(E,k,I){var P,D;(P=e.onDayClick)===null||P===void 0||P.call(e,E,k,I);var A=LK(E,r);(D=e.onSelect)===null||D===void 0||D.call(e,A,E,k,I)},p={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(p.range_start=[o],l?(p.range_end=[l],Ir(o,l)||(p.range_middle=[{after:o,before:l}])):p.range_end=[o]):l&&(p.range_start=[l],p.range_end=[l]),c&&(o&&!l&&p.disabled.push({after:ry(o,c-1),before:pr(o,c-1)}),o&&l&&p.disabled.push({after:o,before:pr(o,c-1)}),!o&&l&&p.disabled.push({after:ry(l,c-1),before:pr(l,c-1)})),u){if(o&&!l&&(p.disabled.push({before:pr(o,-u+1)}),p.disabled.push({after:pr(o,u-1)})),o&&l){var y=si(l,o)+1,x=u-y;p.disabled.push({before:ry(o,x)}),p.disabled.push({after:pr(l,x)})}!o&&l&&(p.disabled.push({before:pr(l,-u+1)}),p.disabled.push({after:pr(l,u-1)}))}return h.jsx(Tw.Provider,{value:{selected:r,onDayClick:f,modifiers:p},children:n})}function Cw(){var t=v.useContext(Tw);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function vf(t){return Array.isArray(t)?a2([],t):t!==void 0?[t]:[]}function jK(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=vf(s)}),e}var As;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(As||(As={}));var DK=As.Selected,Fi=As.Disabled,OK=As.Hidden,VK=As.Today,iy=As.RangeEnd,oy=As.RangeMiddle,ay=As.RangeStart,FK=As.Outside;function UK(t,e,n){var r,s=(r={},r[DK]=vf(t.selected),r[Fi]=vf(t.disabled),r[OK]=vf(t.hidden),r[VK]=[t.today],r[iy]=[],r[oy]=[],r[ay]=[],r[FK]=[],r);return t.fromDate&&s[Fi].push({before:t.fromDate}),t.toDate&&s[Fi].push({after:t.toDate}),Cd(t)?s[Fi]=s[Fi].concat(e.modifiers[Fi]):Pd(t)&&(s[Fi]=s[Fi].concat(n.modifiers[Fi]),s[ay]=n.modifiers[ay],s[oy]=n.modifiers[oy],s[iy]=n.modifiers[iy]),s}var h2=v.createContext(void 0);function zK(t){var e=Ut(),n=Sw(),r=Cw(),s=UK(e,n,r),o=jK(e.modifiers),l=Ze(Ze({},s),o);return h.jsx(h2.Provider,{value:l,children:t.children})}function f2(){var t=v.useContext(h2);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function BK(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function HK(t){return!!(t&&typeof t=="object"&&"from"in t)}function $K(t){return!!(t&&typeof t=="object"&&"after"in t)}function WK(t){return!!(t&&typeof t=="object"&&"before"in t)}function GK(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function qK(t,e){var n,r=e.from,s=e.to;if(r&&s){var o=si(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var l=si(t,r)>=0&&si(s,t)>=0;return l}return s?Ir(s,t):r?Ir(r,t):!1}function KK(t){return xw(t)}function YK(t){return Array.isArray(t)&&t.every(xw)}function QK(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(KK(n))return Ir(t,n);if(YK(n))return n.includes(t);if(HK(n))return qK(t,n);if(GK(n))return n.dayOfWeek.includes(t.getDay());if(BK(n)){var r=si(n.before,t),s=si(n.after,t),o=r>0,l=s<0,c=Sv(n.before,n.after);return c?l&&o:o||l}return $K(n)?si(t,n.after)>0:WK(n)?si(n.before,t)>0:typeof n=="function"?n(t):!1})}function Pw(t,e,n){var r=Object.keys(e).reduce(function(o,l){var c=e[l];return QK(t,c)&&o.push(l),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!Ew(t,n)&&(s.outside=!0),s}function XK(t,e){for(var n=Lr(t[0]),r=bw(t[t.length-1]),s,o,l=n;l<=r;){var c=Pw(l,e),u=!c.disabled&&!c.hidden;if(!u){l=pr(l,1);continue}if(c.selected)return l;c.today&&!o&&(o=l),s||(s=l),l=pr(l,1)}return o||s}var JK=365;function m2(t,e){var n=e.moveBy,r=e.direction,s=e.context,o=e.modifiers,l=e.retry,c=l===void 0?{count:0,lastFocused:t}:l,u=s.weekStartsOn,f=s.fromDate,p=s.toDate,y=s.locale,x={day:pr,week:kv,month:Ls,year:UG,startOfWeek:function(P){return s.ISOWeek?Ga(P):xi(P,{locale:y,weekStartsOn:u})},endOfWeek:function(P){return s.ISOWeek?e2(P):_w(P,{locale:y,weekStartsOn:u})}},E=x[n](t,r==="after"?1:-1);r==="before"&&f?E=zG([f,E]):r==="after"&&p&&(E=BG([p,E]));var k=!0;if(o){var I=Pw(E,o);k=!I.disabled&&!I.hidden}return k?E:c.count>JK?c.lastFocused:m2(E,{moveBy:n,direction:r,context:s,modifiers:o,retry:Ze(Ze({},c),{count:c.count+1})})}var p2=v.createContext(void 0);function ZK(t){var e=Id(),n=f2(),r=v.useState(),s=r[0],o=r[1],l=v.useState(),c=l[0],u=l[1],f=XK(e.displayMonths,n),p=s??(c&&e.isDateDisplayed(c))?c:f,y=function(){u(s),o(void 0)},x=function(P){o(P)},E=Ut(),k=function(P,D){if(s){var A=m2(s,{moveBy:P,direction:D,context:E,modifiers:n});Ir(s,A)||(e.goToDate(A,s),x(A))}},I={focusedDay:s,focusTarget:p,blur:y,focus:x,focusDayAfter:function(){return k("day","after")},focusDayBefore:function(){return k("day","before")},focusWeekAfter:function(){return k("week","after")},focusWeekBefore:function(){return k("week","before")},focusMonthBefore:function(){return k("month","before")},focusMonthAfter:function(){return k("month","after")},focusYearBefore:function(){return k("year","before")},focusYearAfter:function(){return k("year","after")},focusStartOfWeek:function(){return k("startOfWeek","before")},focusEndOfWeek:function(){return k("endOfWeek","after")}};return h.jsx(p2.Provider,{value:I,children:t.children})}function Iw(){var t=v.useContext(p2);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function eY(t,e){var n=f2(),r=Pw(t,n,e);return r}var Nw=v.createContext(void 0);function tY(t){if(!Um(t.initialProps)){var e={selected:void 0};return h.jsx(Nw.Provider,{value:e,children:t.children})}return h.jsx(nY,{initialProps:t.initialProps,children:t.children})}function nY(t){var e=t.initialProps,n=t.children,r=function(o,l,c){var u,f,p;if((u=e.onDayClick)===null||u===void 0||u.call(e,o,l,c),l.selected&&!e.required){(f=e.onSelect)===null||f===void 0||f.call(e,void 0,o,l,c);return}(p=e.onSelect)===null||p===void 0||p.call(e,o,o,l,c)},s={selected:e.selected,onDayClick:r};return h.jsx(Nw.Provider,{value:s,children:n})}function g2(){var t=v.useContext(Nw);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function rY(t,e){var n=Ut(),r=g2(),s=Sw(),o=Cw(),l=Iw(),c=l.focusDayAfter,u=l.focusDayBefore,f=l.focusWeekAfter,p=l.focusWeekBefore,y=l.blur,x=l.focus,E=l.focusMonthBefore,k=l.focusMonthAfter,I=l.focusYearBefore,P=l.focusYearAfter,D=l.focusStartOfWeek,A=l.focusEndOfWeek,z=function(re){var B,ue,oe,G;Um(n)?(B=r.onDayClick)===null||B===void 0||B.call(r,t,e,re):Cd(n)?(ue=s.onDayClick)===null||ue===void 0||ue.call(s,t,e,re):Pd(n)?(oe=o.onDayClick)===null||oe===void 0||oe.call(o,t,e,re):(G=n.onDayClick)===null||G===void 0||G.call(n,t,e,re)},H=function(re){var B;x(t),(B=n.onDayFocus)===null||B===void 0||B.call(n,t,e,re)},F=function(re){var B;y(),(B=n.onDayBlur)===null||B===void 0||B.call(n,t,e,re)},R=function(re){var B;(B=n.onDayMouseEnter)===null||B===void 0||B.call(n,t,e,re)},M=function(re){var B;(B=n.onDayMouseLeave)===null||B===void 0||B.call(n,t,e,re)},T=function(re){var B;(B=n.onDayPointerEnter)===null||B===void 0||B.call(n,t,e,re)},C=function(re){var B;(B=n.onDayPointerLeave)===null||B===void 0||B.call(n,t,e,re)},O=function(re){var B;(B=n.onDayTouchCancel)===null||B===void 0||B.call(n,t,e,re)},V=function(re){var B;(B=n.onDayTouchEnd)===null||B===void 0||B.call(n,t,e,re)},$=function(re){var B;(B=n.onDayTouchMove)===null||B===void 0||B.call(n,t,e,re)},L=function(re){var B;(B=n.onDayTouchStart)===null||B===void 0||B.call(n,t,e,re)},le=function(re){var B;(B=n.onDayKeyUp)===null||B===void 0||B.call(n,t,e,re)},pe=function(re){var B;switch(re.key){case"ArrowLeft":re.preventDefault(),re.stopPropagation(),n.dir==="rtl"?c():u();break;case"ArrowRight":re.preventDefault(),re.stopPropagation(),n.dir==="rtl"?u():c();break;case"ArrowDown":re.preventDefault(),re.stopPropagation(),f();break;case"ArrowUp":re.preventDefault(),re.stopPropagation(),p();break;case"PageUp":re.preventDefault(),re.stopPropagation(),re.shiftKey?I():E();break;case"PageDown":re.preventDefault(),re.stopPropagation(),re.shiftKey?P():k();break;case"Home":re.preventDefault(),re.stopPropagation(),D();break;case"End":re.preventDefault(),re.stopPropagation(),A();break}(B=n.onDayKeyDown)===null||B===void 0||B.call(n,t,e,re)},ge={onClick:z,onFocus:H,onBlur:F,onKeyDown:pe,onKeyUp:le,onMouseEnter:R,onMouseLeave:M,onPointerEnter:T,onPointerLeave:C,onTouchCancel:O,onTouchEnd:V,onTouchMove:$,onTouchStart:L};return ge}function sY(){var t=Ut(),e=g2(),n=Sw(),r=Cw(),s=Um(t)?e.selected:Cd(t)?n.selected:Pd(t)?r.selected:void 0;return s}function iY(t){return Object.values(As).includes(t)}function oY(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(iY(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function aY(t,e){var n=Ze({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Ze(Ze({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function lY(t,e,n){var r,s,o,l=Ut(),c=Iw(),u=eY(t,e),f=rY(t,u),p=sY(),y=!!(l.onDayClick||l.mode!=="default");v.useEffect(function(){var R;u.outside||c.focusedDay&&y&&Ir(c.focusedDay,t)&&((R=n.current)===null||R===void 0||R.focus())},[c.focusedDay,t,n,y,u.outside]);var x=oY(l,u).join(" "),E=aY(l,u),k=!!(u.outside&&!l.showOutsideDays||u.hidden),I=(o=(s=l.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:IK,P=h.jsx(I,{date:t,displayMonth:e,activeModifiers:u}),D={style:E,className:x,children:P,role:"gridcell"},A=c.focusTarget&&Ir(c.focusTarget,t)&&!u.outside,z=c.focusedDay&&Ir(c.focusedDay,t),H=Ze(Ze(Ze({},D),(r={disabled:u.disabled,role:"gridcell"},r["aria-selected"]=u.selected,r.tabIndex=z||A?0:-1,r)),f),F={isButton:y,isHidden:k,activeModifiers:u,selectedDays:p,buttonProps:H,divProps:D};return F}function cY(t){var e=v.useRef(null),n=lY(t.date,t.displayMonth,e);return n.isHidden?h.jsx("div",{role:"gridcell"}):n.isButton?h.jsx(cm,Ze({name:"day",ref:e},n.buttonProps)):h.jsx("div",Ze({},n.divProps))}function uY(t){var e=t.number,n=t.dates,r=Ut(),s=r.onWeekNumberClick,o=r.styles,l=r.classNames,c=r.locale,u=r.labels.labelWeekNumber,f=r.formatters.formatWeekNumber,p=f(Number(e),{locale:c});if(!s)return h.jsx("span",{className:l.weeknumber,style:o.weeknumber,children:p});var y=u(Number(e),{locale:c}),x=function(E){s(e,n,E)};return h.jsx(cm,{name:"week-number","aria-label":y,className:l.weeknumber,style:o.weeknumber,onClick:x,children:p})}function dY(t){var e,n,r=Ut(),s=r.styles,o=r.classNames,l=r.showWeekNumber,c=r.components,u=(e=c?.Day)!==null&&e!==void 0?e:cY,f=(n=c?.WeekNumber)!==null&&n!==void 0?n:uY,p;return l&&(p=h.jsx("td",{className:o.cell,style:s.cell,children:h.jsx(f,{number:t.weekNumber,dates:t.dates})})),h.jsxs("tr",{className:o.row,style:s.row,children:[p,t.dates.map(function(y){return h.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:h.jsx(u,{displayMonth:t.displayMonth,date:y})},zq(y))})]})}function YS(t,e,n){for(var r=n?.ISOWeek?e2(e):_w(e,n),s=n?.ISOWeek?Ga(t):xi(t,n),o=si(r,s),l=[],c=0;c<=o;c++)l.push(pr(s,c));var u=l.reduce(function(f,p){var y=n?.ISOWeek?n2(p):s2(p,n),x=f.find(function(E){return E.weekNumber===y});return x?(x.dates.push(p),f):(f.push({weekNumber:y,dates:[p]}),f)},[]);return u}function hY(t,e){var n=YS(Lr(t),bw(t),e);if(e?.useFixedWeeks){var r=Hq(t,e);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],l=kv(o,6-r),c=YS(kv(o,1),l,e);n.push.apply(n,c)}}return n}function fY(t){var e,n,r,s=Ut(),o=s.locale,l=s.classNames,c=s.styles,u=s.hideHead,f=s.fixedWeeks,p=s.components,y=s.weekStartsOn,x=s.firstWeekContainsDate,E=s.ISOWeek,k=hY(t.displayMonth,{useFixedWeeks:!!f,ISOWeek:E,locale:o,weekStartsOn:y,firstWeekContainsDate:x}),I=(e=p?.Head)!==null&&e!==void 0?e:PK,P=(n=p?.Row)!==null&&n!==void 0?n:dY,D=(r=p?.Footer)!==null&&r!==void 0?r:SK;return h.jsxs("table",{id:t.id,className:l.table,style:c.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&h.jsx(I,{}),h.jsx("tbody",{className:l.tbody,style:c.tbody,children:k.map(function(A){return h.jsx(P,{displayMonth:t.displayMonth,dates:A.dates,weekNumber:A.weekNumber},A.weekNumber)})}),h.jsx(D,{displayMonth:t.displayMonth})]})}function mY(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var pY=mY()?v.useLayoutEffect:v.useEffect,ly=!1,gY=0;function QS(){return"react-day-picker-".concat(++gY)}function yY(t){var e,n=t??(ly?QS():null),r=v.useState(n),s=r[0],o=r[1];return pY(function(){s===null&&o(QS())},[]),v.useEffect(function(){ly===!1&&(ly=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function vY(t){var e,n,r=Ut(),s=r.dir,o=r.classNames,l=r.styles,c=r.components,u=Id().displayMonths,f=yY(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),p=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,y=[o.month],x=l.month,E=t.displayIndex===0,k=t.displayIndex===u.length-1,I=!E&&!k;s==="rtl"&&(e=[E,k],k=e[0],E=e[1]),E&&(y.push(o.caption_start),x=Ze(Ze({},x),l.caption_start)),k&&(y.push(o.caption_end),x=Ze(Ze({},x),l.caption_end)),I&&(y.push(o.caption_between),x=Ze(Ze({},x),l.caption_between));var P=(n=c?.Caption)!==null&&n!==void 0?n:kK;return h.jsxs("div",{className:y.join(" "),style:x,children:[h.jsx(P,{id:f,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),h.jsx(fY,{id:p,"aria-labelledby":f,displayMonth:t.displayMonth})]},t.displayIndex)}function wY(t){var e=Ut(),n=e.classNames,r=e.styles;return h.jsx("div",{className:n.months,style:r.months,children:t.children})}function xY(t){var e,n,r=t.initialProps,s=Ut(),o=Iw(),l=Id(),c=v.useState(!1),u=c[0],f=c[1];v.useEffect(function(){s.initialFocus&&o.focusTarget&&(u||(o.focus(o.focusTarget),f(!0)))},[s.initialFocus,u,o.focus,o.focusTarget,o]);var p=[s.classNames.root,s.className];s.numberOfMonths>1&&p.push(s.classNames.multiple_months),s.showWeekNumber&&p.push(s.classNames.with_weeknumber);var y=Ze(Ze({},s.styles.root),s.style),x=Object.keys(r).filter(function(k){return k.startsWith("data-")}).reduce(function(k,I){var P;return Ze(Ze({},k),(P={},P[I]=r[I],P))},{}),E=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:wY;return h.jsx("div",Ze({className:p.join(" "),style:y,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},x,{children:h.jsx(E,{children:l.displayMonths.map(function(k,I){return h.jsx(vY,{displayIndex:I,displayMonth:k},I)})})}))}function bY(t){var e=t.children,n=Wq(t,["children"]);return h.jsx(uK,{initialProps:n,children:h.jsx(xK,{children:h.jsx(tY,{initialProps:n,children:h.jsx(NK,{initialProps:n,children:h.jsx(AK,{initialProps:n,children:h.jsx(zK,{children:h.jsx(ZK,{children:e})})})})})})})}function _Y(t){return h.jsx(bY,Ze({},t,{children:h.jsx(xY,{initialProps:t})}))}function EY({className:t,classNames:e,showOutsideDays:n=!0,...r}){return h.jsx(_Y,{showOutsideDays:n,className:rn("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:rn(vy({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:rn("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:rn(vy({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:s,...o})=>h.jsx(TD,{className:rn("size-4",s),...o}),IconRight:({className:s,...o})=>h.jsx(PD,{className:rn("size-4",s),...o})},...r})}function kY(){const[t,e]=v.useState(new Date),[n,r]=v.useState("all"),s=[{id:"all",label:"All Events",color:"from-[var(--monastery-maroon)] to-[var(--monastery-saffron)]"},{id:"festivals",label:"Sacred Festivals",color:"from-[var(--monastery-saffron)] to-[var(--monastery-gold)]"},{id:"ceremonies",label:"Daily Ceremonies",color:"from-[var(--monastery-gold)] to-[var(--monastery-emerald)]"},{id:"meditation",label:"Meditation Sessions",color:"from-[var(--monastery-emerald)] to-[var(--monastery-maroon)]"}],o=[{id:1,title:"Losoong Festival",date:"2025-01-15",time:"06:00 AM",duration:"3 days",monastery:"Rumtek Monastery",category:"festivals",description:"Celebrate the end of harvest season with traditional Bhutia and Lepcha dances",image:"https://images.unsplash.com/photo-1621496770858-d9aacf27f513?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxSdW10ZWslMjBtb25hc3RlcnklMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ1fDA&ixlib=rb-4.1.0&q=80&w=1080",participants:500,isUpcoming:!0,canJoin:!0},{id:2,title:"Morning Prayer Ceremony",date:"2025-01-08",time:"05:30 AM",duration:"2 hours",monastery:"Enchey Monastery",category:"ceremonies",description:"Daily morning prayers and chanting session open to visitors",image:"https://images.unsplash.com/photo-1704797390836-5dd5e0951832?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1vbmFzdGVyeSUyMGludGVyaW9yJTIwbXVyYWxzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080",participants:50,isUpcoming:!1,canJoin:!0},{id:3,title:"Buddha Purnima Celebration",date:"2025-05-12",time:"04:00 AM",duration:"Full day",monastery:"Pemayangtse Monastery",category:"festivals",description:"Commemorate the birth, enlightenment, and death of Buddha",image:"https://images.unsplash.com/photo-1611955166156-9ae5e948c6d4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxUaWJldGFuJTIwcHJheWVyJTIwZmxhZ3MlMjBtb3VudGFpbnN8ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080",participants:1200,isUpcoming:!0,canJoin:!0},{id:4,title:"Meditation Workshop",date:"2025-01-10",time:"02:00 PM",duration:"3 hours",monastery:"Tashiding Monastery",category:"meditation",description:"Learn traditional Tibetan meditation techniques from experienced monks",image:"https://images.unsplash.com/photo-1643442240897-c3286093d022?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxIaW1hbGF5YW4lMjBtb3VudGFpbnMlMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080",participants:25,isUpcoming:!0,canJoin:!0},{id:5,title:"Cham Dance Performance",date:"2025-02-20",time:"10:00 AM",duration:"4 hours",monastery:"Dubdi Monastery",category:"festivals",description:"Traditional masked dance performances representing spiritual teachings",image:"https://images.unsplash.com/photo-1752161670149-0967a8670b0d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1hbnVzY3JpcHRzJTIwYW5jaWVudCUyMHRleHRzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080",participants:300,isUpcoming:!0,canJoin:!0},{id:6,title:"Evening Prayers",date:"2025-01-07",time:"06:00 PM",duration:"1.5 hours",monastery:"Rumtek Monastery",category:"ceremonies",description:"Daily evening prayers with butter lamp lighting ceremony",image:"https://images.unsplash.com/photo-1621496770858-d9aacf27f513?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxSdW10ZWslMjBtb25hc3RlcnklMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ1fDA&ixlib=rb-4.1.0&q=80&w=1080",participants:75,isUpcoming:!1,canJoin:!0}],l=n==="all"?o:o.filter(u=>u.category===n),c=o.map(u=>new Date(u.date));return h.jsx("div",{className:"pt-24 min-h-screen bg-gradient-to-b from-background to-muted/30",children:h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[h.jsxs(Nt,{className:"bg-gradient-to-r from-[var(--monastery-emerald)] to-[var(--monastery-gold)] text-white border-none px-4 py-2 mb-4",children:[h.jsx(ja,{className:"w-4 h-4 mr-2"}),"Cultural Calendar"]}),h.jsx("h1",{className:"text-4xl md:text-5xl mb-4",children:"Sacred Events & Festivals"}),h.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Join authentic cultural celebrations, daily ceremonies, and spiritual gatherings across Sikkim's monasteries."})]}),h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-wrap justify-center gap-4 mb-8",children:s.map(u=>h.jsx(ze,{variant:n===u.id?"default":"outline",onClick:()=>r(u.id),className:`px-4 py-2 text-sm font-medium rounded-md ${n===u.id?`bg-gradient-to-r ${u.color} text-white border-none`:"border-[var(--monastery-gold)]/30 hover:bg-[var(--monastery-gold)]/10"} transition-all duration-200`,style:{display:"flex",alignItems:"center",gap:"0.5rem",whiteSpace:"nowrap"},children:u.label},u.id))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[h.jsxs(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"space-y-6",children:[h.jsxs(St,{className:"bg-white/70 backdrop-blur-sm border-[var(--monastery-gold)]/30",children:[h.jsx(hi,{children:h.jsxs(fi,{className:"flex items-center space-x-2",children:[h.jsx(ja,{className:"w-5 h-5"}),h.jsx("span",{children:"Event Calendar"})]})}),h.jsx(Pt,{children:h.jsx(EY,{mode:"single",selected:t,onSelect:e,className:"rounded-md border-none",modifiers:{eventDay:c},modifiersStyles:{eventDay:{backgroundColor:"var(--monastery-saffron)",color:"white",borderRadius:"50%"}}})})]}),h.jsxs(St,{className:"bg-gradient-to-br from-[var(--monastery-maroon)]/10 to-[var(--monastery-saffron)]/10",children:[h.jsx(hi,{children:h.jsx(fi,{className:"text-lg",children:"Quick Actions"})}),h.jsxs(Pt,{className:"space-y-3",children:[h.jsxs(ze,{className:"w-full bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white",children:[h.jsx(KT,{className:"w-4 h-4 mr-2"}),"Set Event Reminders"]}),h.jsxs(ze,{variant:"outline",className:"w-full border-[var(--monastery-gold)]/30",children:[h.jsx(I1,{className:"w-4 h-4 mr-2"}),"Add to Google Calendar"]}),h.jsxs(ze,{variant:"outline",className:"w-full border-[var(--monastery-gold)]/30",children:[h.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Custom Filters"]})]})]}),h.jsxs(St,{className:"bg-gradient-to-br from-[var(--monastery-emerald)]/10 to-[var(--monastery-maroon)]/10",children:[h.jsx(hi,{children:h.jsx(fi,{className:"text-lg",children:"This Week"})}),h.jsx(Pt,{children:h.jsx("div",{className:"space-y-3",children:o.filter(u=>u.isUpcoming).slice(0,3).map(u=>h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] rounded-full mt-2 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-sm",children:u.title}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.date,"  ",u.time]})]})]},u.id))})})]})]}),h.jsxs(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"lg:col-span-3 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("h3",{className:"text-2xl font-semibold",children:[n==="all"?"All Events":s.find(u=>u.id===n)?.label,h.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",l.length,")"]})]}),h.jsxs(ze,{variant:"outline",className:"border-[var(--monastery-gold)]/30",children:[h.jsx(Ef,{className:"w-4 h-4 mr-2"}),"Filter by Date"]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map((u,f)=>h.jsx(Ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:f*.1},whileHover:{y:-5},className:"group",children:h.jsxs(St,{className:"overflow-hidden bg-white/70 backdrop-blur-sm border-border hover:shadow-xl transition-all duration-300 h-full",children:[h.jsx("div",{className:"relative",children:h.jsxs("div",{className:"h-48 bg-cover bg-center",style:{backgroundImage:`url(${u.image})`},children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),h.jsxs("div",{className:"absolute top-3 left-3 space-y-2",children:[h.jsx(Nt,{className:`${u.isUpcoming?"bg-gradient-to-r from-[var(--monastery-emerald)] to-[var(--monastery-gold)]":"bg-gray-500"} text-white border-none`,children:u.isUpcoming?"Upcoming":"Past"}),h.jsx(Nt,{className:"bg-black/70 text-white border-none",children:u.category})]}),h.jsxs("div",{className:"absolute bottom-3 left-3 text-white",children:[h.jsx("h3",{className:"text-xl font-semibold mb-1",children:u.title}),h.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(ja,{className:"w-4 h-4"}),h.jsx("span",{children:u.date})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(_f,{className:"w-4 h-4"}),h.jsx("span",{children:u.time})]})]})]})]})}),h.jsx(Pt,{className:"p-4",children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[h.jsx(Nr,{className:"w-4 h-4"}),h.jsx("span",{children:u.monastery})]}),h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[h.jsx(ri,{className:"w-4 h-4"}),h.jsxs("span",{children:[u.participants," participants"]})]})]}),h.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:u.description}),h.jsxs("div",{className:"flex items-center justify-between pt-2",children:[h.jsxs("div",{className:"text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Duration: "}),h.jsx("span",{className:"font-semibold",children:u.duration})]}),u.canJoin&&u.isUpcoming&&h.jsx(ze,{size:"sm",className:"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white hover:opacity-90",children:"Join Event"})]}),h.jsxs("div",{className:"flex space-x-2 pt-2",children:[h.jsxs(ze,{size:"sm",variant:"outline",className:"flex-1 border-[var(--monastery-gold)]/30 text-xs",children:[h.jsx(LD,{className:"w-3 h-3 mr-2"}),"Details"]}),h.jsxs(ze,{size:"sm",variant:"outline",className:"flex-1 border-[var(--monastery-gold)]/30 text-xs",children:[h.jsx(I1,{className:"w-3 h-3 mr-2"}),"Add to Calendar"]})]})]})})]})},u.id))}),h.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center pt-8",children:[h.jsx(ze,{size:"lg",variant:"outline",className:"border-[var(--monastery-gold)]/30 hover:bg-[var(--monastery-gold)]/10",children:"Load More Events"}),h.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Showing ",l.length," of 47 upcoming events"]})]})]})]})]})})}function SY(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>e.current?.(...n),[])}var cy={exports:{}},uy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function TY(){if(XS)return uy;XS=1;var t=um();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(y,x){var E=x(),k=r({inst:{value:E,getSnapshot:x}}),I=k[0].inst,P=k[1];return o(function(){I.value=E,I.getSnapshot=x,u(I)&&P({inst:I})},[y,E,x]),s(function(){return u(I)&&P({inst:I}),y(function(){u(I)&&P({inst:I})})},[y]),l(E),E}function u(y){var x=y.getSnapshot;y=y.value;try{var E=x();return!n(y,E)}catch{return!0}}function f(y,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return uy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,uy}var JS;function CY(){return JS||(JS=1,cy.exports=TY()),cy.exports}var PY=CY();function IY(){return PY.useSyncExternalStore(NY,()=>!0,()=>!1)}function NY(){return()=>{}}var Mw="Avatar",[MY,sQ]=Rv(Mw),[LY,y2]=MY(Mw),v2=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,o]=v.useState("idle");return h.jsx(LY,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:h.jsx(Zo.span,{...r,ref:e})})});v2.displayName=Mw;var w2="AvatarImage",x2=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=t,l=y2(w2,n),c=AY(r,o),u=SY(f=>{s(f),l.onImageLoadingStatusChange(f)});return Wu(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?h.jsx(Zo.img,{...o,ref:e,src:r}):null});x2.displayName=w2;var b2="AvatarFallback",_2=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,o=y2(b2,n),[l,c]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(u)}},[r]),l&&o.imageLoadingStatus!=="loaded"?h.jsx(Zo.span,{...s,ref:e}):null});_2.displayName=b2;function ZS(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function AY(t,{referrerPolicy:e,crossOrigin:n}){const r=IY(),s=v.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[l,c]=v.useState(()=>ZS(o,t));return Wu(()=>{c(ZS(o,t))},[o,t]),Wu(()=>{const u=y=>()=>{c(y)};if(!o)return;const f=u("loaded"),p=u("error");return o.addEventListener("load",f),o.addEventListener("error",p),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",f),o.removeEventListener("error",p)}},[o,n,e]),l}var RY=v2,jY=x2,DY=_2;function Yh({className:t,...e}){return h.jsx(RY,{"data-slot":"avatar",className:rn("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function Qh({className:t,...e}){return h.jsx(jY,{"data-slot":"avatar-image",className:rn("aspect-square size-full",t),...e})}function Xh({className:t,...e}){return h.jsx(DY,{"data-slot":"avatar-fallback",className:rn("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function OY(){const[t,e]=v.useState("stories"),n=[{id:"stories",label:"Community Stories",icon:C1},{id:"archivists",label:"Digital Archivists",icon:jo},{id:"volunteers",label:"Volunteer Program",icon:ri},{id:"learning",label:"Learning Hub",icon:wy}],r=[{id:1,author:"Tenzin Norbu",location:"Gangtok, Sikkim",role:"Local Guide",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",story:"Growing up near Rumtek Monastery, I've witnessed the transformation of how people connect with our heritage. Through Monastery360, I'm able to share stories my grandfather told me about these sacred spaces.",image:"https://images.unsplash.com/photo-1621496770858-d9aacf27f513?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxSdW10ZWslMjBtb25hc3RlcnklMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ1fDA&ixlib=rb-4.1.0&q=80&w=1080",likes:234,comments:45,timeAgo:"2 days ago"},{id:2,author:"Dr. Yangchen Dolma",location:"Pelling, Sikkim",role:"Art Historian",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=150&h=150&fit=crop&crop=face",story:"Every mural tells a story spanning centuries. Working with the digital archive team, we're preserving these visual narratives for future generations to discover and learn from.",image:"https://images.unsplash.com/photo-1704797390836-5dd5e0951832?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1vbmFzdGVyeSUyMGludGVyaW9yJTIwbXVyYWxzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080",likes:189,comments:32,timeAgo:"5 days ago"},{id:3,author:"Karma Lepcha",location:"Yuksom, Sikkim",role:"Youth Volunteer",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",story:"As part of the youth digital archiving program, I'm learning traditional photography techniques while helping document sacred rituals. It's amazing how technology helps preserve our living culture.",image:"https://images.unsplash.com/photo-1611955166156-9ae5e948c6d4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxUaWJldGFuJTIwcHJheWVyJTIwZmxhZ3MlMjBtb3VudGFpbnN8ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080",likes:156,comments:28,timeAgo:"1 week ago"}],s=[{id:1,name:"Pema Choden",age:22,location:"Gangtok",expertise:"360 Photography",contributions:45,avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",achievement:"Rising Star",bio:"Computer science student passionate about preserving cultural heritage through technology."},{id:2,name:"Lobsang Tashi",age:19,location:"Namchi",expertise:"Drone Documentation",contributions:67,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",achievement:"Heritage Champion",bio:"Local youth trained in aerial photography for capturing monastery architecture and surroundings."},{id:3,name:"Dolma Sherpa",age:24,location:"Pelling",expertise:"Manuscript Digitization",contributions:89,avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=150&h=150&fit=crop&crop=face",achievement:"Master Archivist",bio:"Art graduate specializing in high-resolution scanning and digital restoration of ancient texts."}],o=[{id:1,title:"Introduction to Buddhist Art",duration:"45 minutes",level:"Beginner",participants:234,rating:4.9,instructor:"Dr. Yangchen Dolma",image:"https://images.unsplash.com/photo-1704797390836-5dd5e0951832?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1vbmFzdGVyeSUyMGludGVyaW9yJTIwbXVyYWxzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080"},{id:2,title:"Monastery Architecture Through Ages",duration:"1 hour",level:"Intermediate",participants:156,rating:4.8,instructor:"Architect Sonam Wangdi",image:"https://images.unsplash.com/photo-1621496770858-d9aacf27f513?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxSdW10ZWslMjBtb25hc3RlcnklMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ1fDA&ixlib=rb-4.1.0&q=80&w=1080"},{id:3,title:"Digital Heritage Documentation",duration:"2 hours",level:"Advanced",participants:89,rating:4.9,instructor:"Tech Team Monastery360",image:"https://images.unsplash.com/photo-1752161670149-0967a8670b0d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1hbnVzY3JpcHRzJTIwYW5jaWVudCUyMHRleHRzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080"}],l=()=>{switch(t){case"stories":return h.jsx("div",{className:"space-y-6",children:r.map((c,u)=>h.jsx(Ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:u*.1},children:h.jsx(St,{className:"overflow-hidden bg-white/70 backdrop-blur-sm",children:h.jsxs(Pt,{className:"p-6",children:[h.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[h.jsxs(Yh,{className:"w-12 h-12",children:[h.jsx(Qh,{src:c.avatar,alt:c.author}),h.jsx(Xh,{children:c.author.split(" ").map(f=>f[0]).join("")})]}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[h.jsx("h4",{className:"font-semibold",children:c.author}),h.jsx(Nt,{variant:"outline",className:"text-xs border-[var(--monastery-gold)]/50",children:c.role})]}),h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[h.jsx(Nr,{className:"w-3 h-3"}),h.jsx("span",{children:c.location}),h.jsx("span",{children:""}),h.jsx("span",{children:c.timeAgo})]})]})]}),h.jsx("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:c.story}),h.jsx("div",{className:"w-full h-64 bg-cover bg-center rounded-lg mb-4",style:{backgroundImage:`url(${c.image})`}}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-6",children:[h.jsxs(ze,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-[var(--monastery-maroon)]",children:[h.jsx(C1,{className:"w-4 h-4 mr-2"}),c.likes]}),h.jsxs(ze,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-[var(--monastery-maroon)]",children:[h.jsx(XT,{className:"w-4 h-4 mr-2"}),c.comments]})]}),h.jsx(ze,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-[var(--monastery-maroon)]",children:h.jsx(E4,{className:"w-4 h-4"})})]})]})})},c.id))});case"archivists":return h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((c,u)=>h.jsx(Ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:u*.1},whileHover:{y:-5},children:h.jsx(St,{className:"text-center bg-white/70 backdrop-blur-sm hover:shadow-lg transition-all duration-300",children:h.jsxs(Pt,{className:"p-6",children:[h.jsxs(Yh,{className:"w-20 h-20 mx-auto mb-4",children:[h.jsx(Qh,{src:c.avatar,alt:c.name}),h.jsx(Xh,{children:c.name.split(" ").map(f=>f[0]).join("")})]}),h.jsx("h3",{className:"font-semibold mb-1",children:c.name}),h.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Age ",c.age,"  ",c.location]}),h.jsxs(Nt,{className:"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white border-none mb-3",children:[h.jsx(k1,{className:"w-3 h-3 mr-1"}),c.achievement]}),h.jsxs("div",{className:"space-y-2 mb-4",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Expertise:"}),h.jsx("span",{className:"font-medium",children:c.expertise})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Contributions:"}),h.jsx("span",{className:"font-medium",children:c.contributions})]})]}),h.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:c.bio}),h.jsx(ze,{size:"sm",className:"w-full bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white",children:"Connect"})]})})},c.id))});case"volunteers":return h.jsxs("div",{className:"space-y-8",children:[h.jsxs(St,{className:"bg-gradient-to-br from-[var(--monastery-maroon)]/10 to-[var(--monastery-saffron)]/10 border-2 border-[var(--monastery-gold)]/30",children:[h.jsx(hi,{children:h.jsxs(fi,{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[var(--monastery-maroon)] to-[var(--monastery-saffron)] rounded-lg flex items-center justify-center",children:h.jsx(ri,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h3",{children:"Join Our Digital Heritage Mission"}),h.jsx("p",{className:"text-sm text-muted-foreground font-normal",children:"Empower local youth as digital archivists and cultural ambassadors"})]})]})}),h.jsxs(Pt,{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] rounded-full flex items-center justify-center mx-auto mb-3",children:h.jsx(jo,{className:"w-8 h-8 text-white"})}),h.jsx("h4",{className:"font-semibold mb-2",children:"Learn Digital Photography"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Master 360 photography, drone operation, and high-resolution scanning techniques"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[var(--monastery-gold)] to-[var(--monastery-emerald)] rounded-full flex items-center justify-center mx-auto mb-3",children:h.jsx(wy,{className:"w-8 h-8 text-white"})}),h.jsx("h4",{className:"font-semibold mb-2",children:"Cultural Education"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Deep dive into Buddhist art, architecture, and spiritual practices with expert mentors"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[var(--monastery-emerald)] to-[var(--monastery-maroon)] rounded-full flex items-center justify-center mx-auto mb-3",children:h.jsx(k1,{className:"w-8 h-8 text-white"})}),h.jsx("h4",{className:"font-semibold mb-2",children:"Earn Recognition"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Get certified as a Digital Heritage Ambassador with official recognition"})]})]}),h.jsxs("div",{className:"text-center pt-4",children:[h.jsx(ze,{size:"lg",className:"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white px-8",children:"Apply to Volunteer Program"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Applications open for ages 16-30  No experience required"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(St,{className:"bg-white/70 backdrop-blur-sm",children:h.jsxs(Pt,{className:"p-6",children:[h.jsx("h4",{className:"font-semibold mb-3",children:"Success Stories"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsxs(Yh,{className:"w-8 h-8",children:[h.jsx(Qh,{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"}),h.jsx(Xh,{children:"KL"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm",children:'"The program helped me discover my passion for photography while preserving our heritage."'}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"- Karma Lepcha, Volunteer"})]})]}),h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsxs(Yh,{className:"w-8 h-8",children:[h.jsx(Qh,{src:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face"}),h.jsx(Xh,{children:"PC"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm",children:'"I learned valuable tech skills while contributing to something meaningful for our community."'}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"- Pema Choden, Digital Archivist"})]})]})]})]})}),h.jsx(St,{className:"bg-white/70 backdrop-blur-sm",children:h.jsxs(Pt,{className:"p-6",children:[h.jsx("h4",{className:"font-semibold mb-3",children:"Program Impact"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Volunteers"}),h.jsx("span",{className:"font-semibold",children:"67"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Artifacts Documented"}),h.jsx("span",{className:"font-semibold",children:"1,234"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Hours Contributed"}),h.jsx("span",{className:"font-semibold",children:"2,890"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Monasteries Covered"}),h.jsx("span",{className:"font-semibold",children:"25"})]})]})]})})]})]});case"learning":return h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((c,u)=>h.jsx(Ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:u*.1},whileHover:{y:-5},children:h.jsxs(St,{className:"overflow-hidden bg-white/70 backdrop-blur-sm hover:shadow-lg transition-all duration-300",children:[h.jsx("div",{className:"h-40 bg-cover bg-center",style:{backgroundImage:`url(${c.image})`},children:h.jsx("div",{className:"h-full bg-gradient-to-t from-black/60 to-transparent flex items-end p-4",children:h.jsx(Nt,{className:"bg-black/70 text-white border-none",children:c.level})})}),h.jsxs(Pt,{className:"p-4",children:[h.jsx("h4",{className:"font-semibold mb-2",children:c.title}),h.jsxs("div",{className:"space-y-2 mb-4 text-sm text-muted-foreground",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(Clock,{className:"w-3 h-3"}),h.jsx("span",{children:c.duration})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx(ri,{className:"w-3 h-3"}),h.jsx("span",{children:c.participants})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{children:["Instructor: ",c.instructor]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("span",{children:""}),h.jsx("span",{children:c.rating})]})]})]}),h.jsxs(ze,{className:"w-full bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white",children:[h.jsx(H4,{className:"w-4 h-4 mr-2"}),"Start Learning"]})]})]})},c.id))});default:return null}};return h.jsx("div",{className:"pt-24 min-h-screen bg-gradient-to-b from-background to-muted/30",children:h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[h.jsxs(Nt,{className:"bg-gradient-to-r from-[var(--monastery-maroon)] to-[var(--monastery-emerald)] text-white border-none px-4 py-2 mb-4",children:[h.jsx(ri,{className:"w-4 h-4 mr-2"}),"Community & Empowerment"]}),h.jsx("h1",{className:"text-4xl md:text-5xl mb-4",children:"Building Cultural Guardians"}),h.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Empowering local communities to become digital heritage ambassadors, preserving Sikkim's spiritual legacy for future generations."})]}),h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-wrap justify-center gap-2 mb-8",children:n.map(c=>{const u=c.icon;return h.jsxs(ze,{variant:t===c.id?"default":"outline",onClick:()=>e(c.id),className:`px-4 py-2 text-sm font-medium rounded-md ${t===c.id?"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white border-none":"border-[var(--monastery-gold)]/30 hover:bg-[var(--monastery-gold)]/10"} transition-all duration-200`,style:{display:"flex",alignItems:"center",gap:"0.5rem",whiteSpace:"nowrap"},children:[h.jsx(u,{className:"w-4 h-4 flex-shrink-0"}),h.jsx("span",{children:c.label})]},c.id)})}),h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:l()},t)]})})}function VY(){const[t,e]=v.useState("ar"),n=[{id:"ar",title:"Augmented Reality Experience",description:"Overlay digital information onto real monastery spaces through your smartphone",icon:Bo,status:"In Development",progress:75,releaseDate:"Q2 2025",image:"https://images.unsplash.com/photo-1621496770858-d9aacf27f513?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxSdW10ZWslMjBtb25hc3RlcnklMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ1fDA&ixlib=rb-4.1.0&q=80&w=1080",color:"from-[var(--monastery-maroon)] to-[var(--monastery-saffron)]",features:["Point phone at artifacts to see historical information","Virtual monk guides appearing in real spaces","Interactive 3D models of architectural elements","Multi-language overlay support"]},{id:"gamification",title:"Heritage Quest Gamification",description:"Collect digital stamps, unlock achievements, and learn through engaging challenges",icon:S1,status:"Planning",progress:30,releaseDate:"Q3 2025",image:"https://images.unsplash.com/photo-1704797390836-5dd5e0951832?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxCdWRkaGlzdCUyMG1vbmFzdGVyeSUyMGludGVyaW9yJTIwbXVyYWxzfGVufDF8fHx8MTc1NzI1Nzc0N3ww&ixlib=rb-4.1.0&q=80&w=1080",color:"from-[var(--monastery-saffron)] to-[var(--monastery-gold)]",features:["Digital passport with monastery stamps","Knowledge quests about Buddhist teachings","Community leaderboards and challenges","Unlock special content through exploration"]},{id:"education",title:"Kids Heritage Explorer",description:"Interactive learning modules designed specifically for young heritage enthusiasts",icon:zD,status:"Concept",progress:15,releaseDate:"Q4 2025",image:"https://images.unsplash.com/photo-1611955166156-9ae5e948c6d4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxUaWJldGFuJTIwcHJheWVyJTIwZmxhZ3MlMjBtb3VudGFpbnN8ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080",color:"from-[var(--monastery-gold)] to-[var(--monastery-emerald)]",features:["Animated stories of Buddhist legends","Virtual coloring books of monastery art","Simple meditation games for children","Family-friendly guided tours"]},{id:"ai",title:"AI Heritage Assistant",description:"Intelligent chatbot with deep knowledge of Sikkim's monastic traditions",icon:tO,status:"Research",progress:10,releaseDate:"2026",image:"https://images.unsplash.com/photo-1643442240897-c3286093d022?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxIaW1hbGF5YW4lMjBtb3VudGFpbnMlMjBTaWtraW18ZW58MXx8fHwxNzU3MjU3NzQ2fDA&ixlib=rb-4.1.0&q=80&w=1080",color:"from-[var(--monastery-emerald)] to-[var(--monastery-maroon)]",features:["Ask questions about any monastery or artifact","Personalized learning recommendations","Real-time translation of ancient texts","Voice-activated spiritual guidance"]}],r=[{icon:JT,title:"First Visitor",description:"Visit your first monastery"},{icon:O4,title:"Heritage Scholar",description:"Complete 10 learning modules"},{icon:gD,title:"Archive Explorer",description:"View 50 historical artifacts"},{icon:ri,title:"Community Builder",description:"Share 5 cultural stories"}],s=n.find(o=>o.id===t);return h.jsx("div",{className:"pt-24 min-h-screen bg-gradient-to-b from-background to-muted/30",children:h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[h.jsxs(Nt,{className:"bg-gradient-to-r from-[var(--monastery-gold)] to-[var(--monastery-emerald)] text-white border-none px-4 py-2 mb-4",children:[h.jsx(Gi,{className:"w-4 h-4 mr-2"}),"Future-Ready Features"]}),h.jsx("h1",{className:"text-4xl md:text-5xl mb-4",children:"Innovation Meets Tradition"}),h.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Discover upcoming features that will revolutionize how we connect with and preserve Sikkim's spiritual heritage."})]}),h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-12",children:h.jsx(St,{className:"overflow-hidden bg-gradient-to-br from-[var(--monastery-maroon)]/10 to-[var(--monastery-emerald)]/10 border-2 border-[var(--monastery-gold)]/30",children:h.jsx(Pt,{className:"p-0",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[h.jsxs("div",{className:"h-96 lg:h-auto bg-cover bg-center relative",style:{backgroundImage:`url(${s?.image})`},children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-transparent"}),t==="ar"&&h.jsx(Ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"absolute inset-0 flex items-center justify-center",children:h.jsxs("div",{className:"bg-white/90 backdrop-blur-sm p-4 rounded-lg shadow-lg max-w-xs",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] rounded-full flex items-center justify-center",children:h.jsx(Bo,{className:"w-4 h-4 text-white"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-sm",children:"Golden Buddha"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"16th Century"})]})]}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"This sacred statue represents the Medicine Buddha, crafted from bronze and gilded with pure gold..."})]})}),t==="gamification"&&h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute bottom-4 left-4 right-4",children:h.jsxs("div",{className:"bg-black/80 backdrop-blur-sm p-4 rounded-lg text-white",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"font-semibold",children:"Quest Progress"}),h.jsx(Nt,{className:"bg-[var(--monastery-gold)] text-black",children:"Level 3"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{children:"Monastery Explorer"}),h.jsx("span",{children:"3/5 "})]}),h.jsx(yf,{value:60,className:"h-2"})]})]})})]}),h.jsxs("div",{className:"p-8",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[h.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${s?.color} rounded-lg flex items-center justify-center`,children:s&&h.jsx(s.icon,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-semibold",children:s?.title}),h.jsx("p",{className:"text-muted-foreground",children:s?.description})]})]}),h.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[h.jsx(Nt,{className:`bg-gradient-to-r ${s?.color} text-white border-none`,children:s?.status}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Expected: ",s?.releaseDate]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Development Progress"}),h.jsxs("span",{className:"text-sm text-muted-foreground",children:[s?.progress,"%"]})]}),h.jsx(yf,{value:s?.progress,className:"h-3",children:h.jsx("div",{className:`h-full bg-gradient-to-r ${s?.color} transition-all duration-300 rounded-full`,style:{width:`${s?.progress}%`}})})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("h4",{className:"font-semibold",children:"Key Features:"}),h.jsx("ul",{className:"space-y-2",children:s?.features.map((o,l)=>h.jsxs(Ee.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:l*.1},className:"flex items-start space-x-2 text-sm text-muted-foreground",children:[h.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] rounded-full mt-2 flex-shrink-0"}),h.jsx("span",{children:o})]},l))})]}),h.jsxs(ze,{className:"mt-6 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white",children:[h.jsx(KT,{className:"w-4 h-4 mr-2"}),"Get Notified"]})]})]})})})}),h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-12",children:n.map((o,l)=>{const c=o.icon;return h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+l*.1},whileHover:{y:-5},children:h.jsx(St,{className:`cursor-pointer transition-all duration-300 h-full ${t===o.id?`ring-2 ring-[var(--monastery-gold)] bg-gradient-to-br ${o.color.replace("from-","from-").replace("to-","to-")}/10`:"bg-white/70 backdrop-blur-sm hover:shadow-md"}`,onClick:()=>e(o.id),children:h.jsxs(Pt,{className:"p-4 text-center",children:[h.jsx("div",{className:`w-12 h-12 mx-auto mb-3 rounded-lg bg-gradient-to-r ${o.color} flex items-center justify-center`,children:h.jsx(c,{className:"w-6 h-6 text-white"})}),h.jsx("h4",{className:"font-semibold text-sm mb-2",children:o.title}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(yf,{value:o.progress,className:"h-2"}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[h.jsx("span",{children:o.status}),h.jsxs("span",{children:[o.progress,"%"]})]})]})]})})},o.id)})}),h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-12",children:h.jsxs(St,{className:"bg-gradient-to-br from-[var(--monastery-saffron)]/10 to-[var(--monastery-gold)]/10 border-[var(--monastery-gold)]/30",children:[h.jsx(hi,{children:h.jsxs(fi,{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] rounded-lg flex items-center justify-center",children:h.jsx(S1,{className:"w-5 h-5 text-white"})}),h.jsxs("div",{children:[h.jsx("h3",{children:"Heritage Quest Achievements"}),h.jsx("p",{className:"text-sm text-muted-foreground font-normal",children:"Unlock badges as you explore Sikkim's spiritual heritage"})]})]})}),h.jsx(Pt,{children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:r.map((o,l)=>{const c=o.icon;return h.jsxs(Ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5+l*.1},className:"text-center p-4 rounded-lg bg-white/50 backdrop-blur-sm border border-[var(--monastery-gold)]/30",children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-r from-[var(--monastery-gold)] to-[var(--monastery-emerald)] rounded-full flex items-center justify-center",children:h.jsx(c,{className:"w-8 h-8 text-white"})}),h.jsx("h4",{className:"font-semibold text-sm mb-1",children:o.title}),h.jsx("p",{className:"text-xs text-muted-foreground",children:o.description})]},l)})})})]})}),h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-center",children:h.jsx(St,{className:"bg-gradient-to-r from-[var(--monastery-maroon)]/10 to-[var(--monastery-emerald)]/10 border-2 border-[var(--monastery-gold)]/30",children:h.jsxs(Pt,{className:"p-8",children:[h.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Shape the Future of Heritage"}),h.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Your feedback helps us prioritize which features to develop first. Join our community and influence the future of digital heritage preservation."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[h.jsxs(ze,{size:"lg",className:"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white px-8",children:[h.jsx(ri,{className:"w-5 h-5 mr-2"}),"Join Beta Testing"]}),h.jsxs(ze,{size:"lg",variant:"outline",className:"border-[var(--monastery-gold)]/30 px-8",children:[h.jsx(gm,{className:"w-5 h-5 mr-2"}),"Share Feedback"]})]})]})})})]})})}var FY="Label",E2=v.forwardRef((t,e)=>h.jsx(Zo.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));E2.displayName=FY;var UY=E2;function Gl({className:t,...e}){return h.jsx(UY,{"data-slot":"label",className:rn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function zY(){const t=hc(),{login:e}=A0(),[n,r]=v.useState(!1),[s,o]=v.useState(""),[l,c]=v.useState(!1),[u,f]=v.useState(""),[p,y]=v.useState(""),x=async E=>{E.preventDefault(),r(!0),o("");try{await e(u,p),t("/")}catch(k){o(k.message||"Failed to login")}finally{r(!1)}};return h.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 dark:opacity-100 opacity-0 transition-opacity duration-300"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:opacity-0 opacity-100 transition-opacity duration-300"}),h.jsx("div",{className:"absolute inset-0 opacity-10",children:h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[h.jsx("div",{className:"w-full h-full bg-gradient-to-br from-white/5 via-transparent to-white/3 animate-pulse"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-[var(--monastery-saffron)]/5 via-transparent to-[var(--monastery-gold)]/3 animate-pulse",style:{animationDelay:"1s"}})]})}),h.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(6)].map((E,k)=>h.jsx(Ee.div,{className:"absolute opacity-5",initial:{y:"100vh",rotate:0},animate:{y:"-100vh",rotate:360,x:[0,50,-50,0]},transition:{duration:20+k*5,repeat:1/0,ease:"linear",delay:k*3},style:{left:`${10+k*15}%`,fontSize:`${20+k*10}px`},children:h.jsx(ky,{className:"w-8 h-8 text-white"})},k))}),h.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:h.jsxs("div",{className:"w-full max-w-6xl mx-auto grid lg:grid-cols-2 gap-8 items-center",children:[h.jsxs(Ee.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},className:"text-slate-900 dark:text-white space-y-8 text-center lg:text-left",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs(Ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"inline-flex items-center space-x-3 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] px-6 py-3 rounded-full text-black font-medium shadow-lg",children:[h.jsx(Gi,{className:"w-5 h-5"}),h.jsx("span",{children:"Welcome to Monastery360"})]}),h.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold leading-tight",children:[h.jsx("span",{className:"bg-gradient-to-r from-white via-gray-200 to-white bg-clip-text text-transparent",children:"Discover Sacred"}),h.jsx("br",{}),h.jsx("span",{className:"bg-gradient-to-r from-[var(--monastery-saffron)] via-[var(--monastery-gold)] to-[var(--monastery-saffron)] bg-clip-text text-transparent",children:"Monasteries"})]}),h.jsx("p",{className:"text-xl text-gray-300 max-w-lg",children:"Embark on a spiritual journey through the majestic monasteries of Sikkim. Experience virtual tours, connect with local guides, and plan your sacred pilgrimage."})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-lg mx-auto lg:mx-0",children:[{icon:"",title:"Virtual Tours",desc:"Immersive 360 experiences"},{icon:"",title:"Sacred Maps",desc:"Interactive monastery locations"},{icon:"",title:"Local Guides",desc:"Connect with spiritual teachers"}].map((E,k)=>h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+k*.1},className:"text-center space-y-2",children:[h.jsx("div",{className:"text-3xl mb-2",children:E.icon}),h.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:E.title}),h.jsx("p",{className:"text-sm text-slate-600 dark:text-gray-400",children:E.desc})]},k))})]}),h.jsx(Ee.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut",delay:.2},children:h.jsxs(St,{className:"backdrop-blur-xl bg-white/90 dark:bg-white/10 border-slate-200/50 dark:border-white/20 shadow-2xl",children:[h.jsxs(hi,{className:"space-y-6 text-center",children:[h.jsx(Ee.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 mx-auto bg-gradient-to-br from-[var(--monastery-saffron)] to-[var(--monastery-gold)] rounded-2xl flex items-center justify-center shadow-lg",children:h.jsx(ky,{className:"w-8 h-8 text-white"})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(fi,{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Welcome Back"}),h.jsx(YI,{className:"text-slate-700 dark:text-gray-300",children:"Continue your spiritual journey through Sikkim's sacred monasteries"})]})]}),h.jsxs("form",{onSubmit:x,children:[h.jsxs(Pt,{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Gl,{htmlFor:"email",className:"text-slate-800 dark:text-white font-medium",children:"Email Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(Dv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),h.jsx(Hi,{id:"email",type:"email",value:u,onChange:E=>f(E.target.value),placeholder:"your.name@email.com",className:"pl-12 h-12 bg-white/90 dark:bg-white/10 border-slate-300 dark:border-white/30 text-slate-900 dark:text-white placeholder:text-slate-500 dark:placeholder:text-gray-400 focus:border-[var(--monastery-gold)] focus:ring-[var(--monastery-gold)]/50 dark:backdrop-blur-sm",required:!0})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Gl,{htmlFor:"password",className:"text-slate-800 dark:text-white font-medium",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(Ey,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),h.jsx(Hi,{id:"password",type:l?"text":"password",value:p,onChange:E=>y(E.target.value),placeholder:"Enter your password",className:"pl-12 pr-12 h-12 bg-white/90 dark:bg-white/10 border-slate-300 dark:border-white/30 text-slate-900 dark:text-white placeholder:text-slate-500 dark:placeholder:text-gray-400 focus:border-[var(--monastery-gold)] focus:ring-[var(--monastery-gold)]/50 dark:backdrop-blur-sm",required:!0}),h.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:l?h.jsx(xy,{className:"w-5 h-5"}):h.jsx(Bo,{className:"w-5 h-5"})})]})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("label",{className:"flex items-center space-x-2 text-slate-700 dark:text-gray-300 cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"w-4 h-4 text-[var(--monastery-gold)] bg-white/90 dark:bg-white/10 border-slate-300 dark:border-white/30 rounded focus:ring-[var(--monastery-gold)] focus:ring-2"}),h.jsx("span",{children:"Remember me"})]}),h.jsx("button",{type:"button",className:"text-[var(--monastery-gold)] hover:text-[var(--monastery-saffron)] transition-colors",children:"Forgot password?"})]}),s&&h.jsx(Ee.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-4 bg-red-100/90 dark:bg-red-500/20 border border-red-300 dark:border-red-500/30 rounded-lg dark:backdrop-blur-sm",children:h.jsx("p",{className:"text-red-200 dark:text-red-200 text-red-700 text-sm",children:s})})]}),h.jsxs(QI,{className:"space-y-6",children:[h.jsx(ze,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] hover:from-[var(--monastery-gold)] hover:to-[var(--monastery-saffron)] text-white font-semibold text-base shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",disabled:n,children:n?h.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[h.jsx(YT,{className:"h-5 w-5 animate-spin"}),h.jsx("span",{children:"Signing you in..."})]}):h.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[h.jsx(gm,{className:"h-5 w-5"}),h.jsx("span",{children:"Sign In to Continue"})]})}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-white/20"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-4 bg-transparent text-slate-700 dark:text-gray-400",children:"New to Monastery360?"})})]}),h.jsx("button",{type:"button",onClick:()=>t("/register"),className:"w-full h-12 border-2 border-slate-300 dark:border-white/30 text-slate-800 dark:text-white font-medium hover:bg-slate-100/80 dark:hover:bg-white/10 hover:border-slate-400 dark:hover:border-white/50 rounded-lg transition-all duration-300 dark:backdrop-blur-sm",children:"Create New Account"})]})]})]})})]})}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/50 to-transparent pointer-events-none"})]})}function BY(){const t=hc(),{user:e,loading:n,login:r,register:s}=A0(),[o,l]=v.useState(!1),[c,u]=v.useState(""),[f,p]=v.useState("register"),[y,x]=v.useState(!1),[E,k]=v.useState(!1),[I,P]=v.useState({name:"",email:"",password:"",confirmPassword:""});v.useEffect(()=>{e&&t("/")},[e,t]),v.useEffect(()=>{if(c){const H=setTimeout(()=>u(""),4e3);return()=>clearTimeout(H)}},[c]);const D=async H=>{if(H.preventDefault(),l(!0),u(""),I.password.length<6){u("Password must be at least 6 characters"),l(!1);return}if(I.password!==I.confirmPassword){u("Passwords do not match"),l(!1);return}try{await s(I.name,I.email,I.password),t("/")}catch(F){u(F instanceof Error?F.message:"Failed to register")}l(!1)},A=async H=>{H.preventDefault(),l(!0),u("");try{await r(I.email,I.password),t("/")}catch(F){u(F instanceof Error?F.message:"Failed to login")}l(!1)},z={weak:I.password.length>0&&I.password.length<6,medium:I.password.length>=6&&I.password.length<10,strong:I.password.length>=10&&/[A-Z]/.test(I.password)&&/[0-9]/.test(I.password)};return h.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 transition-opacity duration-300 opacity-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 dark:opacity-100"}),h.jsx("div",{className:"absolute inset-0 transition-opacity duration-300 opacity-100 bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:opacity-0"}),h.jsx("div",{className:"absolute inset-0 opacity-5",children:h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[h.jsx("div",{className:"w-full h-full bg-gradient-to-br from-white/5 via-transparent to-white/3 animate-pulse"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-tl from-[var(--monastery-saffron)]/5 via-transparent to-[var(--monastery-gold)]/3 animate-pulse",style:{animationDelay:"1.5s"}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/2 to-transparent animate-pulse",style:{animationDelay:"2s"}})]})}),h.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(8)].map((H,F)=>h.jsx(Ee.div,{className:"absolute opacity-10",initial:{y:"100vh",rotate:0,scale:.5},animate:{y:"-100vh",rotate:180,scale:[.5,1,.5],x:[0,100,-100,0]},transition:{duration:15+F*3,repeat:1/0,ease:"linear",delay:F*2},style:{left:`${5+F*12}%`},children:h.jsx(Gi,{className:"w-6 h-6 text-yellow-300"})},F))}),h.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4 pt-24",children:h.jsxs("div",{className:"grid items-start w-full max-w-5xl gap-12 mx-auto lg:grid-cols-2",children:[h.jsxs(Ee.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},className:"space-y-8 text-center text-slate-900 dark:text-white lg:text-left",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Ee.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.3,type:"spring",stiffness:200},className:"inline-flex items-center space-x-3 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] px-6 py-3 rounded-full text-black font-semibold shadow-lg",children:[h.jsx(ri,{className:"w-5 h-5"})," ",h.jsx("span",{children:"Join Monastery360"})]}),h.jsxs("h1",{className:"text-4xl font-bold leading-tight lg:text-6xl",children:[h.jsx("span",{className:"text-transparent bg-gradient-to-r from-white via-gray-200 to-white bg-clip-text",children:"Begin Your"}),h.jsx("br",{}),h.jsx("span",{className:"bg-gradient-to-r from-[var(--monastery-saffron)] via-[var(--monastery-gold)] to-[var(--monastery-saffron)] bg-clip-text text-transparent",children:"Spiritual Journey"})]}),h.jsx("p",{className:"max-w-lg text-xl text-slate-700 dark:text-gray-300",children:"Create your account to unlock exclusive features: personalized monastery recommendations, guided meditation sessions, and connections with spiritual communities worldwide."})]}),h.jsx("div",{className:"grid max-w-lg grid-cols-1 gap-6 mx-auto sm:grid-cols-2 lg:mx-0",children:[{icon:"",title:"Personalized Tours",desc:"AI-curated spiritual experiences"},{icon:"",title:"Meditation Guide",desc:"Daily mindfulness practices"},{icon:"",title:"Sacred Calendar",desc:"Festival & ritual notifications"},{icon:"",title:"Community",desc:"Connect with fellow seekers"}].map((H,F)=>h.jsxs(Ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5+F*.1},className:"p-4 space-y-3 text-center border rounded-xl bg-white/5 dark:bg-white/5 bg-white/60 backdrop-blur-sm border-white/10 dark:border-white/10 border-slate-300/50",children:[h.jsx("div",{className:"mb-2 text-2xl",children:H.icon}),h.jsx("h3",{className:"text-sm font-semibold text-white dark:text-white text-slate-800",children:H.title}),h.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-400 text-slate-600",children:H.desc})]},F))})]}),h.jsx(Ee.div,{className:"-translate-y-16",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut",delay:.2},children:h.jsxs(St,{className:"shadow-2xl backdrop-blur-xl bg-white/60 dark:bg-slate-900/60 border-slate-200/50 dark:border-white/20",children:[h.jsxs(hi,{className:"space-y-6 text-center",children:[h.jsx(Ee.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 mx-auto bg-gradient-to-br from-[var(--monastery-saffron)] to-[var(--monastery-gold)] rounded-2xl flex items-center justify-center shadow-xl",children:h.jsx(Gi,{className:"w-8 h-8 text-white"})}),h.jsxs("div",{className:"flex p-1 rounded-lg bg-white/5 backdrop-blur-sm",children:[h.jsx("button",{onClick:()=>p("register"),className:`flex-1 rounded-md py-2 px-4 text-sm font-medium transition-all duration-300 ${f==="register"?"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-black shadow-lg":"text-slate-700 dark:text-white hover:bg-slate-200/50 dark:hover:bg-white/10"}`,children:"Sign Up"}),h.jsx("button",{onClick:()=>p("login"),className:`flex-1 rounded-md py-2 px-4 text-sm font-medium transition-all duration-300 ${f==="login"?"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-black shadow-lg":"text-slate-700 dark:text-white hover:bg-slate-200/50 dark:hover:bg-white/10"}`,children:"Sign In"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(fi,{className:"text-2xl font-bold text-slate-800 dark:text-white",children:f==="login"?"Welcome Back":"Create Account"}),h.jsx(YI,{className:"text-slate-700 dark:text-gray-300",children:f==="login"?"Continue your spiritual journey":"Start your monastery exploration today"})]})]}),h.jsxs("form",{onSubmit:f==="login"?A:D,children:[h.jsxs(Pt,{className:"space-y-6",children:[f==="register"&&h.jsxs(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[h.jsx(Gl,{htmlFor:"name",className:"font-medium text-slate-800 dark:text-white",children:"Full Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(ZT,{className:"absolute w-5 h-5 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),h.jsx(Hi,{id:"name",type:"text",value:I.name,onChange:H=>P({...I,name:H.target.value}),placeholder:"        Your full name",className:"pl-14 h-12 bg-white/90 dark:bg-white/10 border-slate-300 dark:border-white/30 text-slate-900 dark:text-white placeholder:text-slate-500 dark:placeholder:text-gray-400 focus:border-[var(--monastery-gold)] focus:ring-[var(--monastery-gold)]/50 dark:backdrop-blur-sm",required:!0})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Gl,{htmlFor:"email",className:"font-medium text-slate-800 dark:text-white",children:"Email Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(Dv,{className:"absolute w-5 h-5 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),h.jsx(Hi,{id:"email",type:"email",value:I.email,onChange:H=>P({...I,email:H.target.value}),placeholder:"        your.name@email.com",className:"pl-14 h-12 bg-white/90 dark:bg-white/10 border-slate-300 dark:border-white/30 text-slate-900 dark:text-white placeholder:text-slate-500 dark:placeholder:text-gray-400 focus:border-[var(--monastery-gold)] focus:ring-[var(--monastery-gold)]/50 dark:backdrop-blur-sm",required:!0})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Gl,{htmlFor:"password",className:"font-medium text-slate-800 dark:text-white",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(Ey,{className:"absolute w-5 h-5 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),h.jsx(Hi,{id:"password",type:y?"text":"password",value:I.password,onChange:H=>P({...I,password:H.target.value}),placeholder:"        Enter your password",className:"pl-14 pr-12 h-12 bg-white/90 dark:bg-white/10 border-slate-300 dark:border-white/30 text-slate-900 dark:text-white placeholder:text-slate-500 dark:placeholder:text-gray-400 focus:border-[var(--monastery-gold)] focus:ring-[var(--monastery-gold)]/50 dark:backdrop-blur-sm",required:!0}),h.jsx("button",{type:"button",onClick:()=>x(!y),className:"absolute text-gray-400 transition-colors transform -translate-y-1/2 right-3 top-1/2 hover:text-white",children:y?h.jsx(xy,{className:"w-5 h-5"}):h.jsx(Bo,{className:"w-5 h-5"})})]}),f==="register"&&I.password&&h.jsxs(Ee.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-2",children:[h.jsxs("div",{className:"flex space-x-1",children:[h.jsx("div",{className:`h-1 flex-1 rounded ${z.weak?"bg-red-400":z.medium?"bg-yellow-400":z.strong?"bg-green-400":"bg-gray-600"}`}),h.jsx("div",{className:`h-1 flex-1 rounded ${z.medium||z.strong?"bg-yellow-400":"bg-gray-600"}`}),h.jsx("div",{className:`h-1 flex-1 rounded ${z.strong?"bg-green-400":"bg-gray-600"}`})]}),h.jsx("p",{className:"text-xs text-gray-400",children:z.strong?" Strong password":z.medium?" Good password":" Use 6+ characters"})]})]}),f==="register"&&h.jsxs(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[h.jsx(Gl,{htmlFor:"confirmPassword",className:"font-medium text-slate-800 dark:text-white",children:"Confirm Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(Ey,{className:"absolute w-5 h-5 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),h.jsx(Hi,{id:"confirmPassword",type:E?"text":"password",value:I.confirmPassword,onChange:H=>P({...I,confirmPassword:H.target.value}),placeholder:"      Confirm your password",className:"pl-14 pr-12 h-12 bg-white/90 dark:bg-white/10 border-slate-300 dark:border-white/30 text-slate-900 dark:text-white placeholder:text-slate-500 dark:placeholder:text-gray-400 focus:border-[var(--monastery-gold)] focus:ring-[var(--monastery-gold)]/50 dark:backdrop-blur-sm",required:!0}),h.jsx("button",{type:"button",onClick:()=>k(!E),className:"absolute text-gray-400 transition-colors transform -translate-y-1/2 right-3 top-1/2 hover:text-white",children:E?h.jsx(xy,{className:"w-5 h-5"}):h.jsx(Bo,{className:"w-5 h-5"})})]}),I.confirmPassword&&h.jsx("div",{className:"flex items-center space-x-2 text-xs",children:I.password===I.confirmPassword?h.jsxs(h.Fragment,{children:[h.jsx(kD,{className:"w-3 h-3 text-green-400"}),h.jsx("span",{className:"text-green-400",children:"Passwords match"})]}):h.jsx("span",{className:"text-red-400",children:"Passwords don't match"})})]}),f==="login"&&h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("label",{className:"flex items-center space-x-2 text-black cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"w-4 h-4 text-[var(--monastery-gold)] bg-white/10 border-white/30 rounded focus:ring-[var(--monastery-gold)] focus:ring-2"}),h.jsx("span",{children:"Remember me"})]}),h.jsx("button",{type:"button",className:"text-[var(--monastery-gold)] hover:text-[var(--monastery-saffron)] transition-colors",children:"Forgot password?"})]}),c&&h.jsx(Ee.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},className:"p-4 border rounded-lg bg-red-500/20 border-red-500/30 backdrop-blur-sm",children:h.jsx("p",{className:"text-sm font-medium text-red-200",children:c})})]}),h.jsxs(QI,{className:"flex flex-col items-center pt-4 space-y-4",children:[h.jsx(ze,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] hover:from-[var(--monastery-gold)] hover:to-[var(--monastery-saffron)] text-white font-semibold text-base shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",disabled:o||f==="register"&&I.password!==I.confirmPassword,children:o?h.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[h.jsx(YT,{className:"w-5 h-5 animate-spin"}),h.jsx("span",{children:f==="login"?"Signing you in...":"Creating account..."})]}):h.jsx(h.Fragment,{children:f==="login"?h.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[h.jsx(QT,{className:"w-5 h-5"}),h.jsx("span",{children:"Sign In to Continue"})]}):h.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[h.jsx(gm,{className:"w-5 h-5"}),h.jsx("span",{children:"Create My Account"})]})})}),f==="register"&&h.jsx("div",{className:"w-full px-2",children:h.jsxs("p",{className:"max-w-sm mx-auto text-xs leading-relaxed text-center text-slate-600 dark:text-gray-400",children:["By creating an account, you agree to our"," ",h.jsx("button",{type:"button",className:"text-[var(--monastery-gold)] hover:text-[var(--monastery-saffron)] hover:underline font-medium transition-colors inline",children:"Terms of Service"})," ","and"," ",h.jsx("button",{type:"button",className:"text-[var(--monastery-gold)] hover:text-[var(--monastery-saffron)] hover:underline font-medium transition-colors inline",children:"Privacy Policy"}),"."]})})]})]})]})})]})}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 pointer-events-none bg-gradient-to-t from-black/30 to-transparent"})]})}const k2=v.createContext(void 0);function HY({children:t}){const[e,n]=v.useState([{id:"1",text:` **Namaste! Welcome to Monastery360**

I'm your personal AI monastery guide, powered by advanced machine learning to provide you with authentic, context-aware assistance.

 **My Expertise:**
 **Sacred Sites** - Detailed monastery information
 **Smart Navigation** - AI-powered location services
 **Accommodation** - Curated hotel recommendations
 **Virtual Reality** - Immersive 360 experiences
 **Local Experts** - Connect with verified guides
 **Travel Planning** - Personalized itineraries

 **Ask me anything** - I learn and adapt to provide better responses!

What spiritual journey can I help you plan today?`,sender:"bot",timestamp:new Date,type:"text"}]),[r,s]=v.useState(!1),[o,l]=v.useState(!1),c=f=>{const p={...f,id:Date.now().toString(),timestamp:new Date};n(y=>[...y,p])},u=()=>{n([{id:"1",text:" Welcome back! How can I help you explore the world of monasteries today?",sender:"bot",timestamp:new Date,type:"text"}])};return h.jsx(k2.Provider,{value:{messages:e,isOpen:r,isTyping:o,addMessage:c,setIsOpen:s,setIsTyping:l,clearMessages:u},children:t})}function S2(){const t=v.useContext(k2);if(t===void 0)throw new Error("useChatbot must be used within a ChatbotProvider");return t}function $Y(){const{isOpen:t,setIsOpen:e,messages:n}=S2(),[r,s]=v.useState(!1),[o,l]=v.useState(!0),[c,u]=v.useState(!1);v.useEffect(()=>{const p=n[n.length-1];p&&p.sender==="bot"&&!t&&u(!0)},[n,t]),v.useEffect(()=>{t&&u(!1)},[t]),v.useEffect(()=>{const p=setTimeout(()=>l(!1),5e3);return()=>clearTimeout(p)},[]);const f=()=>{e(!t),u(!1)};return h.jsxs("div",{className:"fixed bottom-6 right-6 z-[9999]",style:{position:"fixed",bottom:"24px",right:"24px",zIndex:99999,pointerEvents:"auto"},children:[h.jsx(hv,{children:(r||o)&&!t&&h.jsx(Ee.div,{initial:{opacity:0,x:20,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:20,scale:.8},className:"absolute bottom-20 right-0 mb-2",style:{bottom:"80px",right:"0px"},children:h.jsxs("div",{className:"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white px-4 py-2 rounded-full shadow-lg text-sm font-medium whitespace-nowrap",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Gi,{className:"w-4 h-4"}),h.jsx("span",{children:"Ask me about monasteries!"})]}),h.jsx("div",{className:"absolute bottom-[-6px] right-4 w-0 h-0 border-l-6 border-r-6 border-t-6 border-l-transparent border-r-transparent border-t-[var(--monastery-gold)]"})]})})}),h.jsxs(Ee.div,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onHoverStart:()=>s(!0),onHoverEnd:()=>s(!1),className:"relative",children:[h.jsxs(ze,{onClick:f,className:`
            w-16 h-16 rounded-full shadow-2xl border-2 border-white/20
            bg-gradient-to-br from-[var(--monastery-saffron)] via-[var(--monastery-gold)] to-[var(--monastery-maroon)]
            hover:shadow-[0_0_30px_rgba(245,158,11,0.5)]
            hover:scale-105 active:scale-95
            transition-all duration-300 ease-in-out
            relative overflow-hidden group
            ${t?"rotate-45":"rotate-0"}
          `,style:{position:"relative",zIndex:1e4,cursor:"pointer",pointerEvents:"auto"},type:"button",role:"button","aria-label":t?"Close chat":"Open chat",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),h.jsx(Ee.div,{animate:{rotate:t?45:0},transition:{duration:.3},className:"relative z-10 text-white",children:t?h.jsx(X4,{className:"w-7 h-7"}):h.jsx(XT,{className:"w-7 h-7"})}),(o||c)&&!t&&h.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white/60 animate-ping"})]}),c&&!t&&h.jsx(Ee.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center border-2 border-white shadow-lg",children:h.jsx(Ee.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-3 h-3 bg-white rounded-full"})}),h.jsx(Ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1},className:"absolute -bottom-1 -right-1 bg-gradient-to-r from-purple-500 to-blue-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg border border-white/30",children:"AI"})]}),h.jsx(hv,{children:r&&!t&&h.jsx(h.Fragment,{children:[...Array(3)].map((p,y)=>h.jsx(Ee.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1,0],x:[0,(y-1)*20],y:[0,-30-y*10]},transition:{duration:2,delay:y*.2,repeat:1/0,repeatDelay:1},className:"absolute top-2 left-2 w-2 h-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full"},y))})})]})}const dt={rumtek:{location:"Sikkim, India",description:"The largest monastery in Sikkim, also known as Dharmachakra Centre",coordinates:{lat:27.2837,lng:88.5635},visitingHours:"6:00 AM - 6:00 PM",entryFee:"Free",bestTime:"March to May, September to November",nearbyHotels:["Hotel Sikkim Continental - 2km","Summit Norling Resort - 5km","Hotel Golden Heights - 3km"],guides:[{name:"Tenzin Norbu",phone:"+91-9876543210",experience:"10 years"},{name:"Karma Lama",phone:"+91-9876543211",experience:"8 years"}]},tawang:{location:"Arunachal Pradesh, India",description:"The largest monastery in India and second largest in the world",coordinates:{lat:27.5862,lng:91.8674},visitingHours:"5:00 AM - 8:00 PM",entryFee:"Free",bestTime:"April to October",nearbyHotels:["Hotel Tawang Heights - 1km","Dragon Hotel - 2km","Hotel Mon Paradise - 3km"],guides:[{name:"Lobsang Tenzin",phone:"+91-9876543212",experience:"12 years"},{name:"Sonam Dorjee",phone:"+91-9876543213",experience:"15 years"}]},general:{visiting_etiquette:["Dress modestly and respectfully","Remove shoes before entering prayer halls","Maintain silence in meditation areas","Don't point feet towards Buddha statues","Photography may be restricted in certain areas","Show respect to monks and practitioners"],best_practices:["Visit early morning for peaceful experience","Bring offerings like khada (white scarf) if appropriate","Learn basic Buddhist greetings","Respect ongoing prayer sessions","Follow guide instructions carefully"]}},WY={location:[/where is|location of|find|directions to/i,/how to reach|how to get to/i,/address|coordinates/i],hotel:[/hotel|accommodation|stay|lodge|guest house/i,/where to stay|place to stay/i,/booking|reservation/i],virtual_tour:[/virtual tour|360|video tour|online tour/i,/watch|view|see online/i,/virtual visit|virtual experience/i],guide:[/guide|local guide|tour guide/i,/contact guide|speak to guide/i,/guide number|guide contact/i],visiting_info:[/visiting hours|opening hours|timings/i,/entry fee|ticket price|cost/i,/best time to visit|when to visit/i],etiquette:[/etiquette|rules|guidelines/i,/what to wear|dress code/i,/do and don't|dos and don'ts/i]};function GY(t,e){const r=t.slice(-3).map(o=>o.text.toLowerCase().includes("rumtek")?"rumtek":o.text.toLowerCase().includes("tawang")?"tawang":o.text.toLowerCase().includes("hotel")?"accommodation":o.text.toLowerCase().includes("guide")?"guide_services":null).filter(Boolean),s=e.toLowerCase().includes("rumtek")?"rumtek":e.toLowerCase().includes("tawang")?"tawang":null;return{recentTopics:r,currentTopic:s,isFollowUp:t.length>0,lastBotResponse:t.filter(o=>o.sender==="bot").slice(-1)[0]?.text||""}}function qY(t,e){const n=t.toLowerCase();if((e?.recentTopics.includes("rumtek")||e?.recentTopics.includes("tawang"))&&/yes|sure|okay|please|go ahead/i.test(n))return"affirmative_response";for(const[r,s]of Object.entries(WY))if(s.some(o=>o.test(n)))return r;return/rumtek/i.test(n)?"rumtek_info":/tawang/i.test(n)?"tawang_info":"general"}async function KY(t,e){const n=t.toLowerCase(),r=GY(e||[],t),s=qY(t,r);let o="",l="text",c={};switch(s){case"affirmative_response":r.lastBotResponse.includes("show you on the map")?(o=` **Perfect!** I'm taking you to our interactive map where you can explore monastery locations, get directions, and discover nearby attractions.

 **Map Features:**
 Detailed monastery locations
 Turn-by-turn directions
 Nearby amenities
 Cultural points of interest

Click the "View on Map" button or navigate to our Map page!`,l="location",c={action:"navigate_to_map"}):r.lastBotResponse.includes("virtual tour")?(o=` **Excellent choice!** Let me guide you to our immersive 360 virtual tour experience.

 **What awaits you:**
 Interactive 360 monastery exploration
 High-definition video quality
 Mouse/touch navigation
 Multiple viewing angles

Ready to begin your virtual journey?`,l="virtual_tour",c={action:"navigate_to_tour"}):o=` **Great!** How else can I assist you with your monastery exploration today?

 **I can help with:**
 Finding specific locations
 Booking accommodations
 Connecting with local guides
 Planning your visit`;break;case"location":n.includes("rumtek")?(o=` **Rumtek Monastery Location**

${dt.rumtek.description}

 **Address:** ${dt.rumtek.location}
 **Hours:** ${dt.rumtek.visitingHours}

 Would you like me to show you on the map?`,l="location",c={monastery:"rumtek",coordinates:dt.rumtek.coordinates}):n.includes("tawang")?(o=` **Tawang Monastery Location**

${dt.tawang.description}

 **Address:** ${dt.tawang.location}
 **Hours:** ${dt.tawang.visitingHours}

 Would you like me to show you on the map?`,l="location",c={monastery:"tawang",coordinates:dt.tawang.coordinates}):o=` I can help you find monastery locations! Which monastery are you interested in?

 **Available Options:**
 Rumtek Monastery (Sikkim)
 Tawang Monastery (Arunachal Pradesh)

Just ask about any specific monastery!`;break;case"hotel":n.includes("rumtek")?(o=` **Hotels near Rumtek Monastery**

${dt.rumtek.nearbyHotels.map(u=>` ${u}`).join(`
`)}

 **Best time to visit:** ${dt.rumtek.bestTime}

 Would you like help with booking or more details about any hotel?`,l="hotel",c={monastery:"rumtek",hotels:dt.rumtek.nearbyHotels}):n.includes("tawang")?(o=` **Hotels near Tawang Monastery**

${dt.tawang.nearbyHotels.map(u=>` ${u}`).join(`
`)}

 **Best time to visit:** ${dt.tawang.bestTime}

 Would you like help with booking or more details about any hotel?`,l="hotel",c={monastery:"tawang",hotels:dt.tawang.nearbyHotels}):o=` I can help you find accommodation near monasteries! Which monastery are you planning to visit?

 **Options:**
 Rumtek Monastery area
 Tawang Monastery area

Let me know your preference!`;break;case"virtual_tour":o=` **Virtual Tour Experience**

Explore our immersive 360 monastery tours!

 **Available Tours:**
 Interior Monastery Experience
 Tawang Monastery Journey
 360 Outside Views

 **Features:**
 Interactive 360 videos
 Mouse drag navigation
 Full HD quality

 Would you like me to take you to the virtual tour page?`,l="virtual_tour",c={action:"navigate_to_tour"};break;case"guide":n.includes("rumtek")?(o=` **Local Guides - Rumtek Monastery**

${dt.rumtek.guides.map(u=>` **${u.name}**
   ${u.phone}
   Experience: ${u.experience}`).join(`

`)}

 Would you like me to help you contact a guide?`,l="guide_contact",c={monastery:"rumtek",guides:dt.rumtek.guides}):n.includes("tawang")?(o=` **Local Guides - Tawang Monastery**

${dt.tawang.guides.map(u=>` **${u.name}**
   ${u.phone}
   Experience: ${u.experience}`).join(`

`)}

 Would you like me to help you contact a guide?`,l="guide_contact",c={monastery:"tawang",guides:dt.tawang.guides}):o=` I can connect you with experienced local guides!

 **Which monastery:**
 Rumtek Monastery guides
 Tawang Monastery guides

Our guides offer:
 Cultural insights
 Historical knowledge
 Language assistance
 Photography tips`;break;case"visiting_info":o=` **Visiting Information**

 **Rumtek Monastery:**
 Hours: ${dt.rumtek.visitingHours}
 Entry: ${dt.rumtek.entryFee}
 Best time: ${dt.rumtek.bestTime}

 **Tawang Monastery:**
 Hours: ${dt.tawang.visitingHours}
 Entry: ${dt.tawang.entryFee}
 Best time: ${dt.tawang.bestTime}`;break;case"etiquette":o=` **Monastery Visiting Etiquette**

 **Dress Code:**
${dt.general.visiting_etiquette.slice(0,3).map(u=>` ${u}`).join(`
`)}

 **Behavioral Guidelines:**
${dt.general.visiting_etiquette.slice(3).map(u=>` ${u}`).join(`
`)}

 **Best Practices:**
${dt.general.best_practices.slice(0,3).map(u=>` ${u}`).join(`
`)}`;break;case"rumtek_info":o=` **Rumtek Monastery**

${dt.rumtek.description}

 **Location:** ${dt.rumtek.location}
 **Hours:** ${dt.rumtek.visitingHours}
 **Entry:** ${dt.rumtek.entryFee}
 **Best Time:** ${dt.rumtek.bestTime}

 **What would you like to know more about?**
  Location & directions
  Nearby hotels
  Local guides
  Virtual tour`;break;case"tawang_info":o=` **Tawang Monastery**

${dt.tawang.description}

 **Location:** ${dt.tawang.location}
 **Hours:** ${dt.tawang.visitingHours}
 **Entry:** ${dt.tawang.entryFee}
 **Best Time:** ${dt.tawang.bestTime}

 **What would you like to know more about?**
  Location & directions
  Nearby hotels
  Local guides
  Virtual tour`;break;default:o=` I'd love to help you with monastery-related questions! Here's what I can assist with:

 **Find Locations** - "Where is Rumtek Monastery?"
 **Hotel Recommendations** - "Hotels near Tawang?"
 **Virtual Tours** - "Show me virtual tour"
 **Local Guides** - "Connect me with a guide"
 **Visit Planning** - "Best time to visit?"
 **Etiquette Guide** - "Monastery rules?"

 Just ask me anything about monasteries!`;break}return await new Promise(u=>setTimeout(u,1e3+Math.random()*1e3)),{text:o,sender:"bot",type:l,metadata:c}}function YY(){const{messages:t,isOpen:e,isTyping:n,addMessage:r,setIsTyping:s,clearMessages:o}=S2(),[l,c]=v.useState(""),[u,f]=v.useState(!1),p=v.useRef(null),y=v.useRef(null),x=hc();v.useEffect(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[t]),v.useEffect(()=>{e&&y.current&&setTimeout(()=>y.current?.focus(),100)},[e]);const E=async()=>{if(!l.trim()||u)return;const A=l.trim();c(""),f(!0),s(!0),r({text:A,sender:"user",type:"text"});try{const z=await KY(A,t);r(z)}catch(z){console.error("Error generating AI response:",z),r({text:" Sorry, I encountered an error. Please try again or ask me something else about monasteries!",sender:"bot",type:"text"})}finally{f(!1),s(!1)}},k=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),E())},I=(A,z)=>{switch(A){case"virtual_tour":x("/virtual-tour");break;case"map_location":x("/map");break;case"contact_guide":z?.phone&&window.open(`tel:${z.phone}`,"_blank");break;case"hotel_booking":window.open("https://www.booking.com/searchresults.html?ss="+encodeURIComponent(z?.location||"monastery"),"_blank");break}},P=({message:A})=>A.metadata?h.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[A.type==="location"&&h.jsxs(ze,{size:"sm",onClick:()=>I("map_location",A.metadata),className:"bg-blue-500 hover:bg-blue-600 text-white text-xs py-1 px-3 rounded-full",children:[h.jsx(Nr,{className:"w-3 h-3 mr-1"}),"View on Map"]}),A.type==="hotel"&&h.jsxs(ze,{size:"sm",onClick:()=>I("hotel_booking",A.metadata),className:"bg-green-500 hover:bg-green-600 text-white text-xs py-1 px-3 rounded-full",children:[h.jsx(_y,{className:"w-3 h-3 mr-1"}),"Book Hotels"]}),A.type==="virtual_tour"&&h.jsxs(ze,{size:"sm",onClick:()=>I("virtual_tour"),className:"bg-purple-500 hover:bg-purple-600 text-white text-xs py-1 px-3 rounded-full",children:[h.jsx(jo,{className:"w-3 h-3 mr-1"}),"Start Tour"]}),A.type==="guide_contact"&&A.metadata?.guides&&A.metadata.guides.map((z,H)=>h.jsxs(ze,{size:"sm",onClick:()=>I("contact_guide",{phone:z.phone}),className:"bg-orange-500 hover:bg-orange-600 text-white text-xs py-1 px-3 rounded-full",children:[h.jsx(Ty,{className:"w-3 h-3 mr-1"}),"Call ",z.name.split(" ")[0]]},H))]}):null,D=()=>h.jsxs("div",{className:"p-3 border-t bg-gray-50 dark:bg-gray-800",children:[h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 font-medium",children:"Quick actions:"}),h.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[h.jsxs(ze,{size:"sm",onClick:()=>c("Where is Rumtek Monastery?"),className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-200 hover:bg-gray-50 text-xs py-1.5 px-2 rounded-lg",children:[h.jsx(Nr,{className:"w-3 h-3 mr-1"}),"Find Location"]}),h.jsxs(ze,{size:"sm",onClick:()=>c("Show me virtual tour"),className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-200 hover:bg-gray-50 text-xs py-1.5 px-2 rounded-lg",children:[h.jsx(jo,{className:"w-3 h-3 mr-1"}),"Virtual Tour"]}),h.jsxs(ze,{size:"sm",onClick:()=>c("Hotels near Tawang?"),className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-200 hover:bg-gray-50 text-xs py-1.5 px-2 rounded-lg",children:[h.jsx(_y,{className:"w-3 h-3 mr-1"}),"Find Hotels"]}),h.jsxs(ze,{size:"sm",onClick:()=>c("Connect me with a guide"),className:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-200 hover:bg-gray-50 text-xs py-1.5 px-2 rounded-lg",children:[h.jsx(Ty,{className:"w-3 h-3 mr-1"}),"Local Guides"]})]})]});return e?h.jsx(hv,{children:h.jsxs(Ee.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",damping:20,stiffness:300},className:"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",style:{position:"fixed",bottom:"100px",right:"24px",width:"320px",height:"480px",zIndex:9998,pointerEvents:"auto",maxWidth:"90vw",maxHeight:"70vh",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04), 0 0 0 1px rgba(0, 0, 0, 0.05)"},children:[h.jsx("div",{className:"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] p-3 text-white",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:h.jsx(vD,{className:"w-4 h-4 text-white"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-base",children:"Monastery AI Guide"}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"}),h.jsx("span",{className:"text-xs opacity-90",children:"Online & Ready"})]})]})]}),h.jsx(ze,{size:"sm",onClick:o,className:"bg-white/20 hover:bg-white/30 text-white border-none p-1.5 rounded-full",title:"Clear Chat",children:h.jsx(j4,{className:"w-3 h-3"})})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",style:{height:"300px"},children:[t.map(A=>h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex ${A.sender==="user"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`max-w-[85%] ${A.sender==="user"?"order-2":"order-1"}`,children:[A.sender==="bot"&&h.jsxs("div",{className:"flex items-center space-x-1.5 mb-1",children:[h.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] rounded-full flex items-center justify-center",children:h.jsx(Gi,{className:"w-2.5 h-2.5 text-white"})}),h.jsx(Nt,{className:"bg-blue-100 text-blue-800 text-xs px-1.5 py-0.5",children:"AI"})]}),h.jsxs("div",{className:`p-2.5 rounded-xl ${A.sender==="user"?"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] text-white ml-auto":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}`,children:[h.jsx("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:A.text}),h.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs opacity-70",children:[h.jsx("span",{children:A.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),A.type&&A.type!=="text"&&h.jsx(Nt,{className:"ml-2 text-xs py-0 px-2",children:A.type.replace("_"," ")})]})]}),h.jsx(P,{message:A})]})},A.id)),n&&h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:h.jsxs("div",{className:"flex items-center space-x-1.5",children:[h.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] rounded-full flex items-center justify-center",children:h.jsx(Gi,{className:"w-2.5 h-2.5 text-white"})}),h.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-xl",children:h.jsxs("div",{className:"flex space-x-1",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce"}),h.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),h.jsx("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),h.jsx("div",{ref:p})]}),t.length<=1&&h.jsx(D,{}),h.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-3",children:[h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Hi,{ref:y,value:l,onChange:A=>c(A.target.value),onKeyPress:k,placeholder:"Ask about monasteries...",className:"flex-1 rounded-full border-gray-300 focus:border-[var(--monastery-gold)] focus:ring-[var(--monastery-gold)] text-sm h-8",disabled:u}),h.jsx(ze,{onClick:E,disabled:!l.trim()||u,className:"bg-gradient-to-r from-[var(--monastery-saffron)] to-[var(--monastery-gold)] hover:opacity-90 text-white rounded-full px-3 h-8 shadow-lg",children:u?h.jsx(Ee.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0},className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full"}):h.jsx(b4,{className:"w-3 h-3"})})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1.5 text-center",children:"AI monastery assistant "})]})]})}):null}function QY(){const[t,e]=v.useState(!1),[n,r]=v.useState(null),s=Zi(),o=s.pathname.slice(1)||"home";v.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),v.useEffect(()=>{fetch("/api/monasteries").then(c=>c.json()).then(()=>r("ok")).catch(()=>r("error"))},[]);const l=s.pathname==="/";return h.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[h.jsx(QU,{currentPage:o,isDark:t,onThemeToggle:()=>e(!t)}),h.jsxs("main",{className:`flex-1 ${l?"pt-16":"container mx-auto px-4 pt-20 pb-12"}`,children:[n==="error"&&h.jsx("div",{className:"mb-4 p-3 rounded border border-red-300 text-red-700 bg-red-50",children:"Backend not reachable at /api. Start Spring Boot on port 8080."}),h.jsx(xR,{})]}),h.jsx(XU,{}),h.jsx($Y,{}),h.jsx(YY,{}),!1]})}const XY=$R([{path:"/",element:h.jsx(QY,{}),children:[{path:"",element:h.jsx(M$,{})},{path:"virtual-tour",element:h.jsx(A$,{})},{path:"map",element:h.jsx(EG,{},"map-page")},{path:"archive",element:h.jsx(kG,{})},{path:"audio-guide",element:h.jsx(DG,{})},{path:"calendar",element:h.jsx(kY,{})},{path:"community",element:h.jsx(OY,{})},{path:"future",element:h.jsx(VY,{})},{path:"login",element:h.jsx(zY,{})},{path:"register",element:h.jsx(BY,{})},{path:"*",element:h.jsx(wR,{to:"/",replace:!0})}]}]);function JY(){return h.jsx(YU,{children:h.jsx(HY,{children:h.jsx(nj,{router:XY})})})}zL.createRoot(document.getElementById("root")).render(h.jsx(JY,{}));
